{
  mPost.setUploading(false);
  WordPress.wpDB.updatePost(mPost);
  if (postUploadedSuccessfully) {
    WordPress.postUploaded(mPost.getLocalTableBlogId(),mPost.getRemotePostId(),mPost.isPage());
    mPostUploadNotifier.cancelNotification();
    WordPress.wpDB.deleteMediaFilesForPost(mPost);
  }
 else {
    WordPress.postUploadFailed(mPost.getLocalTableBlogId());
    mPostUploadNotifier.updateNotificationWithError(mErrorMessage,mIsMediaError,mPost.isPage(),mErrorUnavailableVideoPress);
  }
  postUploaded();
}
