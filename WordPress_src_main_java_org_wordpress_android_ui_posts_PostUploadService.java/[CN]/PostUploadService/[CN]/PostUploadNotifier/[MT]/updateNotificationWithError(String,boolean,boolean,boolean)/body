{
  AppLog.d(T.POSTS,"updateNotificationWithError: " + mErrorMessage);
  Builder notificationBuilder=new NotificationCompat.Builder(getApplicationContext());
  String postOrPage=(String)(isPage ? mContext.getResources().getText(R.string.page_id) : mContext.getResources().getText(R.string.post_id));
  Intent notificationIntent=new Intent(mContext,isPage ? PagesActivity.class : PostsActivity.class);
  notificationIntent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);
  notificationIntent.putExtra(PostsActivity.EXTRA_VIEW_PAGES,isPage);
  notificationIntent.putExtra(PostsActivity.EXTRA_ERROR_MSG,mErrorMessage);
  if (isVideoPressError) {
    notificationIntent.putExtra(PostsActivity.EXTRA_ERROR_INFO_TITLE,getString(R.string.learn_more));
    notificationIntent.putExtra(PostsActivity.EXTRA_ERROR_INFO_LINK,Constants.videoPressURL);
  }
  notificationIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
  PendingIntent pendingIntent=PendingIntent.getActivity(mContext,0,notificationIntent,PendingIntent.FLAG_UPDATE_CURRENT);
  String errorText=mContext.getResources().getText(R.string.upload_failed).toString();
  if (isMediaError) {
    errorText=mContext.getResources().getText(R.string.media) + " " + mContext.getResources().getText(R.string.error);
  }
  notificationBuilder.setSmallIcon(android.R.drawable.stat_notify_error);
  notificationBuilder.setContentTitle((isMediaError) ? errorText : mContext.getResources().getText(R.string.upload_failed));
  notificationBuilder.setContentText((isMediaError) ? mErrorMessage : postOrPage + " " + errorText+ ": "+ mErrorMessage);
  notificationBuilder.setContentIntent(pendingIntent);
  notificationBuilder.setAutoCancel(true);
  if (mNotificationErrorId == 0) {
    mNotificationErrorId=mNotificationId + (new Random()).nextInt();
  }
  mNotificationManager.notify(mNotificationErrorId,notificationBuilder.build());
}
