{
  Vector settings=new Vector();
  settingsDB settingsDB=new settingsDB(moderateCommentsTab.this);
  settings=settingsDB.loadSettings(moderateCommentsTab.this,id);
  String sURL="";
  if (settings.get(0).toString().contains("xmlrpc.php")) {
    sURL=settings.get(0).toString();
  }
 else {
    sURL=settings.get(0).toString() + "xmlrpc.php";
  }
  String sUsername=settings.get(2).toString();
  String sPassword=settings.get(3).toString();
  client=new XMLRPCClient(sURL);
  ListView lv=getListView();
  Object curListItem;
  ListAdapter la=lv.getAdapter();
  HashMap replyHash=new HashMap();
  replyHash.put("comment_parent",commentID);
  replyHash.put("content",comment);
  replyHash.put("author","");
  replyHash.put("author_url","");
  replyHash.put("author_email","");
  Object[] params={1,sUsername,sPassword,Integer.valueOf(postID),replyHash};
  Object result=null;
  try {
    result=(Object)client.call("wp.newComment",params);
    dismissDialog(ID_DIALOG_REPLYING);
    Thread action=new Thread(){
      public void run(){
        Toast.makeText(moderateCommentsTab.this,"Reply Added Succesfully",Toast.LENGTH_SHORT).show();
      }
    }
;
    this.runOnUiThread(action);
    Thread action2=new Thread(){
      public void run(){
        pd=new ProgressDialog(moderateCommentsTab.this);
        refreshComments();
      }
    }
;
    this.runOnUiThread(action2);
  }
 catch (  XMLRPCException e) {
    dismissDialog(ID_DIALOG_REPLYING);
    AlertDialog.Builder dialogBuilder=new AlertDialog.Builder(moderateCommentsTab.this);
    dialogBuilder.setTitle("Connection Error");
    dialogBuilder.setMessage(e.getMessage());
    dialogBuilder.setPositiveButton("OK",new DialogInterface.OnClickListener(){
      public void onClick(      DialogInterface dialog,      int whichButton){
      }
    }
);
    dialogBuilder.setCancelable(true);
    dialogBuilder.create().show();
  }
}
