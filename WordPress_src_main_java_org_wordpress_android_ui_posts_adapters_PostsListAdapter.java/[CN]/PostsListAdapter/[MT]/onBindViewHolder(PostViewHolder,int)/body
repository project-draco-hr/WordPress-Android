{
  PostsListPost post=mPosts.get(position);
  Context context=holder.itemView.getContext();
  if (post.hasTitle()) {
    holder.txtTitle.setText(post.getTitle());
  }
 else {
    holder.txtTitle.setText("(" + context.getResources().getText(R.string.untitled) + ")");
  }
  if (post.hasExcerpt()) {
    holder.txtExcerpt.setVisibility(View.VISIBLE);
    holder.txtExcerpt.setText(post.getExcerpt());
  }
 else {
    holder.txtExcerpt.setVisibility(View.GONE);
  }
  if (post.hasFeaturedImageUrl()) {
    holder.imgFeatured.setVisibility(View.VISIBLE);
    holder.imgFeatured.setImageUrl(post.getFeaturedImageUrl(),WPNetworkImageView.ImageType.PHOTO);
  }
 else {
    holder.imgFeatured.setVisibility(View.GONE);
  }
  if (post.isLocalDraft()) {
    holder.txtDate.setVisibility(View.GONE);
    holder.btnTrash.setButtonType(PostListButton.BUTTON_DELETE);
  }
 else {
    holder.txtDate.setText(post.getFormattedDate());
    holder.txtDate.setVisibility(View.VISIBLE);
    holder.btnTrash.setButtonType(PostListButton.BUTTON_TRASH);
  }
  updateStatusText(holder.txtStatus,post);
  View.OnClickListener btnClickListener=new View.OnClickListener(){
    @Override public void onClick(    View v){
      postButtonClicked((PostListButton)v,holder,position);
    }
  }
;
  holder.btnEdit.setOnClickListener(btnClickListener);
  holder.btnViewOrPublish.setOnClickListener(btnClickListener);
  holder.btnStats.setOnClickListener(btnClickListener);
  holder.btnTrash.setOnClickListener(btnClickListener);
  holder.btnMore.setOnClickListener(btnClickListener);
  holder.btnBack.setOnClickListener(btnClickListener);
  int numVisibleButtons;
  boolean canShowStatsButton;
  if (post.isLocalDraft() || post.hasLocalChanges()) {
    holder.btnViewOrPublish.setButtonType(PostListButton.BUTTON_PUBLISH);
    canShowStatsButton=false;
    numVisibleButtons=3;
  }
 else {
    holder.btnViewOrPublish.setButtonType(PostListButton.BUTTON_VIEW);
    canShowStatsButton=mIsStatsSupported;
    if (mIsStatsSupported) {
      numVisibleButtons=4;
    }
 else {
      numVisibleButtons=3;
    }
  }
  if (mAlwaysShowAllButtons || numVisibleButtons <= 3) {
    holder.btnMore.setVisibility(View.GONE);
    holder.btnBack.setVisibility(View.GONE);
    holder.btnTrash.setVisibility(View.VISIBLE);
    holder.btnStats.setVisibility(canShowStatsButton ? View.VISIBLE : View.GONE);
  }
 else {
    holder.btnMore.setVisibility(View.VISIBLE);
    holder.btnBack.setVisibility(View.GONE);
    holder.btnTrash.setVisibility(View.GONE);
    holder.btnStats.setVisibility(View.GONE);
  }
  if (mOnLoadMoreListener != null && position >= getItemCount() - 1 && position >= PostsListFragment.POSTS_REQUEST_COUNT - 1) {
    mOnLoadMoreListener.onLoadMore();
  }
  holder.itemView.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      PostsListPost selectedPost=getItem(position);
      if (mOnPostSelectedListener != null && selectedPost != null) {
        mOnPostSelectedListener.onPostSelected(selectedPost);
      }
    }
  }
);
}
