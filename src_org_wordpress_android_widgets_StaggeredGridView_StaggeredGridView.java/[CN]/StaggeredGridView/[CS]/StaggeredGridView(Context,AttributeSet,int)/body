{
  super(context,attrs,defStyle);
  if (attrs != null) {
    TypedArray a=getContext().obtainStyledAttributes(attrs,R.styleable.StaggeredGridView);
    mColCount=a.getInteger(R.styleable.StaggeredGridView_numColumns,2);
    mDrawSelectorOnTop=a.getBoolean(R.styleable.StaggeredGridView_drawSelectorOnTop,false);
    mItemMargin=(int)a.getDimension(R.styleable.StaggeredGridView_itemMargin,0);
  }
 else {
    mColCount=2;
    mDrawSelectorOnTop=false;
  }
  final ViewConfiguration vc=ViewConfiguration.get(context);
  mTouchSlop=vc.getScaledTouchSlop();
  mMaximumVelocity=vc.getScaledMaximumFlingVelocity();
  mFlingVelocity=vc.getScaledMinimumFlingVelocity();
  mScroller=ScrollerCompat.from(context);
  mTopEdge=new EdgeEffectCompat(context);
  mBottomEdge=new EdgeEffectCompat(context);
  setWillNotDraw(false);
  setClipToPadding(false);
  this.setFocusableInTouchMode(false);
  if (mSelector == null) {
    useDefaultSelector();
  }
}
