{
  int widthMode=MeasureSpec.getMode(widthMeasureSpec);
  int heightMode=MeasureSpec.getMode(heightMeasureSpec);
  int widthSize=MeasureSpec.getSize(widthMeasureSpec);
  int heightSize=MeasureSpec.getSize(heightMeasureSpec);
  if (widthMode != MeasureSpec.EXACTLY) {
    widthMode=MeasureSpec.EXACTLY;
  }
  if (heightMode != MeasureSpec.EXACTLY) {
    heightMode=MeasureSpec.EXACTLY;
  }
  setMeasuredDimension(widthSize,heightSize);
  if (mColCountSetting == COLUMN_COUNT_AUTO) {
    final int colCount=widthSize / mMinColWidth;
    if (colCount != mColCount) {
      mColCount=colCount;
    }
  }
}
