{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.reader_activity_comment_list);
  ActionBar actionBar=getActionBar();
  if (actionBar != null) {
    actionBar.setDisplayShowTitleEnabled(true);
    actionBar.setDisplayHomeAsUpEnabled(true);
  }
  if (savedInstanceState != null) {
    mBlogId=savedInstanceState.getLong(ReaderConstants.ARG_BLOG_ID);
    mPostId=savedInstanceState.getLong(ReaderConstants.ARG_POST_ID);
    mTopMostCommentId=savedInstanceState.getLong(KEY_TOPMOST_COMMENT_ID);
  }
 else {
    mBlogId=getIntent().getLongExtra(ReaderConstants.ARG_BLOG_ID,0);
    mPostId=getIntent().getLongExtra(ReaderConstants.ARG_POST_ID,0);
  }
  loadPost();
  mListView=(WPListView)findViewById(android.R.id.list);
  int height=getResources().getDimensionPixelSize(R.dimen.margin_extra_small);
  ReaderUtils.addListViewHeader(mListView,height);
  mListView.setAdapter(getCommentAdapter());
  ViewGroup layoutCommentBox=(ViewGroup)findViewById(R.id.layout_comment_box);
  layoutCommentBox.setVisibility(View.VISIBLE);
  mEditComment=(EditText)layoutCommentBox.findViewById(R.id.edit_comment);
  mEditComment.setOnEditorActionListener(new TextView.OnEditorActionListener(){
    @Override public boolean onEditorAction(    TextView v,    int actionId,    KeyEvent event){
      if (actionId == EditorInfo.IME_ACTION_DONE || actionId == EditorInfo.IME_ACTION_SEND) {
        submitComment();
      }
      return false;
    }
  }
);
  mImgSubmitComment=(ImageView)layoutCommentBox.findViewById(R.id.image_post_comment);
  mImgSubmitComment.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      submitComment();
    }
  }
);
  if (savedInstanceState != null) {
    setReplyToCommentId(savedInstanceState.getLong(KEY_REPLY_TO_COMMENT_ID));
  }
  refreshComments();
}
