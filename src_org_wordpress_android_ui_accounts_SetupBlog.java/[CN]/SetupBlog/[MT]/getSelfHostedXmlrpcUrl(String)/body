{
  String xmlrpcUrl=null;
  url=UrlUtils.convertUrlToPunycodeIfNeeded(url);
  url=UrlUtils.addHttpProcolIfNeeded(url,mCurrentSslCertificatesForcedTrusted);
  if (!URLUtil.isValidUrl(url)) {
    mErrorMsgId=R.string.invalid_url_message;
    return null;
  }
  String rsdUrl;
  try {
    rsdUrl=getRsdUrl(url);
  }
 catch (  SSLHandshakeException e) {
    if (!UrlUtils.getDomainFromUrl(url).endsWith("wordpress.com")) {
      mErroneousSslCertificate=true;
    }
    AppLog.w(T.NUX,"SSLHandshakeException failed. Erroneous SSL certificate detected.");
    return null;
  }
  try {
    if (rsdUrl != null) {
      xmlrpcUrl=ApiHelper.getXMLRPCUrl(rsdUrl);
      if (xmlrpcUrl == null) {
        xmlrpcUrl=rsdUrl.replace("?rsd","");
      }
    }
 else {
      xmlrpcUrl=getmXmlrpcByUserEnteredPath(url);
    }
  }
 catch (  SSLHandshakeException e) {
    if (!UrlUtils.getDomainFromUrl(url).endsWith("wordpress.com")) {
      mErroneousSslCertificate=true;
    }
    AppLog.w(T.NUX,"SSLHandshakeException failed. Erroneous SSL certificate detected.");
    return null;
  }
  return xmlrpcUrl;
}
