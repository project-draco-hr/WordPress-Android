{
  if (mSelfHostedURL != null && mSelfHostedURL.length() != 0) {
    mXmlrpcUrl=getSelfHostedXmlrpcUrl(mSelfHostedURL);
  }
 else {
    mXmlrpcUrl=Constants.wpcomXMLRPCURL;
  }
  if (mXmlrpcUrl == null) {
    if (!mHttpAuthRequired)     mErrorMsgId=R.string.no_site_error;
    return null;
  }
  URI uri;
  try {
    uri=URI.create(mXmlrpcUrl);
  }
 catch (  Exception e1) {
    mErrorMsgId=R.string.no_site_error;
    return null;
  }
  XMLRPCClientInterface client=XMLRPCFactory.instantiate(uri,mHttpUsername,mHttpPassword);
  Object[] params={mUsername,mPassword};
  try {
    Object[] userBlogs=(Object[])client.call("wp.getUsersBlogs",params);
    if (userBlogs == null) {
      mErrorMsgId=R.string.xmlrpc_error;
      ;
      return null;
    }
    Arrays.sort(userBlogs,Utils.BlogNameComparator);
    List<Map<String,Object>> userBlogList=new ArrayList<Map<String,Object>>();
    for (    Object blog : userBlogs) {
      try {
        userBlogList.add((Map<String,Object>)blog);
      }
 catch (      ClassCastException e) {
        AppLog.e(T.NUX,"invalid data received from XMLRPC call wp.getUsersBlogs");
      }
    }
    return userBlogList;
  }
 catch (  XmlPullParserException parserException) {
    mErrorMsgId=R.string.xmlrpc_error;
    AppLog.e(T.NUX,"invalid data received from XMLRPC call wp.getUsersBlogs",parserException);
  }
catch (  XMLRPCFault xmlRpcFault) {
    AppLog.e(T.NUX,"XMLRPCFault received from XMLRPC call wp.getUsersBlogs",xmlRpcFault);
switch (xmlRpcFault.getFaultCode()) {
case 403:
      mErrorMsgId=R.string.username_or_password_incorrect;
    break;
case 404:
  mErrorMsgId=R.string.xmlrpc_error;
break;
case 425:
mErrorMsgId=R.string.account_two_step_auth_enabled;
break;
default :
mErrorMsgId=R.string.no_site_error;
break;
}
}
catch (XMLRPCException xmlRpcException) {
AppLog.e(T.NUX,"XMLRPCException received from XMLRPC call wp.getUsersBlogs",xmlRpcException);
mErrorMsgId=R.string.no_site_error;
}
catch (IOException e) {
AppLog.e(T.NUX,"Exception received from XMLRPC call wp.getUsersBlogs",e);
if (mCurrentSslCertificatesForcedTrusted) {
TrustedSslDomainTable.removeTrustedDomain(uri);
}
mErrorMsgId=R.string.no_site_error;
}
return null;
}
