{
  GravatarClient client=ServiceGenerator.createService(GravatarClient.class,AccountHelper.getDefaultAccount().getAccessToken(),"Bearer");
  MediaType MultiPartFormData=MediaType.parse("multipart/form-data");
  RequestBody account=RequestBody.create(MultiPartFormData,AccountHelper.getDefaultAccount().getEmail());
  MultipartBody.Part body=MultipartBody.Part.createFormData("filedata",file.getName(),RequestBody.create(MultiPartFormData,file));
  client.uploadImage(account,body).enqueue(new Callback<GravatarUploadResponse>(){
    @Override public void onResponse(    Call<GravatarUploadResponse> call,    Response<GravatarUploadResponse> response){
      if (response.isSuccessful()) {
        gravatarUploadListener.onSuccess();
      }
 else {
        gravatarUploadListener.onError();
      }
    }
    @Override public void onFailure(    Call<GravatarUploadResponse> call,    Throwable t){
      gravatarUploadListener.onError();
    }
  }
);
}
