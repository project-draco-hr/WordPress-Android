{
  if (mSiteSettings.isSameFormatList(mFormatPreference.getEntryValues())) {
    mFormatPreference.setValue(String.valueOf(mSiteSettings.getDefaultFormat()));
    return;
  }
  String[] formats=mSiteSettings.getFormats();
  if (formats == null)   return;
  String[] entries=new String[formats.length];
  String[] values=new String[formats.length];
  for (int i=0; i < formats.length; ++i) {
    entries[i]=formats[i];
    values[i]=formats[i].toLowerCase();
  }
  mFormatPreference.setEntries(entries);
  mFormatPreference.setEntryValues(values);
  mFormatPreference.setValue(String.valueOf(mSiteSettings.getDefaultFormat()));
  mFormatPreference.setSummary(mFormatPreference.getEntry());
}
