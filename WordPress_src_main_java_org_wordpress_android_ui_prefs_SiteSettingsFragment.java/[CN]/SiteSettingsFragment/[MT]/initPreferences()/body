{
  mTitlePreference=(EditTextPreference)findPreference(getString(R.string.pref_key_site_title));
  mTaglinePreference=(EditTextPreference)findPreference(getString(R.string.pref_key_site_tagline));
  mAddressPreference=(EditTextPreference)findPreference(getString(R.string.pref_key_site_address));
  mPrivacyPreference=(DetailListPreference)findPreference(getString(R.string.pref_key_site_visibility));
  mLanguagePreference=(DetailListPreference)findPreference(getString(R.string.pref_key_site_language));
  mUsernamePreference=(EditTextPreference)findPreference(getString(R.string.pref_key_site_username));
  mPasswordPreference=(EditTextPreference)findPreference(getString(R.string.pref_key_site_password));
  mLocationPreference=(WPSwitchPreference)findPreference(getString(R.string.pref_key_site_location));
  mCategoryPreference=(DetailListPreference)findPreference(getString(R.string.pref_key_site_category));
  mFormatPreference=(DetailListPreference)findPreference(getString(R.string.pref_key_site_format));
  mRelatedPostsPreference=(DetailListPreference)findPreference(getString(R.string.pref_key_site_related_posts));
  mTitlePreference.setOnPreferenceChangeListener(this);
  mTaglinePreference.setOnPreferenceChangeListener(this);
  mAddressPreference.setOnPreferenceChangeListener(this);
  mLocationPreference.setOnPreferenceChangeListener(this);
  mCategoryPreference.setOnPreferenceChangeListener(this);
  mFormatPreference.setOnPreferenceChangeListener(this);
  mPrivacyPreference.setOnPreferenceChangeListener(this);
  mLanguagePreference.setOnPreferenceChangeListener(this);
  mUsernamePreference.setOnPreferenceChangeListener(this);
  mPasswordPreference.setOnPreferenceChangeListener(this);
  mRelatedPostsPreference.setOnPreferenceChangeListener(this);
  setPreferencesFromSiteSettings();
  if (mBlog.isDotcomFlag()) {
    removePreference(R.string.pref_key_site_screen,R.string.pref_key_site_account);
  }
 else {
    removePreference(R.string.pref_key_site_writing,R.string.pref_key_site_related_posts);
  }
}
