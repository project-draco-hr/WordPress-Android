{
  if (null != (mTitlePreference=(EditTextPreference)findPreference(getString(R.string.pref_key_site_title)))) {
    mTitlePreference.setOnPreferenceChangeListener(this);
  }
  if (null != (mTaglinePreference=(EditTextPreference)findPreference(getString(R.string.pref_key_site_tagline)))) {
    mTaglinePreference.setOnPreferenceChangeListener(this);
  }
  if (null != (mAddressPreference=(EditTextPreference)findPreference(getString(R.string.pref_key_site_address)))) {
    mAddressPreference.setOnPreferenceChangeListener(this);
  }
  if (null != (mPrivacyPreference=(DetailListPreference)findPreference(getString(R.string.pref_key_site_visibility)))) {
    if (!mBlog.isDotcomFlag()) {
      removePreference(R.string.pref_key_site_general,mPrivacyPreference);
    }
 else {
      mPrivacyPreference.setOnPreferenceChangeListener(this);
    }
  }
  if (null != (mLanguagePreference=(DetailListPreference)findPreference(getString(R.string.pref_key_site_language)))) {
    if (!mBlog.isDotcomFlag()) {
      removePreference(R.string.pref_key_site_general,mLanguagePreference);
    }
 else {
      mLanguagePreference.setOnPreferenceChangeListener(this);
      String[] languageIds=getResources().getStringArray(R.array.lang_ids);
      String[] languageCodes=getResources().getStringArray(R.array.language_codes);
      for (int i=0; i < languageIds.length && i < languageCodes.length; ++i) {
        mLanguageCodes.put(languageCodes[i],languageIds[i]);
      }
    }
  }
  if (mBlog.isDotcomFlag()) {
    PreferenceScreen screen=(PreferenceScreen)findPreference(getString(R.string.pref_key_site_screen));
    if (screen != null) {
      screen.removePreference(findPreference(getString(R.string.pref_key_site_account)));
    }
  }
 else {
    if (null != (mUsernamePreference=(EditTextPreference)findPreference(getString(R.string.pref_key_site_username)))) {
      mUsernamePreference.setOnPreferenceChangeListener(this);
      if (!TextUtils.isEmpty(mBlog.getUsername())) {
        mUsernamePreference.setText(mBlog.getUsername());
        mUsernamePreference.setSummary(mBlog.getUsername());
      }
    }
    if (null != (mPasswordPreference=(EditTextPreference)findPreference(getString(R.string.pref_key_site_password)))) {
      mPasswordPreference.setOnPreferenceChangeListener(this);
      if (!TextUtils.isEmpty(mBlog.getPassword())) {
        mPasswordPreference.setText(mBlog.getPassword());
        mPasswordPreference.setSummary(mBlog.getPassword());
      }
    }
  }
}
