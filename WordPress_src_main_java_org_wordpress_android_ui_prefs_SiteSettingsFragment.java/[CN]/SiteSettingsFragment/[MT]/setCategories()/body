{
  if (mSiteSettings.isSameCategoryList(mCategoryPreference.getEntryValues())) {
    mCategoryPreference.setValue(String.valueOf(mSiteSettings.getDefaultCategory()));
    mCategoryPreference.setSummary(mSiteSettings.getDefaultCategoryForDisplay());
    return;
  }
  Map<Integer,String> categories=mSiteSettings.getCategoryNames();
  CharSequence[] entries=new CharSequence[categories.size()];
  CharSequence[] values=new CharSequence[categories.size()];
  int i=0;
  for (  Integer key : categories.keySet()) {
    entries[i]=categories.get(key);
    values[i++]=String.valueOf(key);
  }
  mCategoryPreference.setEntries(entries);
  mCategoryPreference.setEntryValues(values);
  mCategoryPreference.setValue(String.valueOf(mSiteSettings.getDefaultCategory()));
  mCategoryPreference.setSummary(mSiteSettings.getDefaultCategoryForDisplay());
}
