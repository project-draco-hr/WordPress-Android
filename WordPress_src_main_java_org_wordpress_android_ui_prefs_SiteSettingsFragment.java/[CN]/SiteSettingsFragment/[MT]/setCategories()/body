{
  if (mSiteSettings.isSameCategoryList(mCategoryPref.getEntryValues())) {
    mCategoryPref.setValue(String.valueOf(mSiteSettings.getDefaultCategory()));
    mCategoryPref.setSummary(mSiteSettings.getDefaultCategoryForDisplay());
    return;
  }
  Map<Integer,String> categories=mSiteSettings.getCategoryNames();
  CharSequence[] entries=new CharSequence[categories.size()];
  CharSequence[] values=new CharSequence[categories.size()];
  int i=0;
  for (  Integer key : categories.keySet()) {
    entries[i]=categories.get(key);
    values[i++]=String.valueOf(key);
  }
  mCategoryPref.setEntries(entries);
  mCategoryPref.setEntryValues(values);
  mCategoryPref.setValue(String.valueOf(mSiteSettings.getDefaultCategory()));
  mCategoryPref.setSummary(mSiteSettings.getDefaultCategoryForDisplay());
}
