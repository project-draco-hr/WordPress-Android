{
  int numDeleted=db.delete("tbl_post_tags","tag_name NOT IN (SELECT DISTINCT tag_name FROM tbl_tags)",null);
  ReaderTagList tags=ReaderTagTable.getAllTags();
  for (  ReaderTag tag : tags) {
    numDeleted+=purgePostsForTag(db,tag);
  }
  numDeleted+=db.delete("tbl_posts","pseudo_id NOT IN (SELECT DISTINCT pseudo_id FROM tbl_post_tags)",null);
  numDeleted+=db.delete("tbl_posts","blog_id NOT IN (SELECT DISTINCT blog_id FROM tbl_blog_info WHERE " + "tbl_blog_info.is_following != 0)",null);
  return numDeleted;
}
