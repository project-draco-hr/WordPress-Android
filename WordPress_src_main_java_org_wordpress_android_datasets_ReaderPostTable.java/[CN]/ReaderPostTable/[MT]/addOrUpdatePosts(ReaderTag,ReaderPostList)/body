{
  if (posts == null || posts.size() == 0) {
    return;
  }
  SQLiteDatabase db=ReaderDatabase.getWritableDb();
  SQLiteStatement stmtPosts=db.compileStatement("INSERT OR REPLACE INTO tbl_posts (" + COLUMN_NAMES + ") VALUES (?1,?2,?3,?4,?5,?6,?7,?8,?9,?10,?11,?12,?13,?14,?15,?16,?17,?18,?19,?20,?21,?22,?23,?24,?25,?26,?27,?28,?29,?30,?31,?32,?33)");
  SQLiteStatement stmtTags=db.compileStatement("INSERT OR REPLACE INTO tbl_post_tags (post_id, blog_id, feed_id, pseudo_id, tag_name, tag_type) VALUES (?1,?2,?3,?4,?5,?6)");
  db.beginTransaction();
  try {
    for (    ReaderPost post : posts) {
      stmtPosts.bindLong(1,post.postId);
      stmtPosts.bindLong(2,post.blogId);
      stmtPosts.bindLong(3,post.feedId);
      stmtPosts.bindString(4,post.getPseudoId());
      stmtPosts.bindString(5,post.getAuthorName());
      stmtPosts.bindLong(6,post.authorId);
      stmtPosts.bindString(7,post.getTitle());
      stmtPosts.bindString(8,maxText(post));
      stmtPosts.bindString(9,post.getExcerpt());
      stmtPosts.bindString(10,post.getUrl());
      stmtPosts.bindString(11,post.getShortUrl());
      stmtPosts.bindString(12,post.getBlogUrl());
      stmtPosts.bindString(13,post.getBlogName());
      stmtPosts.bindString(14,post.getFeaturedImage());
      stmtPosts.bindString(15,post.getFeaturedVideo());
      stmtPosts.bindString(16,post.getPostAvatar());
      stmtPosts.bindLong(17,post.timestamp);
      stmtPosts.bindString(18,post.getPublished());
      stmtPosts.bindLong(19,post.numReplies);
      stmtPosts.bindLong(20,post.numLikes);
      stmtPosts.bindLong(21,SqlUtils.boolToSql(post.isLikedByCurrentUser));
      stmtPosts.bindLong(22,SqlUtils.boolToSql(post.isFollowedByCurrentUser));
      stmtPosts.bindLong(23,SqlUtils.boolToSql(post.isCommentsOpen));
      stmtPosts.bindLong(24,SqlUtils.boolToSql(post.isExternal));
      stmtPosts.bindLong(25,SqlUtils.boolToSql(post.isPrivate));
      stmtPosts.bindLong(26,SqlUtils.boolToSql(post.isVideoPress));
      stmtPosts.bindLong(27,SqlUtils.boolToSql(post.isJetpack));
      stmtPosts.bindString(28,post.getPrimaryTag());
      stmtPosts.bindString(29,post.getSecondaryTag());
      stmtPosts.bindString(30,post.getAttachmentsJson());
      stmtPosts.bindString(31,post.getDiscoverJson());
      stmtPosts.bindLong(32,post.wordCount);
      stmtPosts.bindLong(33,SqlUtils.boolToSql(post.hasGapMarker));
      stmtPosts.execute();
    }
    if (tag != null) {
      String tagName=tag.getTagName();
      int tagType=tag.tagType.toInt();
      for (      ReaderPost post : posts) {
        stmtTags.bindLong(1,post.postId);
        stmtTags.bindLong(2,post.blogId);
        stmtTags.bindLong(3,post.feedId);
        stmtTags.bindString(4,post.getPseudoId());
        stmtTags.bindString(5,tagName);
        stmtTags.bindLong(6,tagType);
        stmtTags.execute();
      }
    }
    db.setTransactionSuccessful();
  }
  finally {
    db.endTransaction();
    SqlUtils.closeStatement(stmtPosts);
    SqlUtils.closeStatement(stmtTags);
  }
}
