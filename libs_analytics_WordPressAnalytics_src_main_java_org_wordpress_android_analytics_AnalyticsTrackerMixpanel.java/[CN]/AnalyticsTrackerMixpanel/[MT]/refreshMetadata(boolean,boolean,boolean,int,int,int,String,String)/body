{
  try {
    JSONObject properties=new JSONObject();
    properties.put(MIXPANEL_PLATFORM,"Android");
    properties.put(MIXPANEL_SESSION_COUNT,sessionCount);
    properties.put(DOTCOM_USER,isUserConnected);
    properties.put(JETPACK_USER,isJetpackUser);
    properties.put(MIXPANEL_NUMBER_OF_BLOGS,numBlogs);
    properties.put(VERSION_CODE,versionCode);
    properties.put(APP_LOCALE,mContext.getResources().getConfiguration().locale.toString());
    mMixpanel.registerSuperProperties(properties);
  }
 catch (  JSONException e) {
    AppLog.e(AppLog.T.UTILS,e);
  }
  if (isUserConnected && isWordPressComUser) {
    setWordPressComUserName(username);
    if (getAnonID() != null) {
      mMixpanel.alias(getWordPressComUserName(),getAnonID());
      clearAnonID();
    }
 else {
      mMixpanel.identify(username);
    }
  }
 else {
    setWordPressComUserName(null);
    if (getAnonID() == null) {
      generateNewAnonID();
    }
    mMixpanel.identify(getAnonID());
  }
  if (isUserConnected) {
    try {
      String userID=getWordPressComUserName() != null ? getWordPressComUserName() : getAnonID();
      if (userID == null) {
        return;
      }
      mMixpanel.getPeople().identify(userID);
      JSONObject jsonObj=new JSONObject();
      jsonObj.put("$username",userID);
      if (email != null) {
        jsonObj.put("$email",email);
      }
      jsonObj.put("$first_name",userID);
      mMixpanel.getPeople().set(jsonObj);
    }
 catch (    JSONException e) {
      AppLog.e(AppLog.T.UTILS,e);
    }
catch (    OutOfMemoryError outOfMemoryError) {
    }
  }
}
