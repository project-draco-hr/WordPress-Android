{
  final ReaderPost post=(ReaderPost)getItem(position);
  final PostViewHolder holder;
  ReaderPostListType postListType=getPostListType();
  if (convertView == null) {
    convertView=mInflater.inflate(R.layout.reader_listitem_post_excerpt,parent,false);
    holder=new PostViewHolder(convertView,postListType);
    convertView.setTag(holder);
  }
 else {
    holder=(PostViewHolder)convertView.getTag();
  }
  holder.txtTitle.setText(post.getTitle());
  holder.txtDate.setText(DateTimeUtils.javaDateToTimeSpan(post.getDatePublished()));
  if (postListType.isTagType()) {
    holder.imgAvatar.setImageUrl(post.getPostAvatarForDisplay(mAvatarSz),WPNetworkImageView.ImageType.AVATAR);
    if (post.hasBlogName()) {
      holder.txtBlogName.setText(post.getBlogName());
    }
 else     if (post.hasAuthorName()) {
      holder.txtBlogName.setText(post.getAuthorName());
    }
 else {
      holder.txtBlogName.setText(null);
    }
    ReaderUtils.showFollowStatus(holder.txtFollow,post.isFollowedByCurrentUser);
    holder.txtFollow.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        toggleFollow(holder,position,post);
      }
    }
);
    if (!post.isExternal) {
      holder.layoutPostHeader.setEnabled(true);
      holder.layoutPostHeader.setOnClickListener(new View.OnClickListener(){
        @Override public void onClick(        View v){
          ReaderActivityLauncher.showReaderBlogPreview(getContext(),post.blogId,post.getBlogUrl());
        }
      }
);
    }
 else {
      holder.layoutPostHeader.setOnClickListener(null);
      holder.layoutPostHeader.setEnabled(false);
    }
  }
  if (post.hasExcerpt()) {
    holder.txtText.setVisibility(View.VISIBLE);
    holder.txtText.setText(post.getExcerpt());
  }
 else {
    holder.txtText.setVisibility(View.GONE);
  }
  final int titleMargin;
  if (post.hasFeaturedImage()) {
    final String imageUrl=post.getFeaturedImageForDisplay(mPhotonWidth,mPhotonHeight);
    holder.imgFeatured.setImageUrl(imageUrl,WPNetworkImageView.ImageType.PHOTO);
    holder.imgFeatured.setVisibility(View.VISIBLE);
    titleMargin=mMarginLarge;
  }
 else   if (post.hasFeaturedVideo()) {
    holder.imgFeatured.setVideoUrl(post.postId,post.getFeaturedVideo());
    holder.imgFeatured.setVisibility(View.VISIBLE);
    titleMargin=mMarginLarge;
  }
 else {
    holder.imgFeatured.setVisibility(View.GONE);
    titleMargin=(holder.layoutPostHeader.getVisibility() == View.VISIBLE ? 0 : mMarginLarge);
  }
  RelativeLayout.LayoutParams params=(RelativeLayout.LayoutParams)holder.txtTitle.getLayoutParams();
  params.topMargin=titleMargin;
  final String tagToDisplay=(mCurrentTag != null ? post.getTagForDisplay(mCurrentTag.getTagName()) : null);
  if (!TextUtils.isEmpty(tagToDisplay)) {
    holder.txtTag.setText(tagToDisplay);
    holder.txtTag.setVisibility(View.VISIBLE);
    holder.txtTag.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        if (mOnTagSelectedListener != null) {
          mOnTagSelectedListener.onTagSelected(tagToDisplay);
        }
      }
    }
);
  }
 else {
    holder.txtTag.setVisibility(View.GONE);
  }
  boolean showLikes=post.isWP() && post.isLikesEnabled;
  boolean showComments=post.isWP() && (post.isCommentsOpen || post.numReplies > 0);
  if (showLikes || showComments) {
    showCounts(holder,post,false);
  }
  if (showLikes) {
    showLikeStatus(holder.imgBtnLike,post.isLikedByCurrentUser);
    holder.imgBtnLike.setVisibility(View.VISIBLE);
    holder.imgBtnLike.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        toggleLike(holder,position,post);
      }
    }
);
  }
 else {
    holder.imgBtnLike.setVisibility(View.GONE);
    holder.txtLikeCount.setVisibility(View.GONE);
  }
  if (showComments) {
    holder.imgBtnComment.setVisibility(View.VISIBLE);
    if (post.isCommentsOpen) {
      holder.imgBtnComment.setOnClickListener(new View.OnClickListener(){
        @Override public void onClick(        View v){
          if (parent instanceof ListView) {
            ListView listView=(ListView)parent;
            int index=position + listView.getHeaderViewsCount();
            listView.performItemClick(holder.imgBtnComment,index,getItemId(position));
          }
        }
      }
);
    }
  }
 else {
    holder.imgBtnComment.setVisibility(View.GONE);
    holder.txtCommentCount.setVisibility(View.GONE);
  }
  if (post.canReblog()) {
    showReblogStatus(holder.imgBtnReblog,post.isRebloggedByCurrentUser);
    holder.imgBtnReblog.setVisibility(View.VISIBLE);
    if (!post.isRebloggedByCurrentUser) {
      holder.imgBtnReblog.setOnClickListener(new View.OnClickListener(){
        @Override public void onClick(        View v){
          ReaderAnim.animateReblogButton(holder.imgBtnReblog);
          if (mReblogListener != null) {
            mReblogListener.onRequestReblog(post,v);
          }
        }
      }
);
    }
  }
 else {
    holder.imgBtnReblog.setVisibility(View.INVISIBLE);
  }
  if (post.isWP() && !post.isPrivate && postListType == ReaderPostListType.TAG_FOLLOWED) {
    holder.imgDropDown.setVisibility(View.VISIBLE);
    holder.imgDropDown.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View view){
        if (mOnPostPopupListener != null) {
          mOnPostPopupListener.onShowPostPopup(view,post);
        }
      }
    }
);
  }
 else {
    holder.imgDropDown.setVisibility(View.GONE);
  }
  if (mCanRequestMorePosts && mDataRequestedListener != null && (position >= getCount() - 1)) {
    mDataRequestedListener.onRequestData();
  }
  if (mEnableImagePreload && position > (mLastPreloadPos - PRELOAD_OFFSET)) {
    preloadPostImages(position + PRELOAD_OFFSET);
  }
  return convertView;
}
