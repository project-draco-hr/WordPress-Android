{
  int numExisting;
switch (getPostListType()) {
case TAG_PREVIEW:
case TAG_FOLLOWED:
    allPosts=ReaderPostTable.getPostsWithTag(mCurrentTag,MAX_ROWS,EXCLUDE_TEXT_COLUMN);
  numExisting=ReaderPostTable.getNumPostsWithTag(mCurrentTag);
break;
case BLOG_PREVIEW:
if (mCurrentFeedId != 0) {
allPosts=ReaderPostTable.getPostsInFeed(mCurrentFeedId,MAX_ROWS,EXCLUDE_TEXT_COLUMN);
numExisting=ReaderPostTable.getNumPostsInFeed(mCurrentFeedId);
}
 else {
allPosts=ReaderPostTable.getPostsInBlog(mCurrentBlogId,MAX_ROWS,EXCLUDE_TEXT_COLUMN);
numExisting=ReaderPostTable.getNumPostsInBlog(mCurrentBlogId);
}
break;
default :
return false;
}
if (mPosts.isSameList(allPosts)) {
return false;
}
mCanRequestMorePosts=(numExisting < ReaderConstants.READER_MAX_POSTS_TO_DISPLAY);
mGapMarkerPosition=-1;
if (getPostListType().isTagType()) {
ReaderBlogIdPostId gapMarkerIds=ReaderPostTable.getGapMarkerForTag(mCurrentTag);
if (gapMarkerIds != null) {
mGapMarkerPosition=allPosts.indexOfIds(gapMarkerIds);
if (mGapMarkerPosition > -1) {
mGapMarkerPosition++;
if (hasCustomFirstItem()) {
mGapMarkerPosition++;
}
if (mGapMarkerPosition >= allPosts.size() - 1) {
mGapMarkerPosition=-1;
AppLog.w(AppLog.T.READER,"gap marker at last post, removed");
ReaderPostTable.removeGapMarkerForTag(mCurrentTag);
}
 else {
AppLog.d(AppLog.T.READER,"gap marker at position " + mGapMarkerPosition);
}
}
}
}
return true;
}
