{
  PlansRestRequestAbstractListener listener=new PlansRestRequestAbstractListener(){
    @Override void parseResponse(    JSONObject response) throws JSONException {
      List<Plan> plans=new ArrayList<>();
      JSONArray plansArray=response.getJSONArray("originalResponse");
      for (int i=0; i < plansArray.length(); i++) {
        JSONObject currentPlanJSON=plansArray.getJSONObject(i);
        Plan currentPlan=new Plan(currentPlanJSON);
        plans.add(currentPlan);
      }
      assertEquals(6,plans.size());
      Plan currentPlan=plans.get(0);
      assertEquals(currentPlan.getDescription(),"Jetpack (free) speeds up your site's images, secures it, and enables traffic and customization tools.");
      assertEquals(currentPlan.getProductID(),2002L);
      assertEquals(currentPlan.getProductName(),"Free");
      assertEquals(currentPlan.getBillPeriod(),-1);
      assertEquals(currentPlan.getRawPrice(),0);
      assertEquals(currentPlan.getCost(),0);
      assertEquals(currentPlan.isAvailable(),true);
      currentPlan=plans.get(5);
      assertEquals(currentPlan.getDescription(),"Everything included with Premium, as well as live chat support, and unlimited access to our premium themes.");
      assertEquals(currentPlan.getProductID(),1008L);
      assertEquals(currentPlan.getProductName(),"WordPress.com Business");
      assertEquals(currentPlan.getBillPeriod(),365);
      assertEquals(currentPlan.getRawPrice(),299);
      assertEquals(currentPlan.getCost(),299);
      assertEquals(currentPlan.isAvailable(),true);
    }
  }
;
  mRestClientV1_3.makeRequest(Request.Method.POST,"https://public-api.wordpress.com/rest/v1.3/plans",null,listener,errListener);
}
