{
  MediaFile mf=new MediaFile();
  mf.setMediaId(wpIS.getMediaId());
  if (mPost != null)   mf.setPostID(mPost.getId());
  mf.setMIMEType(wpIS.getMimeType());
  mf.setHeight(wpIS.getHeight());
  mf.setFileName(wpIS.getFileName());
  mf.setTitle(wpIS.getTitle());
  mf.setCaption(wpIS.getCaption());
  mf.setDescription(wpIS.getDescription());
  mf.setFeatured(wpIS.isFeatured());
  mf.setFeaturedInPost(wpIS.isFeaturedInPost());
  mf.setHorizontalAlignment(wpIS.getHorizontalAlignment());
  mf.setWidth(wpIS.getWidth());
  mf.setBlogId(WordPress.getCurrentBlog().getBlogId() + "");
  mf.setDateCreatedGMT(wpIS.getDateCreatedGMT());
  mf.save();
  return mf;
}
