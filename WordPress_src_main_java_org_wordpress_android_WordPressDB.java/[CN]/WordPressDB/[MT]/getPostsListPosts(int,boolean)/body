{
  PostsListPostList listPosts=new PostsListPostList();
  String[] args={Integer.toString(localBlogId),Integer.toString(loadPages ? 1 : 0)};
  String query="blogID=? AND isPage=? AND NOT (localDraft=1 AND uploaded=1)";
  Cursor c=db.query(POSTS_TABLE,null,query,args,null,null,"localDraft DESC, date_created_gmt DESC");
  try {
    while (c.moveToNext()) {
      listPosts.add(new PostsListPost(getPostFromCursor(c)));
    }
    return listPosts;
  }
  finally {
    SqlUtils.closeCursor(c);
  }
}
