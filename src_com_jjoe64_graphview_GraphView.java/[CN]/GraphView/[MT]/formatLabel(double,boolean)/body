{
  int i=isValueX ? 1 : 0;
  if (numberformatter[i] == null) {
    numberformatter[i]=NumberFormat.getNumberInstance();
    double highestvalue=isValueX ? getMaxX(false) : getMaxY();
    double lowestvalue=isValueX ? getMinX(false) : getMinY();
    if (highestvalue - lowestvalue < 0.1) {
      numberformatter[i].setMaximumFractionDigits(6);
    }
 else     if (highestvalue - lowestvalue < 1) {
      numberformatter[i].setMaximumFractionDigits(4);
    }
 else     if (highestvalue - lowestvalue < 20) {
      numberformatter[i].setMaximumFractionDigits(3);
    }
 else     if (highestvalue - lowestvalue < 100) {
      numberformatter[i].setMaximumFractionDigits(1);
    }
 else {
      numberformatter[i].setMaximumFractionDigits(0);
    }
  }
  return numberformatter[i].format(value);
}
