{
  if (numberformatter == null) {
    numberformatter=NumberFormat.getNumberInstance();
    double highestvalue=getMaxY();
    double lowestvalue=getMinY();
    if (highestvalue - lowestvalue < 0.1) {
      numberformatter.setMaximumFractionDigits(6);
    }
 else     if (highestvalue - lowestvalue < 1) {
      numberformatter.setMaximumFractionDigits(4);
    }
 else     if (highestvalue - lowestvalue < 20) {
      numberformatter.setMaximumFractionDigits(3);
    }
 else     if (highestvalue - lowestvalue < 100) {
      numberformatter.setMaximumFractionDigits(1);
    }
 else {
      numberformatter.setMaximumFractionDigits(0);
    }
  }
  return numberformatter.format(value);
}
