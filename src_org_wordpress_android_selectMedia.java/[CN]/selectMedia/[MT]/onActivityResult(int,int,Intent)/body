{
  super.onActivityResult(requestCode,resultCode,data);
  if (data != null) {
    if (requestCode == 0) {
      if (resultCode == Activity.RESULT_OK) {
        File f=new File(SD_CARD_TEMP_DIR);
        try {
          Uri capturedImage=Uri.parse(android.provider.MediaStore.Images.Media.insertImage(getContentResolver(),f.getAbsolutePath(),null,null));
          Log.i("camera","Selected image: " + capturedImage.toString());
          Bundle bundle=new Bundle();
          bundle.putString("imageURI",capturedImage.toString());
          bundle.putInt("returnType",0);
          Intent mIntent=new Intent();
          mIntent.putExtras(bundle);
          setResult(RESULT_OK,mIntent);
        }
 catch (        FileNotFoundException e) {
          e.printStackTrace();
        }
        finish();
      }
 else {
        Log.i("Camera","Result code was " + resultCode);
      }
    }
 else {
      Bundle bundle=new Bundle();
      bundle.putInt("returnType",1);
      data.putExtras(bundle);
      setResult(RESULT_OK,data);
      finish();
    }
  }
 else {
    finish();
  }
}
