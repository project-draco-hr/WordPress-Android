{
  if (text == null || !text.contains("<img ")) {
    return null;
  }
  final String classToFind;
  if (text.contains("size-full")) {
    classToFind="size-full";
  }
 else   if (text.contains("size-large")) {
    classToFind="size-large";
  }
 else   if (text.contains("size-medium")) {
    classToFind="size-medium";
  }
 else {
    classToFind=null;
  }
  Matcher imgMatcher=IMG_TAG_PATTERN.matcher(text);
  while (imgMatcher.find()) {
    String imgTag=text.substring(imgMatcher.start(),imgMatcher.end());
    if (classToFind != null) {
      String classAttr=getClassAttrValue(imgTag);
      if (classAttr != null && classAttr.contains(classToFind)) {
        return getSrcAttrValue(imgTag);
      }
    }
 else {
      String imageUrl=getSrcAttrValue(imgTag);
      if (getIntQueryParam(imageUrl,"w") >= MIN_FEATURED_IMAGE_WIDTH) {
        return imageUrl;
      }
    }
  }
  return null;
}
