{
  XMLRPCClient client=new XMLRPCClient(WordPress.currentBlog.getUrl(),WordPress.currentBlog.getHttpuser(),WordPress.currentBlog.getHttppassword());
  Object[] params={WordPress.currentBlog.getRemoteBlogId(),WordPress.currentBlog.getUsername(),WordPress.currentBlog.getPassword(),WordPress.currentComment.commentID,postHash};
  xmlErrorMessage="";
  Object result=null;
  try {
    result=(Object)client.call("wp.editComment",params);
    boolean bResult=Boolean.parseBoolean(result.toString());
    if (bResult) {
      postHash.put("url",postHash.get("author_url"));
      postHash.put("email",postHash.get("author_email"));
      postHash.put("comment",postHash.get("content"));
      postHash.remove("author_url");
      postHash.remove("author_email");
      postHash.remove("content");
      WordPress.wpDB.updateComment(WordPress.currentBlog.getLocalTableBlogId(),WordPress.currentComment.commentID,postHash);
      WordPress.currentComment.authorEmail=postHash.get("email");
      WordPress.currentComment.authorURL=postHash.get("url");
      WordPress.currentComment.comment=postHash.get("comment");
      WordPress.currentComment.setStatus(postHash.get("status"));
      WordPress.currentComment.name=postHash.get("author");
    }
  }
 catch (  XMLRPCException e) {
    xmlErrorMessage=getResources().getText(R.string.error_edit_comment).toString();
  }
  dismissDialog(ID_DIALOG_SAVING);
  if (xmlErrorMessage != "") {
    Thread dialogThread=new Thread(){
      public void run(){
        AlertDialog.Builder dialogBuilder=new AlertDialog.Builder(EditCommentActivity.this);
        dialogBuilder.setTitle(getResources().getText(R.string.error));
        dialogBuilder.setMessage(xmlErrorMessage);
        dialogBuilder.setPositiveButton("OK",new DialogInterface.OnClickListener(){
          public void onClick(          DialogInterface dialog,          int whichButton){
          }
        }
);
        dialogBuilder.setCancelable(true);
        dialogBuilder.create().show();
      }
    }
;
    runOnUiThread(dialogThread);
  }
 else {
    finish();
  }
}
