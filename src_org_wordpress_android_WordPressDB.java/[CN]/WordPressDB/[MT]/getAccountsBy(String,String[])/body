{
  if (db == null) {
    return new Vector<Map<String,Object>>();
  }
  String[] baseFields=new String[]{"id","blogName","username","blogId","url","password"};
  String[] allFields=baseFields;
  if (extraFields != null) {
    allFields=(String[])ArrayUtils.addAll(baseFields,extraFields);
  }
  Cursor c=db.query(SETTINGS_TABLE,allFields,byString,null,null,null,null);
  int numRows=c.getCount();
  c.moveToFirst();
  List<Map<String,Object>> accounts=new Vector<Map<String,Object>>();
  for (int i=0; i < numRows; i++) {
    int id=c.getInt(0);
    String blogName=c.getString(1);
    String username=c.getString(2);
    int blogId=c.getInt(3);
    String url=c.getString(4);
    String password=c.getString(5);
    if (password != null && !password.equals("") && id > 0) {
      Map<String,Object> thisHash=new HashMap<String,Object>();
      thisHash.put("id",id);
      thisHash.put("blogName",blogName);
      thisHash.put("username",username);
      thisHash.put("blogId",blogId);
      thisHash.put("url",url);
      if (extraFields != null) {
        for (int j=0; j < extraFields.length; ++j) {
          thisHash.put(extraFields[j],c.getString(6 + j));
        }
      }
      accounts.add(thisHash);
    }
    c.moveToNext();
  }
  c.close();
  Collections.sort(accounts,Utils.BlogNameComparator);
  return accounts;
}
