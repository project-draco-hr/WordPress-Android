{
  postStoreDB postStoreDB=new postStoreDB(this);
  Vector loadedPosts=postStoreDB.loadComments(moderateCommentsTab.this,id);
  if (loadedPosts != null) {
    String author, commentID, comment, dateCreated, status, authorEmail, postTitle;
    model=new ArrayList<CommentEntry>();
    for (int i=0; i < loadedPosts.size(); i++) {
      HashMap contentHash=(HashMap)loadedPosts.get(i);
      allComments.put(contentHash.get("commentID").toString(),contentHash);
      author=escapeUtils.unescapeHtml(contentHash.get("author").toString());
      commentID=contentHash.get("commentID").toString();
      comment=escapeUtils.unescapeHtml(contentHash.get("comment").toString());
      dateCreated=contentHash.get("commentDate").toString();
      status=contentHash.get("status").toString();
      authorEmail=escapeUtils.unescapeHtml(contentHash.get("email").toString());
      postTitle=escapeUtils.unescapeHtml(contentHash.get("postTitle").toString());
      model.add(new CommentEntry(commentID,author,dateCreated,comment,status,postTitle,URI.create("http://gravatar.com/avatar/" + getMd5Hash(authorEmail.trim()) + "?s=48&d=identicon")));
    }
    try {
      ThumbnailBus bus=new ThumbnailBus();
      thumbs=new ThumbnailAdapter(this,new CommentAdapter(),new SimpleWebImageCache<ThumbnailBus,ThumbnailMessage>(null,null,101,bus),IMAGE_IDS);
    }
 catch (    Exception e1) {
      e1.printStackTrace();
    }
    ListView listView=(ListView)findViewById(android.R.id.list);
    listView.setSelector(R.layout.list_selector);
    setListAdapter(thumbs);
    listView.setOnItemClickListener(new OnItemClickListener(){
      public void onNothingSelected(      AdapterView<?> arg0){
      }
      public void onItemClick(      AdapterView<?> arg0,      View arg1,      int arg2,      long arg3){
        Intent intent=new Intent(moderateCommentsTab.this,editPost.class);
        intent.putExtra("id",id);
        intent.putExtra("accountName",accountName);
        startActivity(intent);
      }
    }
);
    listView.setOnCreateContextMenuListener(new OnCreateContextMenuListener(){
      public void onCreateContextMenu(      ContextMenu menu,      View v,      ContextMenuInfo menuInfo){
        AdapterView.AdapterContextMenuInfo info;
        try {
          info=(AdapterView.AdapterContextMenuInfo)menuInfo;
        }
 catch (        ClassCastException e) {
          return;
        }
        selectedID=info.targetView.getId();
        rowID=info.position;
        menu.setHeaderTitle("Comment Actions");
        menu.add(0,0,0,"Mark Approved");
        menu.add(0,1,0,"Mark Unapproved");
        menu.add(0,2,0,"Mark Spam");
      }
    }
);
    return true;
  }
 else {
    return false;
  }
}
