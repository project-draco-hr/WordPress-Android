{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.reader_activity_post_list);
  mToolbar=(Toolbar)findViewById(R.id.toolbar);
  setSupportActionBar(mToolbar);
  getSupportActionBar().setDisplayShowTitleEnabled(true);
  getSupportActionBar().setDisplayHomeAsUpEnabled(true);
  if (getIntent() != null) {
    if (getIntent().hasExtra(ReaderConstants.ARG_POST_LIST_TYPE)) {
      mPostListType=(ReaderPostListType)getIntent().getSerializableExtra(ReaderConstants.ARG_POST_LIST_TYPE);
    }
 else {
      mPostListType=ReaderTypes.DEFAULT_POST_LIST_TYPE;
    }
    if (getPostListType() == ReaderPostListType.BLOG_PREVIEW) {
      View infoView=getLayoutInflater().inflate(R.layout.reader_blog_info_for_toolbar,mToolbar,false);
      mToolbar.addView(infoView);
      if (savedInstanceState == null) {
        long blogId=getIntent().getLongExtra(ReaderConstants.ARG_BLOG_ID,0);
        long feedId=getIntent().getLongExtra(ReaderConstants.ARG_FEED_ID,0);
        if (feedId != 0) {
          showListFragmentForFeed(feedId);
        }
 else {
          showListFragmentForBlog(blogId);
        }
      }
    }
 else {
      ReaderTag tag;
      if (getIntent().hasExtra(ReaderConstants.ARG_TAG)) {
        tag=(ReaderTag)getIntent().getSerializableExtra(ReaderConstants.ARG_TAG);
      }
 else {
        tag=AppPrefs.getReaderTag();
      }
      if (tag != null) {
        setTitle(ReaderUtils.makeHashTag(tag.getTagName()));
      }
      if (savedInstanceState == null) {
        showListFragmentForTag(tag,mPostListType);
      }
    }
  }
}
