{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.comments);
  FragmentManager fm=getSupportFragmentManager();
  commentList=(ViewComments)fm.findFragmentById(R.id.commentList);
  titleBar=(WPTitleBar)findViewById(R.id.commentsActionBar);
  Bundle extras=getIntent().getExtras();
  if (extras != null) {
    boolean fromNotification=false;
    fromNotification=extras.getBoolean("fromNotification");
    if (fromNotification) {
      WordPress.currentBlog=new Blog(extras.getInt("id"),Comments.this);
      titleBar.refreshBlog();
      blog=WordPress.currentBlog;
      commentList.refreshComments(false,false,false);
    }
  }
  blog=WordPress.currentBlog;
  WordPress.currentComment=null;
  titleBar.refreshButton.setOnClickListener(new ImageButton.OnClickListener(){
    public void onClick(    View v){
      attemptToSelectComment();
      commentList.refreshComments(false,false,false);
    }
  }
);
  titleBar.setOnBlogChangedListener(new OnBlogChangedListener(){
    @Override public void OnBlogChanged(){
      attemptToSelectComment();
      commentList.loadComments(false,false);
    }
  }
);
  attemptToSelectComment();
}
