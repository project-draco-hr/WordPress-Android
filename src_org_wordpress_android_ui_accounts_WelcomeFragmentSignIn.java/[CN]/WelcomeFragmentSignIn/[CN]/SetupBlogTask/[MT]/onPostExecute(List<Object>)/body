{
  if (mSetupBlog.isErroneousSslCertificates() && hasActivity()) {
    askForSslTrust();
    return;
  }
  if (mSetupBlog.isHttpAuthRequired() && hasActivity()) {
    httpAuthRequired();
    return;
  }
  if (userBlogList == null && mErrorMsgId != 0 && hasActivity()) {
    FragmentTransaction ft=getFragmentManager().beginTransaction();
    NUXDialogFragment nuxAlert;
    if (mErrorMsgId == R.string.account_two_step_auth_enabled) {
      nuxAlert=NUXDialogFragment.newInstance(getString(R.string.nux_cannot_log_in),getString(mErrorMsgId),getString(R.string.nux_tap_continue),R.drawable.nux_icon_alert,true,getString(R.string.visit_security_settings),NUXDialogFragment.ACTION_OPEN_URL,"https://wordpress.com/settings/security/?ssl=forced");
    }
 else {
      if (mErrorMsgId == R.string.username_or_password_incorrect) {
        showUsernameError(mErrorMsgId);
        showPasswordError(mErrorMsgId);
        mErrorMsgId=0;
        endProgress();
        return;
      }
 else       if (mErrorMsgId == R.string.invalid_url_message) {
        showUrlError(mErrorMsgId);
        mErrorMsgId=0;
        endProgress();
        return;
      }
 else {
        nuxAlert=NUXDialogFragment.newInstance(getString(R.string.nux_cannot_log_in),getString(mErrorMsgId),getString(R.string.nux_tap_continue),R.drawable.nux_icon_alert);
      }
    }
    ft.add(nuxAlert,"alert");
    ft.commitAllowingStateLoss();
    mErrorMsgId=0;
    endProgress();
    return;
  }
  if (mSetupBlog.getXmlrpcUrl() != null && mSetupBlog.getXmlrpcUrl().contains("wordpress.com")) {
    SharedPreferences settings=PreferenceManager.getDefaultSharedPreferences(WordPress.getContext());
    SharedPreferences.Editor editor=settings.edit();
    editor.putString(WordPress.WPCOM_USERNAME_PREFERENCE,mSetupBlog.getUsername());
    editor.putString(WordPress.WPCOM_PASSWORD_PREFERENCE,WordPressDB.encryptPassword(mSetupBlog.getPassword()));
    editor.commit();
    WordPress.getRestClientUtils().get("me",new RestRequest.Listener(){
      @Override public void onResponse(      JSONObject jsonObject){
        ReaderUserActions.setCurrentUser(jsonObject);
      }
    }
,null);
  }
  if (userBlogList != null) {
    if (getActivity() != null) {
      getActivity().setResult(Activity.RESULT_OK);
      getActivity().finish();
    }
  }
 else {
    endProgress();
  }
}
