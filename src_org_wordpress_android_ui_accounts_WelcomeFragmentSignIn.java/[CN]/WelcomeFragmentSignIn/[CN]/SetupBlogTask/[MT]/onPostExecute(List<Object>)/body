{
  mProgressDialog.dismiss();
  if (mHttpAuthRequired) {
    mHttpAuthRequired=false;
    AlertDialog.Builder alert=new AlertDialog.Builder(getActivity());
    alert.setTitle(R.string.http_authorization_required);
    View httpAuth=getActivity().getLayoutInflater().inflate(R.layout.alert_http_auth,null);
    final EditText usernameEditText=(EditText)httpAuth.findViewById(R.id.http_username);
    final EditText passwordEditText=(EditText)httpAuth.findViewById(R.id.http_password);
    alert.setView(httpAuth);
    alert.setPositiveButton(R.string.sign_in,new DialogInterface.OnClickListener(){
      public void onClick(      DialogInterface dialog,      int whichButton){
        mHttpUsername=usernameEditText.getText().toString();
        mHttpPassword=passwordEditText.getText().toString();
        new SetupBlogTask().execute();
      }
    }
);
    alert.setNegativeButton(R.string.cancel,new DialogInterface.OnClickListener(){
      public void onClick(      DialogInterface dialog,      int whichButton){
      }
    }
);
    alert.show();
    return;
  }
  if (usersBlogsList == null && mErrorMsg != null) {
    FragmentTransaction ft=getFragmentManager().beginTransaction();
    NUXDialogFragment nuxAlert=NUXDialogFragment.newInstance(getString(R.string.nux_cannot_log_in),mErrorMsg,getString(R.string.nux_tap_continue),R.drawable.nux_icon_alert);
    nuxAlert.show(ft,"alert");
    mErrorMsg=null;
    return;
  }
  if (mXmlrpcUrl.contains("wordpress.com")) {
    SharedPreferences settings=PreferenceManager.getDefaultSharedPreferences(getActivity());
    SharedPreferences.Editor editor=settings.edit();
    editor.putString(WordPress.WPCOM_USERNAME_PREFERENCE,mUsername);
    editor.putString(WordPress.WPCOM_PASSWORD_PREFERENCE,WordPressDB.encryptPassword(mPassword));
    editor.commit();
    WordPress.restClient.get("me",null,null);
  }
  if (usersBlogsList != null) {
    mUsersBlogsList=usersBlogsList;
    if (usersBlogsList.size() != 0) {
      SparseBooleanArray allBlogs=new SparseBooleanArray();
      for (int i=0; i < mUsersBlogsList.size(); i++) {
        allBlogs.put(i,true);
      }
      addBlogs(allBlogs);
    }
  }
}
