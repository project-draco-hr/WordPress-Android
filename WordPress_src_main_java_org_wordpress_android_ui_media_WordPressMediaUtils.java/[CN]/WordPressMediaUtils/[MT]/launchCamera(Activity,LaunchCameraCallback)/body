{
  String state=android.os.Environment.getExternalStorageState();
  if (!state.equals(android.os.Environment.MEDIA_MOUNTED)) {
    showSDCardRequiredDialog(activity);
  }
 else {
    Intent intent=prepareLaunchCameraIntent(callback);
    activity.startActivityForResult(intent,RequestCodes.TAKE_PHOTO);
    AppLockManager.getInstance().setExtendedTimeout();
  }
}
