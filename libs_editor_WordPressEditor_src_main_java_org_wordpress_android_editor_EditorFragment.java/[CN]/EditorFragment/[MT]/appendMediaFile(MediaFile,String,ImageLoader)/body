{
  if (!mDomHasLoaded) {
    mWaitingMediaFiles.put(mediaUrl,mediaFile);
    return;
  }
  mWebView.post(new Runnable(){
    @Override public void run(){
      if (URLUtil.isNetworkUrl(mediaUrl)) {
        String mediaId=mediaFile.getMediaId();
        if (mediaFile.isVideo()) {
          String videoPressId=ShortcodeUtils.getVideoPressIdFromShortCode(mediaFile.getVideoPressShortCode());
          mWebView.execJavaScriptFromString("ZSSEditor.insertVideo('" + mediaUrl + "', '"+ mediaFile.getThumbnailURL()+ "', '"+ videoPressId+ "');");
        }
 else {
          mWebView.execJavaScriptFromString("ZSSEditor.insertImage('" + mediaUrl + "', '"+ mediaId+ "');");
        }
      }
 else {
        String id=mediaFile.getMediaId();
        mWebView.execJavaScriptFromString("ZSSEditor.insertLocalImage(" + id + ", '"+ mediaUrl+ "');");
        mWebView.execJavaScriptFromString("ZSSEditor.setProgressOnImage(" + id + ", "+ 0+ ");");
        mUploadingMedia.put(id,MediaType.IMAGE);
      }
    }
  }
);
}
