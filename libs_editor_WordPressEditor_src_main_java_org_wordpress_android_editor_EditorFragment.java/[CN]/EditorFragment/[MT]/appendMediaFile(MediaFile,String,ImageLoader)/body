{
  if (!mDomHasLoaded) {
    mWaitingMediaFiles.put(mediaUrl,mediaFile);
    return;
  }
  mWebView.post(new Runnable(){
    @Override public void run(){
      if (URLUtil.isNetworkUrl(mediaUrl)) {
        String mediaId=mediaFile.getMediaId();
        mWebView.execJavaScriptFromString("ZSSEditor.insertImage('" + mediaUrl + "', '"+ mediaId+ "');");
        mEditorFragmentListener.onTrackableEvent(TrackableEvent.NETWORK_IMAGE_ADDED);
      }
 else {
        String id=mediaFile.getMediaId();
        mWebView.execJavaScriptFromString("ZSSEditor.insertLocalImage(" + id + ", '"+ mediaUrl+ "');");
        mWebView.execJavaScriptFromString("ZSSEditor.setProgressOnImage(" + id + ", "+ 0+ ");");
        mUploadingMediaIds.add(id);
        mEditorFragmentListener.onTrackableEvent(TrackableEvent.LOCAL_IMAGE_ADDED);
      }
    }
  }
);
}
