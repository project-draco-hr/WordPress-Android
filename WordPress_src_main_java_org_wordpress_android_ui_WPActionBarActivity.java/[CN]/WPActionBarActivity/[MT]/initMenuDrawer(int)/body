{
  if (mMenuDrawer == null) {
    return;
  }
  mListView=new ListView(this);
  mListView.setChoiceMode(ListView.CHOICE_MODE_SINGLE);
  mListView.setDivider(null);
  mListView.setDividerHeight(0);
  mListView.setCacheColorHint(android.R.color.transparent);
  if (DisplayUtils.hasActionBarOverlay(getWindow())) {
    final int actionbarHeight=DisplayUtils.getActionBarHeight(this);
    RelativeLayout header=new RelativeLayout(this);
    header.setLayoutParams(new AbsListView.LayoutParams(AbsListView.LayoutParams.MATCH_PARENT,actionbarHeight));
    mListView.addHeaderView(header,null,false);
  }
  mAdapter=new MenuAdapter(this);
  String[] blogNames=getBlogNames();
  if (blogNames.length > 1) {
    addBlogSpinner(blogNames);
  }
  mListView.setOnItemClickListener(new AdapterView.OnItemClickListener(){
    public void onItemClick(    AdapterView<?> parent,    View view,    int position,    long id){
      int menuPosition=position - mListView.getHeaderViewsCount();
      if (menuPosition < 0 || menuPosition >= mAdapter.getCount())       return;
      MenuDrawerItem item=mAdapter.getItem(menuPosition);
      if (item.hasItemId()) {
        ActivityId.trackLastActivity(WPActionBarActivity.this,item.getItemId());
      }
      if (!item.isSelected())       item.selectItem();
      mMenuDrawer.closeMenu();
    }
  }
);
  mMenuDrawer.setMenuView(mListView);
  mListView.setAdapter(mAdapter);
  if (blogSelection != -1 && mBlogSpinner != null) {
    mBlogSpinner.setSelection(blogSelection);
  }
  updateMenuDrawer();
}
