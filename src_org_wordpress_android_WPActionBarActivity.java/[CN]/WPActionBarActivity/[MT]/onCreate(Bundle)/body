{
  super.onCreate(savedInstanceState);
  ActionBar actionBar=getSupportActionBar();
  actionBar.setDisplayHomeAsUpEnabled(true);
  actionBar.setDisplayShowTitleEnabled(false);
  actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);
  String[] blogNames=getBlogNames(this);
  SpinnerAdapter mSpinnerAdapter=new ArrayAdapter<String>(getSupportActionBar().getThemedContext(),R.layout.sherlock_spinner_dropdown_item,blogNames);
  actionBar.setListNavigationCallbacks(mSpinnerAdapter,this);
  setupCurrentBlog();
  Blog currentBlog=WordPress.getCurrentBlog(this);
  if (currentBlog != null) {
    for (int i=0; i < blogIDs.length; i++) {
      if (blogIDs[i] == currentBlog.getId()) {
        actionBar.setSelectedNavigationItem(i);
        return;
      }
    }
  }
}
