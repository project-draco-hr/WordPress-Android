{
  super(ctx);
  context=ctx;
  inflater=(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  setRootViewId(R.layout.dashboard_popover);
  animStyle=ANIM_AUTO;
  commentBadge=(TextView)mRootView.findViewById(R.id.comment_badge);
  updateCommentBadge();
  Button writeButton=(Button)mRootView.findViewById(R.id.dashboard_write_btn);
  writeButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
      Intent i=new Intent(context,EditPost.class);
      i.putExtra("id",WordPress.currentBlog.getId());
      i.putExtra("isNew",true);
      i.putExtra("option","");
      context.startActivity(i);
    }
  }
);
  Button postsButton=(Button)mRootView.findViewById(R.id.dashboard_posts_btn);
  postsButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
      Intent i=new Intent(context,ViewPosts.class);
      context.startActivity(i);
    }
  }
);
  Button pagesButton=(Button)mRootView.findViewById(R.id.dashboard_pages_btn);
  pagesButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
      Intent i=new Intent(context,ViewPosts.class);
      i.putExtra("id",WordPress.currentBlog.getId());
      i.putExtra("isNew",true);
      i.putExtra("viewPages",true);
      context.startActivity(i);
    }
  }
);
  Button commentsButton=(Button)mRootView.findViewById(R.id.dashboard_comments_btn);
  commentsButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
      Intent i=new Intent(context,ViewComments.class);
      i.putExtra("id",WordPress.currentBlog.getId());
      i.putExtra("isNew",true);
      context.startActivity(i);
    }
  }
);
  Button statsButton=(Button)mRootView.findViewById(R.id.dashboard_stats_btn);
  statsButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
      Intent i=new Intent(context,ViewStats.class);
      i.putExtra("id",WordPress.currentBlog.getId());
      i.putExtra("isNew",true);
      context.startActivity(i);
    }
  }
);
  Button settingsButton=(Button)mRootView.findViewById(R.id.dashboard_settings_btn);
  settingsButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
      Intent i=new Intent(context,Settings.class);
      i.putExtra("id",WordPress.currentBlog.getId());
      i.putExtra("isNew",true);
      context.startActivity(i);
    }
  }
);
  Button subsButton=(Button)mRootView.findViewById(R.id.dashboard_subs_btn);
  subsButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
      Intent i=new Intent(context,About.class);
      i.putExtra("id",WordPress.currentBlog.getId());
      i.putExtra("loadReader",true);
      context.startActivity(i);
    }
  }
);
  Button picButton=(Button)mRootView.findViewById(R.id.dashboard_picture_btn);
  picButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
      Intent i=new Intent(context,EditPost.class);
      i.putExtra("option","newphoto");
      i.putExtra("isNew",true);
      context.startActivity(i);
    }
  }
);
  Button videoButton=(Button)mRootView.findViewById(R.id.dashboard_video_btn);
  videoButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
      Intent i=new Intent(context,EditPost.class);
      i.putExtra("option","newvideo");
      i.putExtra("isNew",true);
      context.startActivity(i);
    }
  }
);
  Button quickpress=(Button)mRootView.findViewById(R.id.quickpress);
  quickpress.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
      Intent i=new Intent(context,EditPost.class);
      i.putExtra("id",WordPress.currentBlog.getId());
      i.putExtra("isNew",true);
      i.putExtra("option","");
      context.startActivity(i);
    }
  }
);
}
