{
  final Button viewMap=(Button)findViewById(R.id.viewMap);
  viewMap.setOnClickListener(new TextView.OnClickListener(){
    public void onClick(    View v){
      Double latitude=0.0;
      try {
        latitude=curLocation.getLatitude();
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
      if (latitude != 0.0) {
        String uri="geo:" + latitude + ","+ curLocation.getLongitude();
        startActivity(new Intent(android.content.Intent.ACTION_VIEW,Uri.parse(uri)));
      }
 else {
        Toast.makeText(editPost.this,getResources().getText(R.string.location_toast),Toast.LENGTH_SHORT).show();
      }
    }
  }
);
  if (isNew) {
    Button updateLocation=(Button)findViewById(R.id.updateLocation);
    updateLocation.setVisibility(View.GONE);
    lm=(LocationManager)getSystemService(LOCATION_SERVICE);
    lm.requestLocationUpdates(LocationManager.GPS_PROVIDER,20000,0,editPost.this);
    lm.requestLocationUpdates(LocationManager.NETWORK_PROVIDER,20000,0,editPost.this);
    locationActive=true;
    RelativeLayout locationSection=(RelativeLayout)findViewById(R.id.section4);
    locationSection.setVisibility(View.VISIBLE);
  }
}
