{
  if (isCancelled() || !result) {
    mOnRefreshListener.onRefresh(false);
    if (getActivity() == null)     return;
    if (errorMsg != "" && !getActivity().isFinishing()) {
      FragmentTransaction ft=getFragmentManager().beginTransaction();
      WPAlertDialogFragment alert=WPAlertDialogFragment.newInstance(String.format(getResources().getString(R.string.error_refresh),(isPage) ? getResources().getText(R.string.pages) : getResources().getText(R.string.posts)),errorMsg);
      try {
        alert.show(ft,"alert");
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
      errorMsg="";
    }
    return;
  }
  if (loadMore)   switcher.showPrevious();
  mOnRefreshListener.onRefresh(false);
  if (isAdded()) {
    if (getActivity() != null) {
      getActivity().runOnUiThread(new Runnable(){
        @Override public void run(){
          loadPosts(loadMore);
        }
      }
);
    }
  }
}
