{
  super.onActivityCreated(bundle);
  mProgressFooterView=View.inflate(getActivity(),R.layout.list_footer_progress,null);
  getListView().addFooterView(mProgressFooterView,null,false);
  getListView().setDivider(getResources().getDrawable(R.drawable.list_divider));
  getListView().setDividerHeight(1);
  getListView().setOnItemClickListener(new AdapterView.OnItemClickListener(){
    public void onItemClick(    AdapterView<?> arg0,    View v,    int position,    long id){
      if (position >= getPostListAdapter().getCount())       return;
      if (v == null)       return;
      PostsListPost postsListPost=(PostsListPost)getPostListAdapter().getItem(position);
      if (postsListPost == null)       return;
      if (!mParentActivity.mIsRefreshing) {
        showPost(postsListPost.getPostId());
      }
 else {
        Toast.makeText(mParentActivity,R.string.please_wait_refresh_done,Toast.LENGTH_SHORT).show();
      }
    }
  }
);
  TextView textview=(TextView)getListView().getEmptyView();
  if (textview != null) {
    if (isPage) {
      textview.setText(getText(R.string.pages_empty_list));
    }
 else {
      textview.setText(getText(R.string.posts_empty_list));
    }
    textview.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        mParentActivity.newPost();
      }
    }
);
  }
  getListView().setAdapter(getPostListAdapter());
  getPostListAdapter().loadPosts();
  mListScrollPositionManager=new ListScrollPositionManager(getListView(),true);
}
