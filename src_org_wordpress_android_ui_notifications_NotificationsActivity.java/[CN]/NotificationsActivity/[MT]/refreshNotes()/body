{
  mFirstLoadComplete=false;
  shouldAnimateRefreshButton=true;
  startAnimatingRefreshButton(mRefreshMenuItem);
  NotesResponseHandler handler=new NotesResponseHandler(){
    @Override public void onNotes(    List<Note> notes){
      mFirstLoadComplete=true;
      final NotificationsListFragment.NotesAdapter adapter=mNotesList.getNotesAdapter();
      adapter.clear();
      adapter.addAll(notes);
      adapter.notifyDataSetChanged();
      if (!notes.isEmpty()) {
        updateLastSeen(notes.get(0).getTimestamp());
      }
      stopAnimatingRefreshButton(mRefreshMenuItem);
    }
    @Override public void onErrorResponse(    VolleyError error){
      mFirstLoadComplete=true;
      final NotificationsListFragment.NotesAdapter adapter=mNotesList.getNotesAdapter();
      adapter.clear();
      adapter.addAll(new ArrayList<Note>());
      adapter.notifyDataSetChanged();
      Toast.makeText(NotificationsActivity.this,String.format(getResources().getString(R.string.error_refresh),getResources().getText(R.string.notifications).toString().toLowerCase()),Toast.LENGTH_LONG).show();
      stopAnimatingRefreshButton(mRefreshMenuItem);
      shouldAnimateRefreshButton=false;
    }
  }
;
  WordPress.refreshNotifications(this,handler,handler);
}
