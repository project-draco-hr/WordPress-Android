{
  mFirstLoadComplete=false;
  mShouldAnimateRefreshButton=true;
  startAnimatingRefreshButton(mRefreshMenuItem);
  NotesResponseHandler notesHandler=new NotesResponseHandler(){
    @Override public void onNotes(    final List<Note> notes){
      mFirstLoadComplete=true;
      new Thread(){
        @Override public void run(){
          WordPress.wpDB.clearNotes();
          WordPress.wpDB.saveNotes(notes);
          NotificationsActivity.this.runOnUiThread(new Runnable(){
            @Override public void run(){
              refreshNotificationsListFragment(notes);
              stopAnimatingRefreshButton(mRefreshMenuItem);
            }
          }
);
        }
      }
.start();
    }
    @Override public void onErrorResponse(    VolleyError error){
      mFirstLoadComplete=true;
      final NotificationsListFragment.NotesAdapter adapter=mNotesList.getNotesAdapter();
      adapter.clear();
      adapter.addAll(new ArrayList<Note>());
      adapter.notifyDataSetChanged();
      Context context=NotificationsActivity.this;
      if (context != null)       ToastUtils.showToastOrAuthAlert(context,error,context.getString(R.string.error_refresh_notifications));
      stopAnimatingRefreshButton(mRefreshMenuItem);
      mShouldAnimateRefreshButton=false;
    }
  }
;
  NotificationUtils.refreshNotifications(notesHandler,notesHandler);
}
