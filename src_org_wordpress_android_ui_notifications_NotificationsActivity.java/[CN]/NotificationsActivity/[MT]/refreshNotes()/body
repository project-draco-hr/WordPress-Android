{
  restClient.getNotifications(new NotesResponseHandler(){
    @Override public void onStart(){
      super.onStart();
      mFirstLoadComplete=false;
      startAnimatingRefreshButton(mRefreshMenuItem);
    }
    @Override public void onSuccess(    List<Note> notes){
      final NotificationsListFragment.NotesAdapter adapter=mNotesList.getNotesAdapter();
      adapter.clear();
      adapter.addAll(notes);
      adapter.notifyDataSetChanged();
      if (!notes.isEmpty()) {
        updateLastSeen(notes.get(0).getTimestamp());
      }
    }
    public void onFinish(){
      super.onFinish();
      mFirstLoadComplete=true;
      stopAnimatingRefreshButton(mRefreshMenuItem);
    }
    @Override public void onFailure(    Throwable arg0,    JSONObject arg1){
      super.onFailure(arg0,arg1);
      setErrorScreen();
    }
    @Override public void onFailure(    Throwable arg0,    JSONArray arg1){
      super.onFailure(arg0,arg1);
      setErrorScreen();
    }
    @Override public void onFailure(    Throwable arg0,    String arg1){
      super.onFailure(arg0,arg1);
      setErrorScreen();
    }
    private void setErrorScreen(){
      final NotificationsListFragment.NotesAdapter adapter=mNotesList.getNotesAdapter();
      adapter.clear();
      adapter.addAll(new ArrayList<Note>());
      adapter.notifyDataSetChanged();
    }
  }
);
}
