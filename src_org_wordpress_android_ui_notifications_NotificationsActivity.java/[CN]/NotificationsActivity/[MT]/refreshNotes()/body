{
  restClient.getNotifications(new NotesResponseHandler(){
    @Override public void onStart(){
      super.onStart();
      mFirstLoadComplete=false;
      startAnimatingRefreshButton(mRefreshMenuItem);
    }
    @Override public void onSuccess(    List<Note> notes){
      final NotificationsListFragment.NotesAdapter adapter=mNotesList.getNotesAdapter();
      adapter.clear();
      adapter.addAll(notes);
      adapter.notifyDataSetChanged();
      if (!notes.isEmpty()) {
        updateLastSeen(notes.get(0).getTimestamp());
      }
    }
    @Override public void onFinish(){
      super.onFinish();
      mFirstLoadComplete=true;
      stopAnimatingRefreshButton(mRefreshMenuItem);
    }
    @Override public void showError(){
      final NotificationsListFragment.NotesAdapter adapter=mNotesList.getNotesAdapter();
      adapter.clear();
      adapter.addAll(new ArrayList<Note>());
      adapter.notifyDataSetChanged();
      Toast.makeText(NotificationsActivity.this,getString(R.string.error_refresh),Toast.LENGTH_LONG).show();
    }
  }
);
}
