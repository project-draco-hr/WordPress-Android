{
  super.onCreate(null);
  AnalyticsTracker.track(AnalyticsTracker.Stat.NOTIFICATIONS_ACCESSED);
  createMenuDrawer(R.layout.notifications);
  View fragmentContainer=findViewById(R.id.layout_fragment_container);
  mDualPane=fragmentContainer != null && getString(R.string.dual_pane_mode).equals(fragmentContainer.getTag());
  ActionBar actionBar=getSupportActionBar();
  actionBar.setDisplayShowTitleEnabled(true);
  setTitle(getResources().getString(R.string.notifications));
  FragmentManager fm=getSupportFragmentManager();
  fm.addOnBackStackChangedListener(mOnBackStackChangedListener);
  mNotesList=(NotificationsListFragment)fm.findFragmentById(R.id.fragment_notes_list);
  mNotesList.setNoteProvider(new NoteProvider());
  mNotesList.setOnNoteClickListener(new NoteClickListener());
  if (savedInstanceState != null) {
    int noteId=savedInstanceState.getInt(NOTE_ID_EXTRA,UNSPECIFIED_NOTE_ID);
    loadNotes(noteId);
  }
 else {
    loadNotes(UNSPECIFIED_NOTE_ID);
  }
  GCMIntentService.activeNotificationsMap.clear();
  if (savedInstanceState != null) {
    mHasPerformedInitialUpdate=savedInstanceState.getBoolean(KEY_INITIAL_UPDATE);
  }
  if (savedInstanceState != null) {
    popNoteDetail();
  }
  if (mBroadcastReceiver == null) {
    createBroadcastReceiver();
  }
  getWindow().setBackgroundDrawable(null);
}
