{
  super.onCreate(savedInstanceState);
  createMenuDrawer(R.layout.notifications);
  ActionBar actionBar=getSupportActionBar();
  actionBar.setDisplayShowTitleEnabled(true);
  setTitle(getString(R.string.notifications));
  mNotesAdapter=new NotesAdapter();
  FragmentManager fm=getSupportFragmentManager();
  mNotesList=(NotificationsListFragment)fm.findFragmentById(R.id.notes_list);
  mNotesList.setNoteProvider(new NoteProvider());
  ListView notesList=mNotesList.getListView();
  View progress=View.inflate(this,R.layout.list_footer_progress,null);
  notesList.addFooterView(progress);
  mNotesList.setListAdapter(mNotesAdapter);
  Blog blog=getCurrentBlog();
  restClient.requestAccessToken(blog.getUsername(),blog.getPassword(),new OauthTokenResponseHandler(){
    @Override public void onStart(){
      startAnimatingRefreshButton(mRefreshMenuItem);
      shouldAnimateRefreshButton=true;
    }
    @Override public void onSuccess(    OauthToken token){
      refreshNotes();
    }
    @Override public void onFailure(    Throwable e,    JSONObject response){
      Log.e(TAG,String.format("Failed: %s",response),e);
    }
    @Override public void onFinish(){
    }
  }
);
}
