{
  super.onActivityResult(requestCode,resultCode,data);
  if (data != null || requestCode == RequestCode.ACTIVITY_REQUEST_CODE_TAKE_PHOTO || requestCode == RequestCode.ACTIVITY_REQUEST_CODE_TAKE_VIDEO) {
    String path=null;
switch (requestCode) {
case RequestCode.ACTIVITY_REQUEST_CODE_PICTURE_LIBRARY:
case RequestCode.ACTIVITY_REQUEST_CODE_PICTURE_VIDEO_LIBRARY:
      Uri imageUri=data.getData();
    path=getRealPathFromURI(imageUri);
  queueFileForUpload(path);
break;
case RequestCode.ACTIVITY_REQUEST_CODE_TAKE_PHOTO:
if (resultCode == Activity.RESULT_OK) {
path=mMediaCapturePath;
mMediaCapturePath=null;
queueFileForUpload(path);
}
break;
case RequestCode.ACTIVITY_REQUEST_CODE_TAKE_VIDEO:
if (resultCode == Activity.RESULT_OK) {
path=getRealPathFromURI(MediaUtils.getLastRecordedVideoUri(getActivity()));
queueFileForUpload(path);
}
break;
}
}
}
