{
  if (post == null) {
    return "";
  }
 else   if (post.hasText()) {
    String content=post.getText().replace("src=\"//","src=\"http://");
    if (post.hasFeaturedImage() && !PhotonUtils.isMshotsUrl(post.getFeaturedImage())) {
      Uri uri=Uri.parse(post.getFeaturedImage());
      String path=StringUtils.notNullStr(uri.getLastPathSegment());
      if (!content.contains(path)) {
        AppLog.d(AppLog.T.READER,"reader renderer > added featured image to content");
        content=getFeaturedImageHtml(post,resourceVars) + content;
      }
    }
    return content;
  }
 else   if (post.hasFeaturedImage()) {
    return getFeaturedImageHtml(post,resourceVars);
  }
 else {
    return "";
  }
}
