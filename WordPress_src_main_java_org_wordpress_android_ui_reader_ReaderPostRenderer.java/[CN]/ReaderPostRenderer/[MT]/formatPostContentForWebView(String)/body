{
  StringBuilder sbHtml=new StringBuilder("<!DOCTYPE html><html><head><meta charset='UTF-8' />");
  sbHtml.append(String.format("<title>%s</title>",mPost.getTitle())).append("<meta name='viewport' content='width=device-width, initial-scale=1'>").append("<link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/css?family=Open+Sans' />").append("<style type='text/css'>").append("  body { font-family: 'Open Sans', sans-serif; margin: 0px; padding: 0px;}").append("  body, p, div { max-width: 100% !important; word-wrap: break-word; }").append("  p, div { line-height: 1.6em; font-size: 1em; }").append("  h1, h2 { line-height: 1.2em; }").append("  body, p, div, a { word-wrap: break-word; }").append("  p { margin-top: ").append(mResourceVars.marginSmallPx).append("px;").append("      margin-bottom: ").append(mResourceVars.marginSmallPx).append("px; }").append("  p:first-child { margin-top: 0px; }").append("  pre { overflow-x: scroll;").append("        background-color: ").append(mResourceVars.greyExtraLightStr).append("; ").append("        padding: ").append(mResourceVars.marginSmallPx).append("px; }").append("  blockquote { margin-left: ").append(mResourceVars.marginSmallPx).append("px; ").append("               padding-left: ").append(mResourceVars.marginSmallPx).append("px; ").append("               border-left: 3px solid ").append(mResourceVars.greyLightStr).append("; }").append("  a { text-decoration: none; color: ").append(mResourceVars.linkColorStr).append("; }");
  if (canEnableJavaScript()) {
    sbHtml.append("  iframe, embed { width: ").append(pxToDp(mResourceVars.videoWidthPx)).append("px !important;").append("                  height: ").append(pxToDp(mResourceVars.videoHeightPx)).append("px !important; }");
  }
 else {
    sbHtml.append("  iframe, embed { display: none; }");
  }
  sbHtml.append("  img.size-none { max-width: 100% !important; height: auto !important; }").append("  img.size-full, img.size-large, img.size-medium {").append("     display: block; margin-left: auto; margin-right: auto;").append("     background-color: ").append(mResourceVars.greyExtraLightStr).append(";").append("     margin-bottom: ").append(mResourceVars.marginSmallPx).append("px; }");
  if (content.contains("tiled-gallery-item")) {
    AppLog.d(AppLog.T.READER,"reader renderer > tiled gallery");
    sbHtml.append("  div.gallery-row, div.gallery-group { width: auto !important; height: auto !important; }").append("  div.tiled-gallery-caption { clear: both; }");
  }
  sbHtml.append("</style>").append("</head><body>").append(content).append("</body></html>");
  return sbHtml.toString();
}
