{
  mAllowCheckChanged=true;
  mType=GalleryType.DEFAULT;
  mNumColumns=DEFAULT_THUMBNAIL_COLUMN_COUNT;
  mIsRandomOrder=false;
  restoreState(savedInstanceState);
  View view=inflater.inflate(R.layout.media_gallery_settings_fragment,container,false);
  mNumColumnsContainer=view.findViewById(R.id.media_gallery_settings_num_columns_container);
  int visible=(mType == GalleryType.DEFAULT) ? View.VISIBLE : View.GONE;
  mNumColumnsContainer.setVisibility(visible);
  mNumColumnsGrid=(GridView)view.findViewById(R.id.media_gallery_num_columns_grid);
  ArrayList<String> list=new ArrayList<String>(9);
  for (int i=1; i <= 9; i++) {
    list.add(i + "");
  }
  mNumColumnsGrid.setAdapter(new CustomGridAdapter(mNumColumns));
  mThumbnailCheckbox=(CheckBox)view.findViewById(R.id.media_gallery_type_thumbnail_grid);
  mThumbnailCheckbox.setChecked(mType == GalleryType.DEFAULT);
  mThumbnailCheckbox.setOnCheckedChangeListener(this);
  mTiledCheckbox=(CheckBox)view.findViewById(R.id.media_gallery_type_tiled);
  mTiledCheckbox.setChecked(mType == GalleryType.TILED);
  mTiledCheckbox.setOnCheckedChangeListener(this);
  mSquaresCheckbox=(CheckBox)view.findViewById(R.id.media_gallery_type_squares);
  mSquaresCheckbox.setChecked(mType == GalleryType.SQUARES);
  mSquaresCheckbox.setOnCheckedChangeListener(this);
  mCirclesCheckbox=(CheckBox)view.findViewById(R.id.media_gallery_type_circles);
  mCirclesCheckbox.setChecked(mType == GalleryType.CIRCLES);
  mCirclesCheckbox.setOnCheckedChangeListener(this);
  mSlideshowCheckbox=(CheckBox)view.findViewById(R.id.media_gallery_type_slideshow);
  mSlideshowCheckbox.setChecked(mType == GalleryType.SLIDESHOW);
  mSlideshowCheckbox.setOnCheckedChangeListener(this);
  mRandomOrderCheckbox=(CheckBox)view.findViewById(R.id.media_gallery_random_checkbox);
  mRandomOrderCheckbox.setChecked(mIsRandomOrder);
  mRandomOrderCheckbox.setOnCheckedChangeListener(this);
  return view;
}
