{
  setContentView(R.layout.activity_media_picker);
  ActionBar actionBar=getSupportActionBar();
  if (actionBar != null) {
    actionBar.setDisplayShowTitleEnabled(true);
    actionBar.setDisplayShowHomeEnabled(true);
    actionBar.setHomeButtonEnabled(true);
    actionBar.setDisplayHomeAsUpEnabled(true);
    actionBar.setElevation(0);
    actionBar.show();
  }
  mMediaPickerAdapter=new MediaPickerAdapter(getFragmentManager());
  mTabLayout=(SlidingTabLayout)findViewById(R.id.media_picker_tabs);
  mViewPager=(WPViewPager)findViewById(R.id.media_picker_pager);
  if (mViewPager != null) {
    mViewPager.setPagingEnabled(true);
    if (mMediaSources[0] != null && !mMediaSources[0].isEmpty()) {
      mMediaPickerAdapter.addTab(mMediaSources[0],TAB_TITLE_DEVICE_IMAGES);
    }
    if (mMediaSources[1] != null && !mMediaSources[1].isEmpty()) {
      mMediaPickerAdapter.addTab(mMediaSources[1],TAB_TITLE_DEVICE_VIDEOS);
    }
    if (mMediaSources[2] != null && !mMediaSources[2].isEmpty()) {
      mMediaPickerAdapter.addTab(mMediaSources[2],TAB_TITLE_BLOG_IMAGES);
    }
    if (mMediaSources[3] != null && !mMediaSources[3].isEmpty()) {
      mMediaPickerAdapter.addTab(mMediaSources[3],TAB_TITLE_BLOG_VIDEOS);
    }
    mViewPager.setAdapter(mMediaPickerAdapter);
    if (mTabLayout != null) {
      mTabLayout.setCustomTabView(R.layout.tab_text,R.id.text_tab);
      mTabLayout.setDistributeEvenly(true);
      mTabLayout.setViewPager(mViewPager);
    }
  }
}
