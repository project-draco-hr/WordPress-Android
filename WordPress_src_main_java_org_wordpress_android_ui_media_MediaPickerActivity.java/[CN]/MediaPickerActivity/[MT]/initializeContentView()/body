{
  setContentView(R.layout.activity_media_picker);
  ActionBar actionBar=getSupportActionBar();
  if (actionBar != null) {
    actionBar.setDisplayShowTitleEnabled(true);
    actionBar.setDisplayShowHomeEnabled(true);
    actionBar.setHomeButtonEnabled(true);
    actionBar.setDisplayHomeAsUpEnabled(true);
    actionBar.setElevation(0);
    actionBar.show();
  }
  mMediaPickerAdapter=new MediaPickerAdapter(getFragmentManager());
  mTabLayout=(SlidingTabLayout)findViewById(R.id.media_picker_tabs);
  mViewPager=(WPViewPager)findViewById(R.id.media_picker_pager);
  if (mViewPager != null) {
    mViewPager.setPagingEnabled(true);
    mMediaPickerAdapter.addTab(mMediaSources[0] != null ? mMediaSources[0] : new ArrayList<MediaSource>(),getResources().getString(R.string.tab_title_device_images),"Loading device videos","Error fetching device images",null);
    mMediaPickerAdapter.addTab(mMediaSources[1] != null ? mMediaSources[1] : new ArrayList<MediaSource>(),getResources().getString(R.string.tab_title_device_videos),"Loading device images","Error fetching device videos ",null);
    mMediaPickerAdapter.addTab(mMediaSources[2] != null ? mMediaSources[2] : new ArrayList<MediaSource>(),getResources().getString(R.string.tab_title_site_images),"Loading library images","Unable to fetch blog images ",null);
    mMediaPickerAdapter.addTab(mMediaSources[3] != null ? mMediaSources[3] : new ArrayList<MediaSource>(),getResources().getString(R.string.tab_title_site_videos),"Loading library videos","Unable to fetch blog videos ",null);
    mViewPager.setAdapter(mMediaPickerAdapter);
    if (mTabLayout != null) {
      mTabLayout.setCustomTabView(R.layout.tab_text,R.id.text_tab);
      mTabLayout.setDistributeEvenly(true);
      mTabLayout.setViewPager(mViewPager);
    }
  }
}
