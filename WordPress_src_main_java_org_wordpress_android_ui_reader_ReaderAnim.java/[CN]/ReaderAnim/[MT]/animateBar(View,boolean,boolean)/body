{
  int newVisibility=(show ? View.VISIBLE : View.GONE);
  if (view == null || view.getVisibility() == newVisibility) {
    return;
  }
  float fromY;
  float toY;
  if (isTopBar) {
    fromY=(show ? -1f : 0f);
    toY=(show ? 0f : -1f);
  }
 else {
    fromY=(show ? 1f : 0f);
    toY=(show ? 0f : 1f);
  }
  Animation animation=new TranslateAnimation(Animation.RELATIVE_TO_SELF,0.0f,Animation.RELATIVE_TO_SELF,0.0f,Animation.RELATIVE_TO_SELF,fromY,Animation.RELATIVE_TO_SELF,toY);
  long durationMillis=Duration.SHORT.toMillis(view.getContext());
  animation.setDuration(durationMillis);
  if (show) {
    animation.setInterpolator(new DecelerateInterpolator());
  }
 else {
    animation.setInterpolator(new AccelerateInterpolator());
  }
  animation.setAnimationListener(new Animation.AnimationListener(){
    @Override public void onAnimationStart(    Animation animation){
      if (show) {
        view.setVisibility(View.VISIBLE);
      }
    }
    @Override public void onAnimationEnd(    Animation animation){
      if (!show) {
        view.setVisibility(View.GONE);
      }
    }
    @Override public void onAnimationRepeat(    Animation animation){
    }
  }
);
  view.clearAnimation();
  view.startAnimation(animation);
}
