{
  if (imageUri.toString().startsWith("content://com.android.gallery3d.provider")) {
    imageUri=Uri.parse(imageUri.toString().replace("com.android.gallery3d","com.google.android.gallery3d"));
  }
  if (imageUri.toString().startsWith("content://com.google.android.gallery3d")) {
    new DownloadImageTask().execute(imageUri);
  }
 else {
    String filePath=imageUri.toString();
    addMedia(filePath,imageUri);
  }
}
