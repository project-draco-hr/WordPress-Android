{
  ViewGroup sectionCategories=((ViewGroup)findViewById(R.id.sectionCategories));
  List<View> viewsToRemove=new ArrayList<View>();
  for (int i=0; i < sectionCategories.getChildCount(); i++) {
    View v=sectionCategories.getChildAt(i);
    Object tag=v.getTag();
    if (tag != null && tag.getClass() == String.class && (((String)tag).startsWith(CATEGORY_PREFIX_TAG) || tag.equals("select-category"))) {
      viewsToRemove.add(v);
    }
  }
  for (int i=0; i < viewsToRemove.size(); i++) {
    sectionCategories.removeView(viewsToRemove.get(i));
  }
  viewsToRemove.clear();
  LayoutInflater layoutInflater=getLayoutInflater();
  for (int i=0; i < mCategories.size(); i++) {
    String categoryName=mCategories.get(i);
    Button buttonCategory=(Button)layoutInflater.inflate(R.layout.category_button,null);
    buttonCategory.setText(Html.fromHtml(categoryName));
    buttonCategory.setTag(CATEGORY_PREFIX_TAG + categoryName);
    buttonCategory.setOnClickListener(this);
    sectionCategories.addView(buttonCategory);
  }
  Button selectCategory=(Button)layoutInflater.inflate(R.layout.category_select_button,null);
  selectCategory.setOnClickListener(this);
  sectionCategories.addView(selectCategory);
}
