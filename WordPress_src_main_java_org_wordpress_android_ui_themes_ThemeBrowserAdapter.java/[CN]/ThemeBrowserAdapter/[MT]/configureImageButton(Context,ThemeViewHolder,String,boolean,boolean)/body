{
  final PopupMenu popupMenu=new PopupMenu(context,themeViewHolder.imageButton);
  popupMenu.getMenuInflater().inflate(R.menu.theme_more,popupMenu.getMenu());
  configureMenuForTheme(popupMenu.getMenu(),isCurrent);
  popupMenu.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener(){
    @Override public boolean onMenuItemClick(    MenuItem item){
switch (item.getItemId()) {
case R.id.menu_activate:
        if (isPremium) {
          mCallback.onDetailsSelected(themeId);
        }
 else {
          mCallback.onActivateSelected(themeId);
        }
      break;
case R.id.menu_try_and_customize:
    mCallback.onTryAndCustomizeSelected(themeId);
  break;
case R.id.menu_view:
mCallback.onViewSelected(themeId);
break;
case R.id.menu_details:
mCallback.onDetailsSelected(themeId);
break;
case R.id.menu_support:
default :
mCallback.onSupportSelected(themeId);
break;
}
return true;
}
}
);
themeViewHolder.imageButton.setOnClickListener(new View.OnClickListener(){
@Override public void onClick(View v){
popupMenu.show();
}
}
);
}
