{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.activity_reader_photo_viewer);
  final WPNetworkImageView imageView=(WPNetworkImageView)findViewById(R.id.image_photo);
  mProgress=(ProgressBar)findViewById(R.id.progress);
  mProgress.setVisibility(View.VISIBLE);
  String imageUrl=getIntent().getStringExtra(ARG_IMAGE_URL);
  if (imageUrl != null && !UrlUtils.isHttps(imageUrl)) {
    Point pt=DisplayUtils.getDisplayPixelSize(this);
    int maxWidth=(pt.x > pt.y ? pt.x : pt.y);
    imageUrl=PhotonUtils.getPhotonImageUrl(imageUrl,maxWidth,0);
  }
  imageView.setImageUrl(imageUrl,ImageType.PHOTO_FULL,new ImageListener(){
    @Override public void onImageLoaded(    boolean succeeded){
      mProgress.setVisibility(View.GONE);
      if (succeeded) {
        new PhotoViewAttacher(imageView);
      }
 else {
        ToastUtils.showToast(ReaderPhotoViewerActivity.this,R.string.reader_toast_err_view_image,ToastUtils.Duration.LONG);
      }
    }
  }
);
}
