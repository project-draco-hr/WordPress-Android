{
  mIsDotComBlog=WordPress.currentBlog != null && WordPress.currentBlog.isDotcomFlag();
  List<Object> items=new ArrayList<Object>();
  Resources resources=getResources();
  items.add(new MenuDrawerItem(resources.getString(R.string.posts),R.drawable.dashboard_icon_posts));
  items.add(new MenuDrawerItem(resources.getString(R.string.pages),R.drawable.dashboard_icon_pages));
  items.add(new MenuDrawerItem(resources.getString(R.string.tab_comments),R.drawable.dashboard_icon_comments));
  items.add(new MenuDrawerItem(resources.getString(R.string.tab_stats),R.drawable.dashboard_icon_stats));
  if (mIsDotComBlog)   items.add(new MenuDrawerItem(resources.getString(R.string.reader),R.drawable.dashboard_icon_subs));
  items.add(new MenuDrawerItem(resources.getString(R.string.quick_photo),R.drawable.dashboard_icon_photo));
  items.add(new MenuDrawerItem(resources.getString(R.string.quick_video),R.drawable.dashboard_icon_video));
  items.add(new MenuDrawerItem(resources.getString(R.string.view_site),R.drawable.dashboard_icon_view));
  items.add(new MenuDrawerItem(resources.getString(R.string.wp_admin),R.drawable.dashboard_icon_wp));
  items.add(new MenuDrawerItem(resources.getString(R.string.settings),R.drawable.dashboard_icon_settings));
  if ((WPActionBarActivity.this instanceof PostsActivity))   mActivePosition=1;
  if ((WPActionBarActivity.this instanceof PagesActivity))   mActivePosition=2;
 else   if ((WPActionBarActivity.this instanceof CommentsActivity))   mActivePosition=3;
 else   if ((WPActionBarActivity.this instanceof StatsActivity))   mActivePosition=4;
 else   if ((WPActionBarActivity.this instanceof ReaderActivity))   mActivePosition=5;
 else   if ((WPActionBarActivity.this instanceof ViewSiteActivity))   mActivePosition=8;
 else   if ((WPActionBarActivity.this instanceof DashboardActivity))   mActivePosition=9;
  if (!mIsDotComBlog && mActivePosition > 4)   mActivePosition--;
  mAdapter=new MenuAdapter(items);
  mListView.setAdapter(mAdapter);
}
