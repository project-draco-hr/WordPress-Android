{
  super.onActivityResult(requestCode,resultCode,data);
switch (requestCode) {
case ADD_ACCOUNT_REQUEST:
    mNewBlogActivityRunning=false;
  if (resultCode == RESULT_OK) {
    getBlogNames();
    setupCurrentBlog();
    initMenuDrawer();
    mMenuDrawer.openMenu(false);
    WordPress.registerForCloudMessaging(this);
    showReaderIfNoBlog();
  }
 else {
    finish();
  }
break;
case SETTINGS_REQUEST:
if (resultCode == RESULT_OK) {
if (mMenuDrawer != null) {
  updateMenuDrawer();
  String[] blogNames=getBlogNames();
  if ((blogNames.length > 1 && mListView.getHeaderViewsCount() == 0) || blogNames.length == 1 && mListView.getHeaderViewsCount() > 0)   this.initMenuDrawer();
 else   if (blogNames.length > 1 && mBlogSpinner != null) {
    SpinnerAdapter mSpinnerAdapter=new ArrayAdapter<String>(getSupportActionBar().getThemedContext(),R.layout.sherlock_spinner_dropdown_item,blogNames);
    mBlogSpinner.setAdapter(mSpinnerAdapter);
  }
  if (blogNames.length >= 1) {
    setupCurrentBlog();
    onBlogChanged();
  }
  WordPress.registerForCloudMessaging(this);
}
}
break;
case AUTHENTICATE_REQUEST:
if (resultCode == RESULT_CANCELED) {
mReauthCanceled=true;
Intent i=new Intent(this,WelcomeActivity.class);
startActivityForResult(i,ADD_ACCOUNT_REQUEST);
}
 else {
WordPress.registerForCloudMessaging(this);
}
break;
}
}
