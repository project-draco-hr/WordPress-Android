{
  List<Map<String,Object>> accounts=WordPress.wpDB.getShownAccounts();
  int blogCount=accounts.size();
  blogIDs=new int[blogCount];
  String[] blogNames=new String[blogCount];
  for (int i=0; i < blogCount; i++) {
    Map<String,Object> account=accounts.get(i);
    String name;
    if (account.get("blogName") != null) {
      name=StringUtils.unescapeHTML(account.get("blogName").toString());
      if (name.trim().length() == 0) {
        name=StringUtils.getHost(account.get("url").toString());
      }
    }
 else {
      name=StringUtils.getHost(account.get("url").toString());
    }
    blogNames[i]=name;
    blogIDs[i]=Integer.valueOf(account.get("id").toString());
  }
  return blogNames;
}
