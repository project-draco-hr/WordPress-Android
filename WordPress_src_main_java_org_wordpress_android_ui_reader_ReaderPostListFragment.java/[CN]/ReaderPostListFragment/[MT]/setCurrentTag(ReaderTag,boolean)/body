{
  if (tag == null) {
    return;
  }
  if (isCurrentTag(tag) && hasPostAdapter() && getPostAdapter().isCurrentTag(tag)) {
    return;
  }
  mCurrentTag=tag;
switch (getPostListType()) {
case TAG_FOLLOWED:
    AppPrefs.setReaderTag(tag);
  break;
case TAG_PREVIEW:
mTagPreviewHistory.push(tag.getTagName());
break;
}
getPostAdapter().setCurrentTag(tag);
hideNewPostsBar();
hideUndoBar();
updateTagPreviewHeader();
showLoadingProgress(false);
if (allowAutoUpdate && ReaderTagTable.shouldAutoUpdateTag(tag)) {
updatePostsWithTag(tag,RequestDataAction.LOAD_NEWER,RefreshType.AUTOMATIC);
}
}
