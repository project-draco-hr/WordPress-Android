{
  super.onActivityCreated(savedInstanceState);
  setHasOptionsMenu(true);
  checkActionBar();
  boolean adapterAlreadyExists=hasPostAdapter();
  mListView.setAdapter(getPostAdapter());
  if (!adapterAlreadyExists) {
    boolean isRecreated=(savedInstanceState != null);
switch (getPostListType()) {
case TAG_FOLLOWED:
case TAG_PREVIEW:
      getPostAdapter().setCurrentTag(mCurrentTag);
    if (!isRecreated && ReaderTagTable.shouldAutoUpdateTag(mCurrentTag)) {
      updatePostsWithTag(getCurrentTag(),RequestDataAction.LOAD_NEWER,ReaderTypes.RefreshType.AUTOMATIC);
    }
  break;
case BLOG_PREVIEW:
getPostAdapter().setCurrentBlog(mCurrentBlogId);
if (!isRecreated) {
updatePostsInCurrentBlog(RequestDataAction.LOAD_NEWER);
}
break;
}
}
switch (getPostListType()) {
case BLOG_PREVIEW:
loadBlogInfo();
break;
case TAG_PREVIEW:
updateTagPreviewHeader();
break;
}
getPostAdapter().setOnTagSelectedListener(mOnTagSelectedListener);
getPostAdapter().setOnPostPopupListener(mOnPostPopupListener);
}
