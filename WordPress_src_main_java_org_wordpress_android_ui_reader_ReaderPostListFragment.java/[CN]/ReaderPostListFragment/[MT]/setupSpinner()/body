{
  if (!isAdded())   return;
  final Toolbar toolbar=(Toolbar)getActivity().findViewById(R.id.toolbar);
  if (toolbar == null) {
    return;
  }
  View view=View.inflate(getActivity(),R.layout.reader_spinner,toolbar);
  mSpinner=(Spinner)view.findViewById(R.id.action_bar_spinner);
  mSpinner.setAdapter(getSpinnerAdapter());
  mSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener(){
    @Override public void onItemSelected(    AdapterView<?> parent,    View view,    int position,    long id){
      final ReaderTag tag=(ReaderTag)getSpinnerAdapter().getItem(position);
      if (tag == null) {
        return;
      }
      if (!isCurrentTag(tag)) {
        Map<String,String> properties=new HashMap<>();
        properties.put("tag",tag.getTagName());
        AnalyticsTracker.track(AnalyticsTracker.Stat.READER_LOADED_TAG,properties);
        if (tag.getTagName().equals(ReaderTag.TAG_NAME_FRESHLY_PRESSED)) {
          AnalyticsTracker.track(AnalyticsTracker.Stat.READER_LOADED_FRESHLY_PRESSED);
        }
      }
      setCurrentTag(tag);
      AppLog.d(T.READER,String.format("reader post list > tag %s displayed",tag.getTagNameForLog()));
    }
    @Override public void onNothingSelected(    AdapterView<?> parent){
    }
  }
);
}
