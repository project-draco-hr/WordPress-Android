{
  if (mLinearLayout == null || mAdapter == null)   return;
  mLinearLayout.removeAllViews();
  int altRowColor=getResources().getColor(R.color.stats_alt_row);
  int groupCount=Math.min(mAdapter.getGroupCount(),StatsActivity.STATS_GROUP_MAX_ITEMS);
  for (int i=0; i < groupCount; i++) {
    boolean isExpanded=mGroupIdToExpandedMap.get(i);
    View groupView=mAdapter.getGroupView(i,isExpanded,null,mLinearLayout);
    if (i % 2 == 1)     groupView.setBackgroundColor(altRowColor);
    mLinearLayout.addView(groupView);
    if (isExpanded)     expandChildren(i);
    final int position=i;
    groupView.setOnClickListener(new OnClickListener(){
      @Override public void onClick(      View v){
        mGroupIdToExpandedMap.put(position,!mGroupIdToExpandedMap.get(position));
        reloadLinearLayout();
      }
    }
);
  }
}
