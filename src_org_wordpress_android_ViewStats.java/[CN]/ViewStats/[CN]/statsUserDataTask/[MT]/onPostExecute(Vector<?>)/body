{
  titleBar.stopRotatingRefreshIcon();
  if (result != null) {
    final String apiKey=result.get(0).toString();
    final String apiBlogID=result.get(1).toString();
    WordPress.currentBlog.setApi_blogid(apiBlogID);
    WordPress.currentBlog.setApi_key(apiKey);
    WordPress.currentBlog.save(ViewStats.this,"");
    if (!isFinishing())     titleBar.startRotatingRefreshIcon();
    new getStatsDataTask().execute(apiKey,apiBlogID,"views",7);
  }
 else {
    if (firstRun > 0) {
      Toast.makeText(ViewStats.this,getResources().getText(R.string.invalid_login) + " " + getResources().getText(R.string.site_not_found),Toast.LENGTH_SHORT).show();
    }
    firstRun++;
    if (errorMsg.equals("")) {
      showOrHideLoginForm();
    }
 else {
      errorMsg="";
      AlertDialog.Builder dialogBuilder=new AlertDialog.Builder(ViewStats.this);
      dialogBuilder.setTitle(getResources().getText(R.string.connection_error));
      dialogBuilder.setMessage(R.string.connection_error_occured);
      dialogBuilder.setPositiveButton("OK",new DialogInterface.OnClickListener(){
        public void onClick(        DialogInterface dialog,        int whichButton){
        }
      }
);
      dialogBuilder.setCancelable(true);
      if (!isFinishing())       dialogBuilder.create().show();
    }
  }
}
