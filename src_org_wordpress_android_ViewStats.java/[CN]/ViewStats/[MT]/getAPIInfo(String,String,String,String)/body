{
  Vector<String> apiInfo=null;
  if (!WordPress.currentBlog.isDotcomFlag()) {
    XMLRPCClient xmlClient=new XMLRPCClient(url,WordPress.currentBlog.getHttpuser(),WordPress.currentBlog.getHttppassword());
    Object[] params={1,WordPress.currentBlog.getUsername(),WordPress.currentBlog.getPassword()};
    try {
      HashMap<?,?> options=(HashMap<?,?>)xmlClient.call("wp.getOptions",params);
      if (options != null) {
        HashMap<?,?> blog_url=(HashMap<?,?>)options.get("blog_url");
        if (blog_url != null)         if (blog_url.get("value") != null)         url=blog_url.get("value").toString();
      }
    }
 catch (    XMLRPCException e) {
      url=url.replace("xmlrpc.php","");
    }
  }
 else {
    url=url.replace("xmlrpc.php","");
  }
  String wwwURL="";
  if (url.indexOf("http://www.") >= 0) {
    wwwURL=url;
    url=url.replace("http://www.","http://");
  }
 else {
    wwwURL=url.replace("http://","http://wwww.");
  }
  if (!url.endsWith("/")) {
    url+="/";
    wwwURL+="/";
  }
  URI uri=URI.create("https://public-api.wordpress.com/getuserblogs.php");
  configureClient(uri,username,password);
  HttpResponse response;
  try {
    response=client.execute(postMethod);
    int statusCode=response.getStatusLine().getStatusCode();
    if (statusCode != HttpStatus.SC_OK) {
      throw new IOException("HTTP status code: " + statusCode + " was returned. "+ response.getStatusLine().getReasonPhrase());
    }
    try {
      XmlPullParser pullParser=XmlPullParserFactory.newInstance().newPullParser();
      HttpEntity entity=response.getEntity();
      PushbackInputStream is=new PushbackInputStream(entity.getContent());
      int bomCheck=is.read();
      int stopper=0;
      while (bomCheck != 60 && stopper < 20) {
        bomCheck=is.read();
        stopper++;
      }
      is.unread(bomCheck);
      pullParser.setInput(is,"UTF-8");
      int eventType=pullParser.getEventType();
      String apiKey="";
      String blogID="";
      boolean foundKey=false;
      boolean foundID=false;
      boolean foundURL=false;
      String curBlogID="";
      String curBlogURL="";
      while (eventType != XmlPullParser.END_DOCUMENT) {
        if (eventType == XmlPullParser.START_DOCUMENT) {
        }
 else         if (eventType == XmlPullParser.END_DOCUMENT) {
        }
 else         if (eventType == XmlPullParser.START_TAG) {
          if (pullParser.getName().equals("apikey")) {
            foundKey=true;
          }
 else           if (pullParser.getName().equals("id")) {
            foundID=true;
          }
 else           if (pullParser.getName().equals("url")) {
            foundURL=true;
          }
        }
 else         if (eventType == XmlPullParser.END_TAG) {
        }
 else         if (eventType == XmlPullParser.TEXT) {
          if (foundKey) {
            apiKey=pullParser.getText();
            foundKey=false;
          }
 else           if (foundID) {
            curBlogID=pullParser.getText();
            foundID=false;
          }
 else           if (foundURL) {
            curBlogURL=pullParser.getText();
            foundURL=false;
            if (!curBlogURL.endsWith("/"))             curBlogURL+="/";
            if (((curBlogURL.equals(url) || (curBlogURL.equals(wwwURL))) || storedBlogID.equals(curBlogID)) && !curBlogID.equals("1")) {
              blogID=curBlogID;
              apiInfo=new Vector<String>();
              apiInfo.add(apiKey);
              apiInfo.add(blogID);
              return apiInfo;
            }
          }
        }
        eventType=pullParser.next();
      }
    }
 catch (    XmlPullParserException e) {
      e.printStackTrace();
    }
  }
 catch (  ClientProtocolException e) {
    e.printStackTrace();
  }
catch (  IOException e) {
    e.printStackTrace();
  }
  return apiInfo;
}
