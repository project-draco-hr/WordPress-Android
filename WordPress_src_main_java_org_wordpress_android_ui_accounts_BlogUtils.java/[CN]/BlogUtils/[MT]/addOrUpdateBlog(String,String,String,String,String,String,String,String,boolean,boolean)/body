{
  Blog blog;
  if (!WordPress.wpDB.isBlogInDatabase(Integer.parseInt(blogId),xmlRpcUrl)) {
    blog=new Blog(xmlRpcUrl,username,password);
    blog.setHomeURL(homeUrl);
    blog.setHttpuser(httpUsername);
    blog.setHttppassword(httpPassword);
    blog.setBlogName(blogName);
    blog.setImagePlacement("");
    blog.setFullSizeImage(false);
    blog.setMaxImageWidth(DEFAULT_IMAGE_SIZE);
    blog.setMaxImageWidthId(0);
    blog.setRemoteBlogId(Integer.parseInt(blogId));
    blog.setIsDotCom(xmlRpcUrl.contains("wordpress.com"));
    blog.setWpVersion("");
    blog.setAdmin(isAdmin);
    blog.setHidden(!isVisible);
    WordPress.wpDB.saveBlog(blog);
    return true;
  }
 else {
    int localTableBlogId=WordPress.wpDB.getLocalTableBlogIdForRemoteBlogIdAndXmlRpcUrl(Integer.parseInt(blogId),xmlRpcUrl);
    try {
      blog=WordPress.wpDB.instantiateBlogByLocalId(localTableBlogId);
      if (!blogName.equals(blog.getBlogName())) {
        blog.setBlogName(blogName);
        WordPress.wpDB.saveBlog(blog);
        return true;
      }
    }
 catch (    Exception e) {
      AppLog.e(T.NUX,"localTableBlogId: " + localTableBlogId + " not found");
    }
    return false;
  }
}
