{
  final String siteId=getBlogId();
  WordPress.getRestClientUtilsV1_1().getCurrentTheme(siteId,new Listener(){
    @Override public void onResponse(    JSONObject response){
      try {
        mCurrentTheme=Theme.fromJSONV1_1(response);
        if (mCurrentTheme != null) {
          mCurrentTheme.save();
          WordPress.wpDB.setCurrentTheme(siteId,mCurrentTheme.getId());
          mThemeBrowserFragment.setRefreshing(false);
          if (mThemeBrowserFragment.mCurrentThemeTextView != null) {
            mThemeBrowserFragment.mCurrentThemeTextView.setText(mCurrentTheme.getName());
            mThemeBrowserFragment.mCurrentThemeId=mCurrentTheme.getId();
          }
        }
      }
 catch (      JSONException e) {
        AppLog.e(T.THEMES,e);
      }
    }
  }
,new ErrorListener(){
    @Override public void onErrorResponse(    VolleyError response){
      String themeId=WordPress.wpDB.getCurrentThemeId(siteId);
      mCurrentTheme=WordPress.wpDB.getTheme(siteId,themeId);
      if (mCurrentTheme != null) {
        mThemeBrowserFragment.mCurrentThemeTextView.setText(mCurrentTheme.getName());
        mThemeBrowserFragment.mCurrentThemeId=mCurrentTheme.getId();
      }
    }
  }
);
}
