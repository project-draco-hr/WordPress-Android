{
  super(context,attrs);
  TypedArray array=context.obtainStyledAttributes(attrs,R.styleable.WPButtonPreference);
  for (int i=0; i < array.getIndexCount(); ++i) {
    int index=array.getIndex(i);
    if (index == R.styleable.WPButtonPreference_buttonText) {
      mButtonText=array.getString(index);
    }
 else     if (index == R.styleable.WPButtonPreference_buttonTextColor) {
      mButtonTextColor=array.getColor(index,ContextCompat.getColor(context,R.color.black));
    }
  }
  array.recycle();
}
