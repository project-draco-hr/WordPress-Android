{
  int action=event.getAction();
  if (action == MotionEvent.ACTION_UP) {
    int x=(int)event.getX();
    int y=(int)event.getY();
    x-=widget.getTotalPaddingLeft();
    y-=widget.getTotalPaddingTop();
    x+=widget.getScrollX();
    y+=widget.getScrollY();
    Layout layout=widget.getLayout();
    if (layout == null) {
      return super.onTouchEvent(widget,buffer,event);
    }
    int line=layout.getLineForVertical(y);
    int off=layout.getOffsetForHorizontal(line,x);
    URLSpan[] link=buffer.getSpans(off,off,URLSpan.class);
    if (link.length != 0) {
      String url=link[0].getURL();
      AppLog.d(AppLog.T.UTILS,"Tapped on the Link: " + url);
      if (url.startsWith("https://wordpress.com/my-stats") || url.startsWith("http://wordpress.com/my-stats")) {
        url=UrlUtils.makeHttps(url);
        if (url.contains("?")) {
          if (!url.contains("?no-chrome") && !url.contains("&no-chrome")) {
            url+="&no-chrome";
          }
        }
 else {
          url+="?no-chrome";
        }
        AppLog.d(AppLog.T.UTILS,"Opening the Authenticated in-app browser : " + url);
        SharedPreferences settings=PreferenceManager.getDefaultSharedPreferences(widget.getContext());
        String statsAuthenticatedUser=settings.getString(WordPress.WPCOM_USERNAME_PREFERENCE,null);
        String statsAuthenticatedPassword=WordPressDB.decryptPassword(settings.getString(WordPress.WPCOM_PASSWORD_PREFERENCE,null));
        if (org.apache.commons.lang.StringUtils.isEmpty(statsAuthenticatedPassword) || org.apache.commons.lang.StringUtils.isEmpty(statsAuthenticatedUser)) {
          return super.onTouchEvent(widget,buffer,event);
        }
        Intent statsWebViewIntent=new Intent(widget.getContext(),StatsWebViewActivity.class);
        statsWebViewIntent.putExtra(StatsWebViewActivity.STATS_AUTHENTICATED_USER,statsAuthenticatedUser);
        statsWebViewIntent.putExtra(StatsWebViewActivity.STATS_AUTHENTICATED_PASSWD,statsAuthenticatedPassword);
        statsWebViewIntent.putExtra(StatsWebViewActivity.STATS_AUTHENTICATED_URL,url);
        widget.getContext().startActivity(statsWebViewIntent);
        return true;
      }
 else       if (url.startsWith("https") || url.startsWith("http")) {
        AppLog.d(AppLog.T.UTILS,"Opening the in-app browser: " + url);
        Intent statsWebViewIntent=new Intent(widget.getContext(),StatsWebViewActivity.class);
        statsWebViewIntent.putExtra(StatsWebViewActivity.STATS_URL,url);
        widget.getContext().startActivity(statsWebViewIntent);
        return true;
      }
    }
  }
  return super.onTouchEvent(widget,buffer,event);
}
