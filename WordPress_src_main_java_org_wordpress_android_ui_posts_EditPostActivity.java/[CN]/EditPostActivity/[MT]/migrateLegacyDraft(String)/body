{
  if (content.contains("<img src=\"null\" android-uri=\"file:")) {
    Pattern pattern=Pattern.compile("<img src=\"null\" android-uri=\"([^\"]*)\".*/>");
    Matcher matcher=pattern.matcher(content);
    StringBuffer stringBuffer=new StringBuffer();
    while (matcher.find()) {
      String path=matcher.group(1).replace("file://","");
      MediaFile mediaFile=queueFileForUpload(path,null,"failed");
      if (mediaFile == null) {
        continue;
      }
      String replacement=getUploadErrorHtml(mediaFile.getMediaId(),mediaFile.getFilePath());
      matcher.appendReplacement(stringBuffer,replacement);
    }
    matcher.appendTail(stringBuffer);
    return stringBuffer.toString();
  }
  return content;
}
