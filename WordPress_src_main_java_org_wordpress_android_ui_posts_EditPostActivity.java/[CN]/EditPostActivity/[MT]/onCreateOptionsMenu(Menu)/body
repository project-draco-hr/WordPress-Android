{
  super.onCreateOptionsMenu(menu);
  MenuInflater inflater=getMenuInflater();
  if (mShowNewEditor) {
    inflater.inflate(R.menu.edit_post,menu);
  }
 else {
    inflater.inflate(R.menu.edit_post_legacy,menu);
  }
  mTags=(SuggestionAutoCompleteText)findViewById(R.id.tags);
  if (mTags != null) {
    mTags.setTokenizer(new SuggestionAutoCompleteText.CommaTokenizer());
    remoteBlogId=-1;
    String blogID=WordPress.getCurrentRemoteBlogId();
    if (blogID != null) {
      try {
        remoteBlogId=Integer.parseInt(blogID);
      }
 catch (      NumberFormatException e) {
        AppLog.e(T.EDITOR,"The remote blog ID can't be parsed as Integer: " + remoteBlogId);
      }
    }
    if (mSuggestionServiceConnectionManager == null) {
      mSuggestionServiceConnectionManager=new SuggestionServiceConnectionManager(this,remoteBlogId);
      mTagSuggestionAdapter=SuggestionUtils.setupTagSuggestions(remoteBlogId,this,mSuggestionServiceConnectionManager);
      if (mTagSuggestionAdapter != null) {
        mTags.setAdapter(mTagSuggestionAdapter);
      }
    }
  }
  return true;
}
