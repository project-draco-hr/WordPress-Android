{
  super.onCreateOptionsMenu(menu);
  MenuInflater inflater=getMenuInflater();
  if (mShowNewEditor) {
    inflater.inflate(R.menu.edit_post,menu);
  }
 else {
    inflater.inflate(R.menu.edit_post_legacy,menu);
  }
  mTags=(SuggestionAutoCompleteText)findViewById(R.id.tags);
  if (mTags != null) {
    mTags.setTokenizer(new SuggestionAutoCompleteText.CommaTokenizer());
    remoteBlogId=WordPress.getCurrentRemoteBlogId();
    mSuggestionServiceConnectionManager=new SuggestionServiceConnectionManager(this,remoteBlogId);
    mTagSuggestionAdapter=SuggestionUtils.setupTagSuggestions(remoteBlogId,this,mSuggestionServiceConnectionManager);
    if (mTagSuggestionAdapter != null) {
      mTags.setAdapter(mTagSuggestionAdapter);
    }
  }
  return true;
}
