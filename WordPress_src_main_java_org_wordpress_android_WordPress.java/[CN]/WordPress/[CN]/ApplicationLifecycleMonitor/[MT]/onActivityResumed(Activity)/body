{
  int orientation=activity.getResources().getConfiguration().orientation;
  boolean shouldRestart=mOrientation == -1 || mOrientation != orientation || !mClass.equals(activity.getClass());
  if (shouldRestart) {
    mOrientation=orientation;
    mClass=activity.getClass();
  }
  WPActivityUtils.applyLocale(activity,shouldRestart);
  if (isInBackground) {
    onFromBackground();
  }
  isInBackground=false;
}
