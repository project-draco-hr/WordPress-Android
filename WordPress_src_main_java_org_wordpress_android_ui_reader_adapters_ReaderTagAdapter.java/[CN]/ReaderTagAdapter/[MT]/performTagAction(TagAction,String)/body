{
  if (!NetworkUtils.checkConnection(getContext())) {
    return;
  }
  ReaderActions.ActionListener actionListener=new ReaderActions.ActionListener(){
    @Override public void onActionResult(    boolean succeeded){
      if (!succeeded && hasContext()) {
switch (action) {
case ADD:
          ToastUtils.showToast(getContext(),R.string.reader_toast_err_add_tag);
        break;
case DELETE:
      ToastUtils.showToast(getContext(),R.string.reader_toast_err_remove_tag);
    break;
}
refresh();
}
}
}
;
final boolean success;
ReaderTag tag=new ReaderTag(tagName,ReaderTagType.FOLLOWED);
switch (action) {
case ADD:
success=ReaderTagActions.performTagAction(tag,TagAction.ADD,actionListener);
break;
case DELETE:
success=ReaderTagActions.performTagAction(tag,TagAction.DELETE,actionListener);
break;
default :
success=false;
break;
}
if (success) {
int index=mTags.indexOfTagName(tagName);
if (index > -1) {
mTags.remove(index);
notifyItemRemoved(index);
}
if (mTagListener != null) {
mTagListener.onTagAction(tag,action);
}
}
}
