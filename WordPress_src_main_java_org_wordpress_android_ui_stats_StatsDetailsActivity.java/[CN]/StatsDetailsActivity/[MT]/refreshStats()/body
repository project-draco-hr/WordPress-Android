{
  if (mIsUpdatingStats) {
    AppLog.w(AppLog.T.STATS,"stats details are already updating for the following date " + mStatsDate + ", refresh cancelled.");
    return;
  }
  final Blog currentBlog=WordPress.getBlog(mLocalBlogID);
  if (mStatsDate == null || currentBlog == null || !NetworkUtils.isNetworkAvailable(this)) {
    mSwipeToRefreshHelper.setRefreshing(false);
    int errorMessageId=(mStatsDate == null || currentBlog == null) ? R.string.error_refresh_stats : R.string.connection_error;
    ToastUtils.showToast(this,this.getString(errorMessageId),ToastUtils.Duration.LONG);
    return;
  }
  final String blogId=StatsUtils.getBlogId(mLocalBlogID);
  final String viewAndVisitorsPath=String.format("/sites/%s/stats/visits?date=%s&unit=day&quantity=1",blogId,mStatsDate);
  final String topPostsAndPagesPath=String.format("/sites/%s/stats/top-posts?date=%s&days=1",blogId,mStatsDate);
  final String referrersPath=String.format("/sites/%s/stats/referrers?date=%s&days=1",blogId,mStatsDate);
  final String clicksPath=String.format("/sites/%s/stats/clicks?date=%s&days=1",blogId,mStatsDate);
  final String searchEngineTermsPath=String.format("/sites/%s/stats/search-terms?date=%s",blogId,mStatsDate);
  final String parametersSepator="&urls%5B%5D=";
  String path=new StringBuilder("batch/?urls%5B%5D=").append(Uri.encode(viewAndVisitorsPath)).append(parametersSepator).append(Uri.encode(topPostsAndPagesPath)).append(parametersSepator).append(Uri.encode(referrersPath)).append(parametersSepator).append(Uri.encode(clicksPath)).append(parametersSepator).append(Uri.encode(searchEngineTermsPath)).toString();
  AppLog.d(AppLog.T.STATS,"Enqueuing the following Stats request " + path);
  final RestClientUtils restClientUtils=WordPress.getRestClientUtils();
  RestBatchCallListener listener=new RestBatchCallListener(this,blogId,viewAndVisitorsPath,topPostsAndPagesPath,referrersPath,clicksPath,searchEngineTermsPath);
  restClientUtils.get(path,listener,listener);
  mIsUpdatingStats=true;
  mSwipeToRefreshHelper.setRefreshing(true);
}
