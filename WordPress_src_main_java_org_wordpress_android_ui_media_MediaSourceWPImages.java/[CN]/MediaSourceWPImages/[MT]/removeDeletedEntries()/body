{
  AsyncTask<List<MediaItem>,Void,Void> backgroundCheck=new AsyncTask<List<MediaItem>,Void,Void>(){
    final ArrayList<MediaItem> removedMedia=new ArrayList<>();
    @Override protected Void doInBackground(    List<MediaItem>[] params){
      for (      MediaItem mediaItem : params[0]) {
        try {
          URL mediaUrl=new URL(mediaItem.getSource().toString());
          HttpURLConnection connection=(HttpURLConnection)mediaUrl.openConnection();
          connection.setRequestMethod("GET");
          connection.connect();
          int responseCode=connection.getResponseCode();
          if (responseCode == 404) {
            removedMedia.add(mediaItem);
          }
        }
 catch (        MalformedURLException e) {
        }
catch (        IOException ioException) {
        }
        Thread.yield();
      }
      return null;
    }
    @Override public void onPostExecute(    Void result){
      for (      MediaItem deletedItem : removedMedia) {
        mMediaItems.remove(deletedItem);
      }
      if (removedMedia.size() > 0 && mListener != null) {
      }
    }
  }
;
  List<MediaItem> existingItems=new ArrayList<>(mMediaItems);
  backgroundCheck.execute(existingItems);
}
