{
  AsyncTask backgroundCheck=new AsyncTask(){
    @Override protected Object doInBackground(    Object[] params){
      List<MediaItem> removed=new ArrayList<>();
synchronized (mMediaItems) {
        for (        MediaItem mediaItem : mMediaItems) {
          try {
            URL mediaUrl=new URL(mediaItem.getSource().toString());
            HttpURLConnection connection=(HttpURLConnection)mediaUrl.openConnection();
            connection.setRequestMethod("GET");
            connection.connect();
            int responseCode=connection.getResponseCode();
            if (responseCode == 404) {
              removed.add(mediaItem);
            }
          }
 catch (          MalformedURLException e) {
          }
catch (          IOException ioException) {
          }
        }
        for (        MediaItem deletedItem : removed) {
          mMediaItems.remove(deletedItem);
        }
      }
      return null;
    }
  }
;
  backgroundCheck.execute();
}
