{
  List<MediaItem> existingItems=new ArrayList<>(mMediaItems);
  for (  MediaItem mediaItem : existingItems) {
    final boolean callLoaded=existingItems.indexOf(mediaItem) == existingItems.size() - 1;
    AsyncTask<MediaItem,Void,MediaItem> backgroundCheck=new AsyncTask<MediaItem,Void,MediaItem>(){
      int responseCode;
      @Override protected MediaItem doInBackground(      MediaItem[] params){
        MediaItem mediaItem=params[0];
        try {
          URL mediaUrl=new URL(mediaItem.getSource().toString());
          HttpURLConnection connection=(HttpURLConnection)mediaUrl.openConnection();
          connection.setRequestMethod("GET");
          connection.connect();
          responseCode=connection.getResponseCode();
        }
 catch (        IOException ioException) {
          Log.e("","Error reading from " + mediaItem.getSource() + "\nexception:"+ ioException);
          return null;
        }
        return mediaItem;
      }
      @Override public void onPostExecute(      MediaItem result){
        if (mListener != null && result != null) {
          List<MediaItem> resultList=new ArrayList<>();
          resultList.add(result);
          if (responseCode == 200) {
            mVerifiedItems.add(result);
            mListener.onMediaAdded(MediaSourceWPImages.this,resultList);
          }
          if (callLoaded) {
            mListener.onMediaLoaded(true);
          }
        }
      }
    }
;
    backgroundCheck.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR,mediaItem);
  }
}
