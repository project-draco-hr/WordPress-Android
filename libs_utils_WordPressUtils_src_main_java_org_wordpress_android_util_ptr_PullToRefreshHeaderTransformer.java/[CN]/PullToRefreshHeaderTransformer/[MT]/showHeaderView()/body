{
  resetContentLayoutAlpha();
  boolean changeVis=mHeaderView.getVisibility() != View.VISIBLE;
  mContentLayout.setVisibility(View.VISIBLE);
  if (changeVis) {
    if (isNetworkAvailableOrNotChecked()) {
      setPullText(mContext.getText(R.string.pull_to_refresh_pull_label));
    }
 else {
      setPullText(mContext.getText(R.string.pull_to_refresh_pull_no_network_label));
    }
    mHeaderView.setVisibility(View.VISIBLE);
    AnimatorSet animSet=new AnimatorSet();
    ObjectAnimator alphaAnim=ObjectAnimator.ofFloat(mHeaderView,"alpha",0f,1f);
    ObjectAnimator transAnim=ObjectAnimator.ofFloat(mContentLayout,"translationY",-mContentLayout.getHeight(),10f);
    animSet.playTogether(transAnim,alphaAnim);
    animSet.play(alphaAnim);
    animSet.setDuration(mAnimationDuration);
    animSet.start();
    if (mShowProgressBarOnly) {
      mContentLayout.setVisibility(View.INVISIBLE);
    }
  }
  return changeVis;
}
