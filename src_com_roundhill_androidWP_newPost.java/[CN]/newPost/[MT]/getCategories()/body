{
  Vector res;
  String returnMessage="";
  boolean enteredSettings=checkSettings();
  if (!enteredSettings) {
    returnMessage="invalidSettings";
  }
 else {
    settingsDB settingsDB=new settingsDB(this);
    Vector categoriesVector=settingsDB.loadSettings(this,id);
    String sURL="";
    if (categoriesVector.get(0).toString().contains("xmlrpc.php")) {
      sURL=categoriesVector.get(0).toString();
    }
 else {
      sURL=categoriesVector.get(0).toString() + "xmlrpc.php";
    }
    String sUsername=categoriesVector.get(2).toString();
    String sPassword=categoriesVector.get(3).toString();
    Object result[]=null;
    Object[] params={1,sUsername,sPassword};
    client=new XMLRPCClient(sURL);
    try {
      result=(Object[])client.call("wp.getCategories",params);
    }
 catch (    XMLRPCException e) {
      e.getMessage();
      e.printStackTrace();
      res=null;
    }
    int size=result.length;
    categoriesDB categoriesDB=new categoriesDB(this);
    categoriesDB.clearCategories(this,id);
    for (int i=0; i < size; i++) {
      HashMap curHash=(HashMap)result[i];
      String categoryName=curHash.get("categoryName").toString();
      String categoryID=curHash.get("categoryId").toString();
      int convertedCategoryID=Integer.parseInt(categoryID);
      categoriesDB.insertCategory(this,id,convertedCategoryID,categoryName);
      textArray.add(categoryName);
    }
    returnMessage="gotCategories";
    newStart=true;
  }
  return returnMessage;
}
