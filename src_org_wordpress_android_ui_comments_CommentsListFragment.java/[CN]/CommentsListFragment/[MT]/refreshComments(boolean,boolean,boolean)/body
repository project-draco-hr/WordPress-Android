{
  mListScrollPositionManager.saveScrollOffset();
  loadMore=more;
  refreshOnly=refresh;
  doInBackground=background;
  if (!loadMore && !doInBackground) {
    onAnimateRefreshButton.onAnimateRefreshButton(true);
  }
  client=new XMLRPCClient(WordPress.currentBlog.getUrl(),WordPress.currentBlog.getHttpuser(),WordPress.currentBlog.getHttppassword());
  Map<String,Object> hPost=new HashMap<String,Object>();
  if (loadMore) {
    ListView listView=this.getListView();
    scrollPosition=listView.getFirstVisiblePosition();
    View firstVisibleView=listView.getChildAt(0);
    scrollPositionTop=(firstVisibleView == null) ? 0 : firstVisibleView.getTop();
    hPost.put("number",numRecords + 30);
  }
 else {
    hPost.put("number",30);
  }
  Object[] params={WordPress.currentBlog.getBlogId(),WordPress.currentBlog.getUsername(),WordPress.currentBlog.getPassword(),hPost};
  commentParams=params;
  getCommentsTask=new getRecentCommentsTask();
  getCommentsTask.execute();
}
