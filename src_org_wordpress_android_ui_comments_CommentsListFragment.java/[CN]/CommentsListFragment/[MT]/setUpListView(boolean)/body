{
  ListView listView=this.getListView();
  listView.removeFooterView(switcher);
  listView.removeFooterView(mFooterSpacer);
  if (showSwitcher) {
    listView.addFooterView(switcher);
  }
  listView.addFooterView(mFooterSpacer);
  setListAdapter(new CommentAdapter());
  listView.setOnItemClickListener(new AdapterView.OnItemClickListener(){
    public void onItemClick(    AdapterView<?> arg0,    View view,    int position,    long id){
      selectedPosition=position;
      Comment comment=model.get((int)id);
      mOnCommentSelectedListener.onCommentSelected(comment);
      getListView().invalidateViews();
    }
  }
);
  listView.setOnCreateContextMenuListener(new View.OnCreateContextMenuListener(){
    public void onCreateContextMenu(    ContextMenu menu,    View v,    ContextMenu.ContextMenuInfo menuInfo){
      AdapterView.AdapterContextMenuInfo info;
      try {
        info=(AdapterView.AdapterContextMenuInfo)menuInfo;
      }
 catch (      ClassCastException e) {
        return;
      }
      WordPress.currentComment=model.get(info.position);
      menu.setHeaderTitle(getResources().getText(R.string.comment_actions));
      CommentStatus status=WordPress.currentComment.getStatusEnum();
      if (status != CommentStatus.APPROVED) {
        menu.add(0,MENU_ID_APPROVED,0,getResources().getText(R.string.mark_approved));
      }
 else {
        menu.add(0,MENU_ID_UNAPPROVED,0,getResources().getText(R.string.mark_unapproved));
      }
      if (status != CommentStatus.SPAM) {
        menu.add(0,MENU_ID_SPAM,0,getResources().getText(R.string.mark_spam));
      }
      menu.add(0,MENU_ID_DELETE,0,getResources().getText(R.string.delete));
      menu.add(0,MENU_ID_EDIT,0,getResources().getText(R.string.edit));
    }
  }
);
}
