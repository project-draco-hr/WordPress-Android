{
  ListView listView=this.getListView();
  listView.removeFooterView(switcher);
  listView.removeFooterView(mFooterSpacer);
  if (showSwitcher) {
    listView.addFooterView(switcher);
  }
  listView.addFooterView(mFooterSpacer);
  setListAdapter(new CommentAdapter());
  listView.setOnItemClickListener(new AdapterView.OnItemClickListener(){
    public void onItemClick(    AdapterView<?> arg0,    View view,    int position,    long id){
      selectedPosition=position;
      Comment comment=model.get((int)id);
      onCommentSelectedListener.onCommentSelected(comment);
      getListView().invalidateViews();
    }
  }
);
  listView.setOnCreateContextMenuListener(new View.OnCreateContextMenuListener(){
    public void onCreateContextMenu(    ContextMenu menu,    View v,    ContextMenu.ContextMenuInfo menuInfo){
      AdapterView.AdapterContextMenuInfo info;
      try {
        info=(AdapterView.AdapterContextMenuInfo)menuInfo;
      }
 catch (      ClassCastException e) {
        return;
      }
      WordPress.currentComment=model.get(info.position);
      menu.setHeaderTitle(getResources().getText(R.string.comment_actions));
      menu.add(0,0,0,getResources().getText(R.string.mark_approved));
      menu.add(0,1,0,getResources().getText(R.string.mark_unapproved));
      menu.add(0,2,0,getResources().getText(R.string.mark_spam));
      menu.add(0,3,0,getResources().getText(R.string.reply));
      menu.add(0,4,0,getResources().getText(R.string.delete));
      menu.add(0,5,0,getResources().getText(R.string.edit));
    }
  }
);
}
