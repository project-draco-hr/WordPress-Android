{
  if (url == null) {
    return null;
  }
  String sitePrefix=mRestClient.getEndpointURL() + "sites/";
  if (url.startsWith(sitePrefix) && !sitePrefix.equals(url)) {
    int marker=sitePrefix.length();
    if (url.indexOf("/",marker) < marker) {
      return null;
    }
    return url.substring(marker,url.indexOf("/",marker));
  }
 else   if (url.startsWith(BATCH_CALL_PREFIX) && !BATCH_CALL_PREFIX.equals(url)) {
    int marker=BATCH_CALL_PREFIX.length();
    if (url.indexOf("%2F",marker) < marker) {
      return null;
    }
    return url.substring(marker,url.indexOf("%2F",marker));
  }
  return null;
}
