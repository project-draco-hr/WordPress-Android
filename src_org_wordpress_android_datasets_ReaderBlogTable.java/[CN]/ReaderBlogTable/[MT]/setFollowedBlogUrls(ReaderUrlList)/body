{
  SQLiteDatabase db=ReaderDatabase.getWritableDb();
  db.beginTransaction();
  SQLiteStatement stmtUrl=db.compileStatement("INSERT OR REPLACE INTO tbl_followed_blogs (blog_url, is_following) VALUES (?1,?2)");
  SQLiteStatement stmtInfo=db.compileStatement("UPDATE tbl_blog_info SET is_following=? WHERE blog_url=?");
  try {
    long sqlTrue=SqlUtils.boolToSql(true);
    db.execSQL("UPDATE tbl_followed_blogs SET is_following=0");
    db.execSQL("UPDATE tbl_blog_info SET is_following=0");
    if (urls != null && urls.size() > 0) {
      for (      String url : urls) {
        String normUrl=UrlUtils.normalizeUrl(url);
        stmtUrl.bindString(1,normUrl);
        stmtUrl.bindLong(2,sqlTrue);
        stmtUrl.execute();
        stmtUrl.clearBindings();
        stmtInfo.bindLong(1,sqlTrue);
        stmtInfo.bindString(2,normUrl);
        stmtInfo.execute();
        stmtInfo.clearBindings();
      }
    }
    db.setTransactionSuccessful();
  }
  finally {
    db.endTransaction();
    SqlUtils.closeStatement(stmtUrl);
    SqlUtils.closeStatement(stmtInfo);
  }
}
