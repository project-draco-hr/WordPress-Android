{
  loadTextArray.clear();
  WordPressDB categoriesDB=new WordPressDB(this);
  Vector categoriesVector=categoriesDB.loadCategories(this,id);
  if (categoriesVector.size() > 0) {
    for (int i=0; i < categoriesVector.size(); i++) {
      loadTextArray.add(categoriesVector.get(i).toString());
    }
    ArrayAdapter<CharSequence> categories=new ArrayAdapter<CharSequence>(this,R.layout.categories_row,loadTextArray);
    this.setListAdapter(categories);
    if (checkedCategories != null) {
      ListView lv=getListView();
      for (int i=0; i < checkedCategories.length; i++) {
        lv.setItemChecked((int)checkedCategories[i],true);
      }
    }
 else     if (categoriesCSV != null) {
      String catsArray[]=categoriesCSV.split(",");
      ListView lv=getListView();
      for (int i=0; i < loadTextArray.size(); i++) {
        for (int x=0; x < catsArray.length; x++) {
          if (catsArray[x].equals(loadTextArray.get(i).toString())) {
            lv.setItemChecked(i,true);
          }
        }
      }
    }
  }
 else {
    pd=ProgressDialog.show(selectCategories.this,getResources().getText(R.string.refreshing_categories),getResources().getText(R.string.attempting_categories_refresh),true,true);
    Thread th=new Thread(){
      public void run(){
        finalResult=getCategories();
        mHandler.post(mUpdateResults);
      }
    }
;
    th.start();
  }
}
