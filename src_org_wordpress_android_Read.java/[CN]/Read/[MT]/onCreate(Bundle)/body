{
  super.onCreate(icicle);
  getWindow().setFormat(PixelFormat.RGBA_8888);
  getWindow().addFlags(WindowManager.LayoutParams.FLAG_DITHER);
  requestWindowFeature(Window.FEATURE_PROGRESS);
  setContentView(R.layout.reader);
  Bundle extras=getIntent().getExtras();
  if (extras != null) {
    loadReader=extras.getBoolean("loadReader");
    loadAdmin=extras.getBoolean("loadAdmin");
  }
  if (WordPress.wpDB == null)   WordPress.wpDB=new WordPressDB(this);
  if (WordPress.currentBlog == null) {
    WordPress.currentBlog=new Blog(WordPress.wpDB.getLastBlogID(this),this);
  }
  if (loadReader || loadAdmin) {
    this.setTitle(getResources().getText(R.string.reader));
    wv=(WebView)findViewById(R.id.webView);
    wv.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);
    new loadReaderTask().execute(null,null,null,null);
  }
 else {
    if (isPage) {
      this.setTitle(EscapeUtils.unescapeHtml(WordPress.currentBlog.getBlogName()) + " - " + getResources().getText(R.string.preview_page));
    }
 else {
      this.setTitle(EscapeUtils.unescapeHtml(WordPress.currentBlog.getBlogName()) + " - " + getResources().getText(R.string.preview_post));
    }
    loadPostFromPermalink();
  }
}
