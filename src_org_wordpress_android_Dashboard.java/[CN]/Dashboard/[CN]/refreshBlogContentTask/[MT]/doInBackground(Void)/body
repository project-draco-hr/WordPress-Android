{
  Blog blog=WordPress.currentBlog;
  XMLRPCClient client=new XMLRPCClient(blog.getUrl(),blog.getHttpuser(),blog.getHttppassword());
  if (!blog.isDotcomFlag()) {
    HashMap<String,String> hPost=new HashMap<String,String>();
    hPost.put("software_version","software_version");
    Object[] vParams={blog.getBlogId(),blog.getUsername(),blog.getPassword(),hPost};
    Object versionResult=new Object();
    try {
      versionResult=(Object)client.call("wp.getOptions",vParams);
    }
 catch (    XMLRPCException e) {
    }
    if (versionResult != null) {
      try {
        HashMap<?,?> contentHash=(HashMap<?,?>)versionResult;
        HashMap<?,?> sv=(HashMap<?,?>)contentHash.get("software_version");
        String wpVersion=sv.get("value").toString();
        if (wpVersion.length() > 0) {
          blog.setWpVersion(wpVersion);
        }
      }
 catch (      Exception e) {
      }
    }
  }
  Vector<Object> args=new Vector<Object>();
  args.add(blog);
  args.add(Dashboard.this);
  new ApiHelper.getPostFormatsTask().execute(args);
  HashMap<String,Object> hPost=new HashMap<String,Object>();
  hPost.put("status","");
  hPost.put("post_id","");
  hPost.put("number",30);
  Object[] commentParams={blog.getBlogId(),blog.getUsername(),blog.getPassword(),hPost};
  args.add(commentParams);
  try {
    ApiHelper.refreshComments(Dashboard.this,commentParams,false);
  }
 catch (  XMLRPCException e) {
    e.printStackTrace();
  }
  return true;
}
