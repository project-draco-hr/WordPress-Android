{
  String uuid=WordPress.wpDB.getUUID(this);
  if (uuid == "") {
    uuid=UUID.randomUUID().toString();
    WordPress.wpDB.updateUUID(this,uuid);
  }
  PackageManager pm=getPackageManager();
  String app_version="";
  try {
    try {
      PackageInfo pi=pm.getPackageInfo("org.wordpress.android",0);
      app_version=pi.versionName;
    }
 catch (    NameNotFoundException e) {
      e.printStackTrace();
      app_version="N/A";
    }
    TelephonyManager tm=(TelephonyManager)getSystemService(Context.TELEPHONY_SERVICE);
    String device_language=getResources().getConfiguration().locale.getLanguage();
    String mobile_country_code=tm.getNetworkCountryIso();
    String mobile_network_number=tm.getNetworkOperator();
    int network_type=tm.getNetworkType();
    String mobile_network_type="N/A";
switch (network_type) {
case 0:
      mobile_network_type="TYPE_UNKNOWN";
    break;
case 1:
  mobile_network_type="GPRS";
break;
case 2:
mobile_network_type="EDGE";
break;
case 3:
mobile_network_type="UMTS";
break;
case 4:
mobile_network_type="CDMA";
break;
case 5:
mobile_network_type="EVDO_0";
break;
case 6:
mobile_network_type="EVDO_A";
break;
case 7:
mobile_network_type="1xRTT";
break;
case 8:
mobile_network_type="HSDPA";
break;
case 9:
mobile_network_type="HSUPA";
break;
case 10:
mobile_network_type="HSPA";
break;
}
String device_version=android.os.Build.VERSION.RELEASE;
if (device_version == null) {
device_version="N/A";
}
int num_blogs=numBlogs;
HttpClient client=new DefaultHttpClient();
HttpPost post=new HttpPost("http://api.wordpress.org/androidapp/update-check/1.0/");
post.setHeader("Content-Type","application/x-www-form-urlencoded");
List<NameValuePair> pairs=new ArrayList<NameValuePair>();
pairs.add(new BasicNameValuePair("device_uuid",uuid));
pairs.add(new BasicNameValuePair("app_version",app_version));
pairs.add(new BasicNameValuePair("device_language",device_language));
pairs.add(new BasicNameValuePair("mobile_country_code",mobile_country_code));
pairs.add(new BasicNameValuePair("mobile_network_number",mobile_network_number));
pairs.add(new BasicNameValuePair("mobile_network_type",mobile_network_type));
pairs.add(new BasicNameValuePair("device_version",device_version));
pairs.add(new BasicNameValuePair("num_blogs",String.valueOf(num_blogs)));
try {
post.setEntity(new UrlEncodedFormEntity(pairs));
}
 catch (UnsupportedEncodingException e) {
e.printStackTrace();
}
try {
client.execute(post);
}
 catch (Exception e) {
e.printStackTrace();
}
}
 catch (Exception e) {
e.printStackTrace();
}
}
