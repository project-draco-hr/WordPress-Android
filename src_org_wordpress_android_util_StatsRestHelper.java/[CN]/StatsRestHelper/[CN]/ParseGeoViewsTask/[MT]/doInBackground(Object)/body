{
  String blogId=(String)params[0];
  JSONObject response=(JSONObject)params[1];
  Context context=WordPress.getContext();
  if (response != null && response.has("country-views")) {
    try {
      JSONArray results=response.getJSONArray("country-views");
      int count=results.length();
      String date=response.getString("date");
      long dateMs=StatUtils.toMs(date);
      ArrayList<ContentProviderOperation> operations=new ArrayList<ContentProviderOperation>();
      if (count > 0) {
        ContentProviderOperation delete_op=ContentProviderOperation.newDelete(StatsContentProvider.STATS_GEOVIEWS_URI).withSelection("blogId=? AND (date=? OR date<=?)",new String[]{blogId,dateMs + "",(dateMs - TWO_DAYS) + ""}).build();
        operations.add(delete_op);
      }
      for (int i=0; i < count; i++) {
        JSONObject result=results.getJSONObject(i);
        StatsGeoview stat=new StatsGeoview(blogId,result);
        ContentValues values=StatsGeoviewsTable.getContentValues(stat);
        ContentProviderOperation op=ContentProviderOperation.newInsert(StatsContentProvider.STATS_GEOVIEWS_URI).withValues(values).build();
        operations.add(op);
      }
      ContentResolver resolver=context.getContentResolver();
      resolver.applyBatch(StatsContentProvider.AUTHORITY,operations);
      resolver.notifyChange(StatsContentProvider.STATS_GEOVIEWS_URI,null);
    }
 catch (    JSONException e) {
      e.printStackTrace();
    }
catch (    RemoteException e) {
      e.printStackTrace();
    }
catch (    OperationApplicationException e) {
      e.printStackTrace();
    }
  }
  updateRefreshMap(StatsViewType.VIEWS_BY_COUNTRY,-1);
  return null;
}
