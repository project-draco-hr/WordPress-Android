{
  if (sRefreshMap == null) {
    initRefreshMap();
  }
  String today=StatUtils.getCurrentDate();
  String yesterday=StatUtils.getYesterdaysDate();
switch (type) {
case CLICKS:
    updateRefreshMap(type,2);
  getStatsClicks(blogId,today);
getStatsClicks(blogId,yesterday);
break;
case COMMENTS:
updateRefreshMap(type,1);
getStatsComments(blogId);
break;
case REFERRERS:
updateRefreshMap(type,2);
getStatsReferrers(blogId,today);
getStatsReferrers(blogId,yesterday);
break;
case SEARCH_ENGINE_TERMS:
updateRefreshMap(type,2);
getStatsSearchEngineTerms(blogId,today);
getStatsSearchEngineTerms(blogId,yesterday);
break;
case TAGS_AND_CATEGORIES:
updateRefreshMap(type,1);
getStatsTagsAndCategories(blogId);
break;
case TOP_AUTHORS:
updateRefreshMap(type,1);
getStatsTopAuthors(blogId);
break;
case TOP_POSTS_AND_PAGES:
updateRefreshMap(type,1);
getStatsTopPostsAndPages(blogId);
break;
case TOTALS_FOLLOWERS_AND_SHARES:
updateRefreshMap(type,1);
getStatsTotalsFollowersAndShares(blogId);
break;
case VIDEO_PLAYS:
updateRefreshMap(type,1);
getStatsVideoPlays(blogId,today);
break;
case VIEWS_BY_COUNTRY:
updateRefreshMap(type,1);
getStatsViewsByCountry(blogId,today);
break;
case VISITORS_AND_VIEWS:
updateRefreshMap(type,4);
getStatsVisitorsAndViews(blogId);
getStatsBarChart(blogId,StatsBarChartUnit.DAY);
getStatsBarChart(blogId,StatsBarChartUnit.WEEK);
getStatsBarChart(blogId,StatsBarChartUnit.MONTH);
break;
}
}
