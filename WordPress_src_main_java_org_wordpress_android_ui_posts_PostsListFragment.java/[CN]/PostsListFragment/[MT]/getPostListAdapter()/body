{
  if (mPostsListAdapter == null) {
    PostsListAdapter.OnLoadMoreListener loadMoreListener=new PostsListAdapter.OnLoadMoreListener(){
      @Override public void onLoadMore(){
        if (mCanLoadMorePosts && !mIsFetchingPosts)         requestPosts(true);
      }
    }
;
    PostsListAdapter.OnPostsLoadedListener postsLoadedListener=new PostsListAdapter.OnPostsLoadedListener(){
      @Override public void onPostsLoaded(      int postCount){
        if (!isAdded()) {
          return;
        }
        if (postCount == 0) {
          mEmptyView.setVisibility(View.VISIBLE);
        }
 else {
          mEmptyView.setVisibility(View.GONE);
        }
        if (!isRefreshing() || mKeepSwipeRefreshLayoutVisible) {
          updateEmptyView(EmptyViewMessageType.NO_CONTENT);
        }
        if (postCount == 0 && mCanLoadMorePosts) {
          if (isAdded() && NetworkUtils.isNetworkAvailable(getActivity())) {
            setRefreshing(true);
            requestPosts(false);
          }
 else {
            updateEmptyView(EmptyViewMessageType.NETWORK_ERROR);
          }
        }
 else         if (mShouldSelectFirstPost) {
          mShouldSelectFirstPost=false;
          if (mPostsListAdapter.getCount() > 0) {
            PostsListPost postsListPost=(PostsListPost)mPostsListAdapter.getItem(0);
            if (postsListPost != null) {
              showPost(postsListPost.getPostId());
              getListView().setItemChecked(0,true);
            }
          }
        }
 else         if (isAdded() && ((PostsListActivity)getActivity()).isDualPane()) {
          int selectedPosition=getListView().getCheckedItemPosition();
          if (selectedPosition != ListView.INVALID_POSITION && selectedPosition < mPostsListAdapter.getCount()) {
            PostsListPost postsListPost=(PostsListPost)mPostsListAdapter.getItem(selectedPosition);
            if (postsListPost != null) {
              showPost(postsListPost.getPostId());
            }
          }
        }
      }
    }
;
    mPostsListAdapter=new PostsListAdapter(getActivity(),mIsPage,loadMoreListener,postsLoadedListener);
  }
  return mPostsListAdapter;
}
