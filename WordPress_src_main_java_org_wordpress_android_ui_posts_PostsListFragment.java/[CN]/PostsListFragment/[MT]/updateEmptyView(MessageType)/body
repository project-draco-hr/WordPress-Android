{
  if (mAnimateFromManualRefresh) {
    mAnimateFromAutoRefresh=false;
    if (mPostsListAdapter == null || mPostsListAdapter.getCount() == 0) {
      if (!MessageType.isError(mEmptyViewMessage) && !MessageType.isError(messageType)) {
        if (mEmptyViewMessage == MessageType.NO_CONTENT && messageType == MessageType.LOADING) {
          mEmptyViewAnimationHandler.showLoadingSequence();
        }
 else {
          mEmptyViewAnimationHandler.showNoContentSequence();
        }
        return;
      }
    }
    mAnimateFromManualRefresh=false;
  }
 else   if (mAnimateFromAutoRefresh) {
    if (mEmptyViewMessage == MessageType.LOADING && messageType == MessageType.NO_CONTENT) {
      mEmptyViewAnimationHandler.showNoContentSequence();
      return;
    }
    mAnimateFromAutoRefresh=false;
  }
  if (mEmptyView != null) {
    int stringId=0;
    if (!mEmptyViewAnimationHandler.isBetweenSequences()) {
      if (messageType == MessageType.NO_CONTENT) {
        mEmptyViewImage.setVisibility(View.VISIBLE);
      }
 else {
        mEmptyViewImage.setVisibility(View.GONE);
      }
    }
switch (messageType) {
case LOADING:
      stringId=mIsPage ? R.string.loading_pages : R.string.loading_posts;
    break;
case NO_CONTENT:
  stringId=mIsPage ? R.string.pages_empty_list : R.string.posts_empty_list;
break;
case NETWORK_ERROR:
stringId=R.string.no_network_message;
break;
case PERMISSION_ERROR:
stringId=mIsPage ? R.string.error_refresh_unauthorized_pages : R.string.error_refresh_unauthorized_posts;
break;
case GENERIC_ERROR:
stringId=mIsPage ? R.string.error_refresh_pages : R.string.error_refresh_posts;
break;
}
mEmptyViewTitle.setText(getText(stringId));
mEmptyViewMessage=messageType;
}
}
