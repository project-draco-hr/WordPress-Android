{
  Context context=getActivity();
  if (context == null)   return;
  PreferenceCategory rootCategory=new PreferenceCategory(context);
  rootCategory.setTitle(R.string.notification_types);
  preferenceScreen.addPreference(rootCategory);
  JSONObject timelineSettings=JSONUtils.queryJSON(settingsObject,"timeline",new JSONObject());
  NotificationsSettingsDialogPreference timelinePreference=new NotificationsSettingsDialogPreference(context,null,channel,NotificationsSettings.Type.TIMELINE,siteId,timelineSettings,mOnSettingsChangedListener);
  timelinePreference.setTitle(R.string.timeline);
  timelinePreference.setDialogTitle(R.string.timeline);
  rootCategory.addPreference(timelinePreference);
  JSONObject emailSettings=JSONUtils.queryJSON(settingsObject,"email",new JSONObject());
  NotificationsSettingsDialogPreference emailPreference=new NotificationsSettingsDialogPreference(context,null,channel,NotificationsSettings.Type.EMAIL,siteId,emailSettings,mOnSettingsChangedListener);
  emailPreference.setTitle(R.string.email);
  emailPreference.setDialogTitle(R.string.email);
  rootCategory.addPreference(emailPreference);
  JSONObject deviceSettings=JSONUtils.queryJSON(settingsObject,"device",new JSONObject());
  NotificationsSettingsDialogPreference devicePreference=new NotificationsSettingsDialogPreference(context,null,channel,NotificationsSettings.Type.MOBILE,siteId,deviceSettings,mOnSettingsChangedListener);
  devicePreference.setTitle(R.string.mobile_notifications);
  devicePreference.setDialogTitle(R.string.mobile_notifications);
  devicePreference.setEnabled(mNotificationsEnabled);
  rootCategory.addPreference(devicePreference);
  mTypePreferenceCategories.add(rootCategory);
}
