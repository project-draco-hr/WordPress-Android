{
  Uri imageUri=Uri.parse(mediaFile.getFilePath());
  Bitmap thumbnailBitmap;
  if (imageUri.toString().contains("video") && !MediaUtils.isInMediaStore(imageUri)) {
    thumbnailBitmap=BitmapFactory.decodeResource(context.getResources(),R.drawable.media_movieclip);
  }
 else {
    thumbnailBitmap=ImageUtils.getWPImageSpanThumbnailFromFilePath(context,imageUri.getEncodedPath(),ImageUtils.getMaximumThumbnailWidthForEditor(context));
    if (thumbnailBitmap == null) {
      return null;
    }
  }
  WPEditImageSpan imageSpan=new WPEditImageSpan(context,thumbnailBitmap,imageUri);
  mediaFile.setWidth(MediaUtils.getMinimumImageWidth(context,imageUri,mBlogSettingMaxImageWidth));
  return imageSpan;
}
