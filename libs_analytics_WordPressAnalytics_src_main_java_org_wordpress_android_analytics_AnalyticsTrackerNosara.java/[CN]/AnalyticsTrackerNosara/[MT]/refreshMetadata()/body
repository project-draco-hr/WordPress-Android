{
  if (mNosaraClient == null) {
    return;
  }
  boolean isWordPressComConnected=WordPress.hasDotComToken(WordPress.getContext());
  if (isWordPressComConnected) {
    SharedPreferences preferences=PreferenceManager.getDefaultSharedPreferences(WordPress.getContext());
    String username=preferences.getString(WordPress.WPCOM_USERNAME_PREFERENCE,null);
    mWpcomUserName=username;
    if (getAnonID() != null) {
      mNosaraClient.trackAliasUser(mWpcomUserName,getAnonID());
      clearAnonID();
    }
  }
 else {
    mWpcomUserName=null;
    if (getAnonID() == null) {
      generateNewAnonID();
    }
  }
  boolean jetpackUser=WordPress.wpDB.hasAnyJetpackBlogs();
  int numBlogs=WordPress.wpDB.getVisibleAccounts().size();
  try {
    JSONObject properties=new JSONObject();
    properties.put(JETPACK_USER,jetpackUser);
    properties.put(NUMBER_OF_BLOGS,numBlogs);
    mNosaraClient.registerUserProperties(properties);
  }
 catch (  JSONException e) {
    AppLog.e(AppLog.T.UTILS,e);
  }
}
