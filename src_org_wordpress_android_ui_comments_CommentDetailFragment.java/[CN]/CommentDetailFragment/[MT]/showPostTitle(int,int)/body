{
  if (!hasActivity())   return;
  final TextView txtPostTitle=(TextView)getActivity().findViewById(R.id.text_post_title);
  boolean postExists=ReaderPostTable.postExists(blogId,postId);
  final String title;
  if (getNote() != null) {
    title=getNote().getSubject();
  }
 else   if (postExists) {
    title=ReaderPostTable.getPostTitle(blogId,postId);
  }
 else {
    title=null;
  }
  final boolean hasTitle=!TextUtils.isEmpty(title);
  if (hasTitle)   txtPostTitle.setText(title);
  if (!postExists) {
    final ProgressBar progress=(ProgressBar)getActivity().findViewById(R.id.progress_post_title);
    if (!hasTitle)     progress.setVisibility(View.VISIBLE);
    ReaderPostActions.requestPost(blogId,postId,new ReaderActions.ActionListener(){
      @Override public void onActionResult(      boolean succeeded){
        if (!hasActivity())         return;
        progress.setVisibility(View.INVISIBLE);
        if (succeeded && !hasTitle) {
          String title=ReaderPostTable.getPostTitle(blogId,postId);
          if (!TextUtils.isEmpty(title)) {
            txtPostTitle.setText(title);
          }
 else {
            txtPostTitle.setText(R.string.untitled);
          }
        }
      }
    }
);
  }
  txtPostTitle.setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View v){
      viewPostInReader();
    }
  }
);
}
