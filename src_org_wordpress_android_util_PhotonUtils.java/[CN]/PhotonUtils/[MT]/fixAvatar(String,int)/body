{
  if (imageUrl == null)   throw new IllegalArgumentException("avatar imageUrl cannot be null");
  if (!imageUrl.contains("gravatar.com"))   return getPhotonImageUrl(imageUrl,avatarSz,avatarSz);
  int queryPos=imageUrl.indexOf("?");
  if (queryPos == -1)   return imageUrl + String.format("?s=%d",avatarSz);
  return imageUrl.substring(0,queryPos) + String.format("?s=%d",avatarSz);
}
