{
  final String ALERT_TAG="alert_ask_credentials";
  if (activity.isFinishing()) {
    return;
  }
  if (activity.getSupportFragmentManager().findFragmentByTag(ALERT_TAG) != null) {
    return;
  }
  FragmentTransaction ft=activity.getSupportFragmentManager().beginTransaction();
  AuthErrorDialogFragment authAlert;
  if (WordPress.getCurrentBlog() == null) {
    authAlert=AuthErrorDialogFragment.newInstance(true);
  }
 else {
    authAlert=AuthErrorDialogFragment.newInstance(WordPress.getCurrentBlog().isDotcomFlag());
  }
  ft.add(authAlert,ALERT_TAG);
  ft.commitAllowingStateLoss();
}
