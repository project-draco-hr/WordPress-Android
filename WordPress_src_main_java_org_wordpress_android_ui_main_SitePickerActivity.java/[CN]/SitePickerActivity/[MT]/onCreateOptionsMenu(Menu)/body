{
  super.onCreateOptionsMenu(menu);
  getMenuInflater().inflate(R.menu.site_picker,menu);
  MenuItem menuSearch=menu.findItem(R.id.menu_search);
  mSearchView=(SearchView)menuSearch.getActionView();
  mSearchView.setIconifiedByDefault(false);
  mSearchView.setOnQueryTextListener(this);
  MenuItemCompat.setOnActionExpandListener(menuSearch,new MenuItemCompat.OnActionExpandListener(){
    @Override public boolean onMenuItemActionExpand(    MenuItem item){
      item.getActionView().requestFocus();
      toggleKeyboard();
      SitePickerSearchAdapter sitePickerSearchAdapter=new SitePickerSearchAdapter();
      mRecycleView.swapAdapter(sitePickerSearchAdapter,true);
      return true;
    }
    @Override public boolean onMenuItemActionCollapse(    MenuItem item){
      toggleKeyboard();
      mRecycleView.swapAdapter(getAdapter(),true);
      getAdapter().loadSites();
      return true;
    }
    private void toggleKeyboard(){
      InputMethodManager imm=(InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);
      imm.toggleSoftInput(0,InputMethodManager.HIDE_NOT_ALWAYS);
    }
  }
);
  return true;
}
