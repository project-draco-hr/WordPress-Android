{
  if (mLanguagePreference == null || TextUtils.isEmpty(languageCode))   return;
  String[] availableLocales=getResources().getStringArray(R.array.language_codes);
  Arrays.sort(availableLocales);
  StringUtils.convertArrayToLowercase(availableLocales);
  languageCode=languageCode.toLowerCase();
  if (mLanguagePreference.getEntryValues() == null || mLanguagePreference.getEntryValues().length == 0) {
    mLanguagePreference.setEntryValues(availableLocales);
  }
  mLanguagePreference.setValue(languageCode);
  String summary=WPPrefUtils.getLanguageString(languageCode,WPPrefUtils.languageLocale(languageCode));
  mLanguagePreference.setSummary(summary);
  mLanguagePreference.setEntries(WPPrefUtils.createLanguageDisplayStrings(availableLocales));
  mLanguagePreference.setDetails(WPPrefUtils.createLanguageDetailDisplayStrings(availableLocales,languageCode));
  mLanguagePreference.refreshAdapter();
}
