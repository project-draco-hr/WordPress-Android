{
  if (intent == null) {
    AppLog.d(T.STATS,"StatsService was killed and restarted with a null intent.");
    stopRefresh();
    return START_NOT_STICKY;
  }
  final String blogId=StringUtils.notNullStr(intent.getStringExtra(ARG_BLOG_ID));
  StatsTimeframe period=StatsTimeframe.TODAY;
  if (intent.hasExtra(ARG_PERIOD)) {
    period=(StatsTimeframe)intent.getSerializableExtra(ARG_PERIOD);
  }
  if (mServiceBlogId == null) {
    startTasks(blogId,period,startId);
  }
 else   if (blogId.equals(mServiceBlogId) && mServiceRequestedTimeframe == period) {
    AppLog.i(T.STATS,"StatsService is already running on this blogID - " + mServiceBlogId);
  }
 else {
    stopRefresh();
    startTasks(blogId,period,startId);
  }
  this.mServiceStartId=startId;
  return START_NOT_STICKY;
}
