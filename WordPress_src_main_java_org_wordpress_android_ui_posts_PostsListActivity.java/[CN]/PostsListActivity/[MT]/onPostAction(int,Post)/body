{
  if (post == null) {
    Toast.makeText(PostsListActivity.this,R.string.post_not_found,Toast.LENGTH_SHORT).show();
    return;
  }
  if (action == POST_SHARE) {
    if (post.getStatusEnum() != PostStatus.PUBLISHED && post.getStatusEnum() != PostStatus.SCHEDULED) {
      AlertUtils.showAlert(this,R.string.error,post.isPage() ? R.string.page_not_published : R.string.post_not_published);
      return;
    }
    Intent share=new Intent(Intent.ACTION_SEND);
    share.setType("text/plain");
    share.putExtra(Intent.EXTRA_SUBJECT,post.getTitle());
    String shortlink=WPMeShortlinks.getPostShortlink(WordPress.getCurrentBlog(),post);
    share.putExtra(Intent.EXTRA_TEXT,shortlink != null ? shortlink : post.getPermaLink());
    startActivity(Intent.createChooser(share,getResources().getText(R.string.share_url)));
    AppLockManager.getInstance().setExtendedTimeout();
  }
}
