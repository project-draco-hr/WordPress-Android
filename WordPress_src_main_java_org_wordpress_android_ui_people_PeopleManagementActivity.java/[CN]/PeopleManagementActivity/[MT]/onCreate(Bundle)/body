{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.people_management_activity);
  Toolbar toolbar=(Toolbar)findViewById(R.id.toolbar);
  setSupportActionBar(toolbar);
  ActionBar actionBar=getSupportActionBar();
  if (actionBar != null) {
    actionBar.setHomeButtonEnabled(true);
    actionBar.setDisplayHomeAsUpEnabled(true);
  }
  Blog blog=WordPress.getCurrentBlog();
  if (blog == null) {
    ToastUtils.showToast(this,R.string.blog_not_found);
    finish();
    return;
  }
  FragmentManager fragmentManager=getFragmentManager();
  if (savedInstanceState == null) {
    if (NetworkUtils.isNetworkAvailable(this)) {
      PeopleTable.deletePeopleForLocalBlogIdExceptForFirstPage(blog.getLocalTableBlogId());
    }
    if (actionBar != null) {
      actionBar.setTitle(R.string.people);
    }
    PeopleListFragment peopleListFragment=PeopleListFragment.newInstance(blog.getLocalTableBlogId());
    peopleListFragment.setOnPersonSelectedListener(this);
    peopleListFragment.setOnFetchPeopleListener(this);
    mUsersEndOfListReached=false;
    mUsersFetchRequestInProgress=false;
    mCanRefreshUsers=true;
    mFollowersEndOfListReached=false;
    mFollowersFetchRequestInProgress=false;
    mCanRefreshFollowers=true;
    mFollowersLastFetchedPage=0;
    mEmailFollowersEndOfListReached=false;
    mEmailFollowersFetchRequestInProgress=false;
    mCanRefreshEmailFollowers=true;
    mEmailFollowersLastFetchedPage=0;
    fragmentManager.beginTransaction().add(R.id.fragment_container,peopleListFragment,KEY_PEOPLE_LIST_FRAGMENT).commit();
  }
 else {
    mUsersEndOfListReached=savedInstanceState.getBoolean(KEY_USERS_END_OF_LIST_REACHED);
    mUsersFetchRequestInProgress=savedInstanceState.getBoolean(KEY_USERS_FETCH_REQUEST_IN_PROGRESS);
    mCanRefreshUsers=savedInstanceState.getBoolean(KEY_CAN_REFRESH_USERS);
    mFollowersEndOfListReached=savedInstanceState.getBoolean(KEY_FOLLOWERS_END_OF_LIST_REACHED);
    mFollowersFetchRequestInProgress=savedInstanceState.getBoolean(KEY_FOLLOWERS_FETCH_REQUEST_IN_PROGRESS);
    mCanRefreshFollowers=savedInstanceState.getBoolean(KEY_CAN_REFRESH_FOLLOWERS);
    mFollowersLastFetchedPage=savedInstanceState.getInt(KEY_FOLLOWERS_LAST_FETCHED_PAGE);
    mEmailFollowersEndOfListReached=savedInstanceState.getBoolean(KEY_EMAIL_FOLLOWERS_END_OF_LIST_REACHED);
    mEmailFollowersFetchRequestInProgress=savedInstanceState.getBoolean(KEY_EMAIL_FOLLOWERS_FETCH_REQUEST_IN_PROGRESS);
    mCanRefreshEmailFollowers=savedInstanceState.getBoolean(KEY_CAN_REFRESH_EMAIL_FOLLOWERS);
    mEmailFollowersLastFetchedPage=savedInstanceState.getInt(KEY_EMAIL_FOLLOWERS_LAST_FETCHED_PAGE);
    CharSequence title=savedInstanceState.getCharSequence(KEY_TITLE);
    if (actionBar != null && title != null) {
      actionBar.setTitle(title);
    }
    PeopleListFragment peopleListFragment=getListFragment();
    if (peopleListFragment != null) {
      peopleListFragment.setOnPersonSelectedListener(this);
      peopleListFragment.setOnFetchPeopleListener(this);
    }
    PersonDetailFragment personDetailFragment=getDetailFragment();
    if (personDetailFragment != null && personDetailFragment.isAdded()) {
      removeToolbarElevation();
    }
  }
}
