{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.people_management_activity);
  Toolbar toolbar=(Toolbar)findViewById(R.id.toolbar);
  setSupportActionBar(toolbar);
  ActionBar actionBar=getSupportActionBar();
  if (actionBar != null) {
    actionBar.setTitle(R.string.people);
    actionBar.setHomeButtonEnabled(true);
    actionBar.setDisplayHomeAsUpEnabled(true);
  }
  Blog blog=WordPress.getCurrentBlog();
  if (blog == null) {
    ToastUtils.showToast(this,R.string.blog_not_found);
    finish();
    return;
  }
  if (savedInstanceState == null) {
    PeopleListFragment peopleListFragment=PeopleListFragment.newInstance(blog.getLocalTableBlogId());
    peopleListFragment.setOnPersonSelectedListener(this);
    peopleListFragment.setOnFetchMorePeopleListener(this);
    getFragmentManager().beginTransaction().add(R.id.fragment_container,peopleListFragment,KEY_PEOPLE_LIST_FRAGMENT).commit();
    fetchUsersList(blog.getDotComBlogId(),blog.getLocalTableBlogId(),0);
  }
 else {
    FragmentManager fragmentManager=getFragmentManager();
    PeopleListFragment peopleListFragment=(PeopleListFragment)fragmentManager.findFragmentByTag(KEY_PEOPLE_LIST_FRAGMENT);
    if (peopleListFragment != null) {
      peopleListFragment.setOnPersonSelectedListener(this);
      peopleListFragment.setOnFetchMorePeopleListener(this);
    }
  }
}
