{
  super.onCreate(savedInstanceState);
  Bundle extras=getIntent().getExtras();
  if (extras != null) {
    comment=extras.getString("comment");
    email=extras.getString("email");
    name=extras.getString("name");
    url=extras.getString("url");
    date=extras.getString("date");
    status=extras.getString("status");
    comment_id=extras.getString("comment_id");
    post_id=extras.getString("post_id");
    position=extras.getInt("position");
  }
  setContentView(R.layout.view_comment);
  final String gravatarURL="http://gravatar.com/avatar/" + getMd5Hash(email.trim()) + "?s=200&d=identicon";
  getGravatar(gravatarURL);
  this.setTitle(getResources().getText(R.string.view_comment_from) + " " + name);
  TextView tvName=(TextView)findViewById(R.id.name);
  tvName.setText(name);
  TextView tvEmail=(TextView)findViewById(R.id.email);
  if (!email.equals("")) {
    tvEmail.setText(email);
    Linkify.addLinks(tvEmail,Linkify.ALL);
  }
 else {
    tvEmail.setVisibility(View.GONE);
  }
  TextView tvURL=(TextView)findViewById(R.id.url);
  if (!url.equals("")) {
    tvURL.setText(url);
    Linkify.addLinks(tvURL,Linkify.ALL);
  }
 else {
    tvURL.setVisibility(View.GONE);
  }
  TextView tvComment=(TextView)findViewById(R.id.comment);
  tvComment.setText(comment);
  Linkify.addLinks(tvComment,Linkify.ALL);
  TextView tvDate=(TextView)findViewById(R.id.date);
  tvDate.setText(date);
  ImageButton delete=(ImageButton)findViewById(R.id.deleteComment);
  delete.setOnClickListener(new ImageButton.OnClickListener(){
    public void onClick(    View v){
      Bundle bundle=new Bundle();
      bundle.putString("comment_id",comment_id);
      bundle.putString("action","delete");
      bundle.putInt("position",position);
      Intent i=new Intent();
      i.putExtras(bundle);
      setResult(RESULT_OK,i);
      finish();
    }
  }
);
  Button spam=(Button)findViewById(R.id.markSpam);
  spam.setOnClickListener(new Button.OnClickListener(){
    public void onClick(    View v){
      Bundle bundle=new Bundle();
      bundle.putString("comment_id",comment_id);
      bundle.putString("action","spam");
      bundle.putInt("position",position);
      Intent i=new Intent();
      i.putExtras(bundle);
      setResult(RESULT_OK,i);
      finish();
    }
  }
);
  Button unapprove=(Button)findViewById(R.id.unapproveComment);
  unapprove.setOnClickListener(new Button.OnClickListener(){
    public void onClick(    View v){
      Bundle bundle=new Bundle();
      bundle.putString("comment_id",comment_id);
      bundle.putString("action","hold");
      bundle.putInt("position",position);
      Intent i=new Intent();
      i.putExtras(bundle);
      setResult(RESULT_OK,i);
      finish();
    }
  }
);
  Button approve=(Button)findViewById(R.id.approveComment);
  approve.setOnClickListener(new Button.OnClickListener(){
    public void onClick(    View v){
      Bundle bundle=new Bundle();
      bundle.putString("comment_id",comment_id);
      bundle.putString("action","approve");
      bundle.putInt("position",position);
      Intent i=new Intent();
      i.putExtras(bundle);
      setResult(RESULT_OK,i);
      finish();
    }
  }
);
  Button reply=(Button)findViewById(R.id.reply);
  reply.setOnClickListener(new Button.OnClickListener(){
    public void onClick(    View v){
      Bundle bundle=new Bundle();
      bundle.putString("comment_id",comment_id);
      bundle.putString("action","reply");
      bundle.putString("post_id",post_id);
      bundle.putInt("position",position);
      Intent i=new Intent();
      i.putExtras(bundle);
      setResult(RESULT_OK,i);
      finish();
    }
  }
);
  if (status.equals("hold")) {
    unapprove.setVisibility(View.GONE);
  }
 else   if (status.equals("approve")) {
    approve.setVisibility(View.GONE);
  }
 else   if (status.equals("spam")) {
    spam.setVisibility(View.GONE);
  }
}
