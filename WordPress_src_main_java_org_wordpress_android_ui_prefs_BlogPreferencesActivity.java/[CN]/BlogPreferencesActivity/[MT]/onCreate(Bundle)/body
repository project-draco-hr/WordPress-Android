{
  super.onCreate(savedInstanceState);
  Integer id=getIntent().getIntExtra(ARG_LOCAL_BLOG_ID,-1);
  mBlog=WordPress.getBlog(id);
  if (mBlog == null) {
    Toast.makeText(this,getString(R.string.blog_not_found),Toast.LENGTH_SHORT).show();
    finish();
    return;
  }
  ActionBar actionBar=getSupportActionBar();
  if (actionBar != null) {
    actionBar.setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM);
    actionBar.setDisplayHomeAsUpEnabled(true);
    actionBar.setCustomView(R.layout.site_settings_actionbar);
  }
  FragmentManager fragmentManager=getFragmentManager();
  Fragment siteSettingsFragment=fragmentManager.findFragmentByTag(KEY_SETTINGS_FRAGMENT);
  if (siteSettingsFragment == null) {
    siteSettingsFragment=new SiteSettingsFragment();
    siteSettingsFragment.setArguments(getIntent().getExtras());
    getFragmentManager().beginTransaction().replace(android.R.id.content,siteSettingsFragment,KEY_SETTINGS_FRAGMENT).commit();
  }
}
