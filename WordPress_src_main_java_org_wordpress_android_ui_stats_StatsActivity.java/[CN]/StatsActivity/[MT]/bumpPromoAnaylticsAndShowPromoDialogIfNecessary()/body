{
  if (mIsUpdatingStats || mThereWasAnErrorLoadingStats) {
    return;
  }
  AppPrefs.bumpAnalyticsForStatsWidgetPromo();
  String prevWidgetKeysString=AppPrefs.getStatsWidgetsKeys();
  if (StringUtils.isEmpty(prevWidgetKeysString)) {
    int counter=AppPrefs.getAnalyticsForStatsWidgetPromo();
    if (counter == 3 || counter == 1000 || counter == 10000) {
      DialogFragment newFragment=StatsWidgetPromoDialogFragment.newInstance();
      newFragment.show(getFragmentManager(),"promote_widget_dialog");
    }
  }
}
