{
  mSwipeToRefreshHelper.setRefreshing(mIsUpdatingStats);
  if (mIsUpdatingStats) {
    return;
  }
synchronized (fragmentsRefreshListSynchObj) {
    for (int i=0; i < endPointsNeedUpdate.length; i++) {
      StatsService.StatsEndpointsEnum current=endPointsNeedUpdate[i];
      if (!fragmentsRefreshList.contains(current)) {
        fragmentsRefreshList.add(current);
      }
    }
    if (fragmentsRefreshListTimer != null) {
      fragmentsRefreshListTimer.cancel();
    }
    fragmentsRefreshListTimer=new Timer();
    fragmentsRefreshListTimer.schedule(new TimerTask(){
      @Override public void run(){
synchronized (fragmentsRefreshListSynchObj) {
          if (fragmentsRefreshList.contains(StatsService.StatsEndpointsEnum.VISITS)) {
            refreshStats(mCurrentTimeframe,mRequestedDate,true,true);
          }
 else {
            refreshStats(mCurrentTimeframe,mRequestedDate,false,true);
          }
          fragmentsRefreshList.clear();
          fragmentsRefreshListTimer.cancel();
          fragmentsRefreshListTimer=null;
        }
      }
    }
,500);
  }
}
