{
  mListAdapter=new DetailListAdapter(getContext(),R.layout.detail_list_preference,mDetails);
  mSelectedIndex=findIndexOfValue(getValue());
  builder.setSingleChoiceItems(mListAdapter,mSelectedIndex,new DialogInterface.OnClickListener(){
    public void onClick(    DialogInterface dialog,    int which){
      if (mSelectedIndex != which) {
        mSelectedIndex=which;
        notifyChanged();
      }
      DetailListPreference.this.onClick(dialog,DialogInterface.BUTTON_POSITIVE);
      dialog.dismiss();
    }
  }
);
  builder.setNegativeButton(R.string.cancel,null);
  builder.setPositiveButton(R.string.ok,new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int which){
    }
  }
);
  View titleView=View.inflate(getContext(),R.layout.detail_list_preference_title,null);
  if (titleView != null) {
    View infoView=titleView.findViewById(R.id.privacy_info_button);
    infoView.setOnClickListener(new View.OnClickListener(){
      @Override public void onClick(      View v){
        Uri uri=Uri.parse(getContext().getString(R.string.privacy_settings_url));
        AppLockManager.getInstance().setExtendedTimeout();
        getContext().startActivity(new Intent(Intent.ACTION_VIEW,uri));
      }
    }
);
    builder.setCustomTitle(titleView);
  }
}
