{
  String state=android.os.Environment.getExternalStorageState();
  if (!state.equals(android.os.Environment.MEDIA_MOUNTED)) {
    showSDCardRequiredDialog(fragment.getActivity());
  }
 else {
    Intent intent=prepareLaunchCameraIntent(callback);
    fragment.startActivityForResult(intent,RequestCode.ACTIVITY_REQUEST_CODE_TAKE_PHOTO);
    AppLockManager.getInstance().setExtendedTimeout();
  }
}
