{
  ListView listView=this.getListView();
  listView.setAdapter(getCommentAdapter());
  listView.setOnItemClickListener(new AdapterView.OnItemClickListener(){
    public void onItemClick(    AdapterView<?> parent,    View view,    int position,    long id){
      if (mActionMode == null) {
        Comment comment=(Comment)getCommentAdapter().getItem(position);
        if (!getCommentAdapter().isModeratingCommentId(comment.commentID)) {
          mOnCommentSelectedListener.onCommentSelected(comment.commentID);
          getListView().invalidateViews();
        }
      }
 else {
        getCommentAdapter().toggleItemSelected(position,view);
      }
    }
  }
);
  listView.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener(){
    @Override public boolean onItemLongClick(    AdapterView<?> parent,    View view,    int position,    long id){
      if (mActionMode == null) {
        if (getActivity() instanceof AppCompatActivity) {
          ((AppCompatActivity)getActivity()).startSupportActionMode(new ActionModeCallback());
          getCommentAdapter().setEnableSelection(true);
          getCommentAdapter().setItemSelected(position,true,view);
        }
      }
 else {
        getCommentAdapter().toggleItemSelected(position,view);
      }
      return true;
    }
  }
);
}
