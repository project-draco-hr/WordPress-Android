{
  super.onActivityCreated(savedInstanceState);
  setUpListView();
  getCommentAdapter().loadComments();
  Bundle extras=getActivity().getIntent().getExtras();
  mHasAutoRefreshedComments=extras.getBoolean(CommentsActivity.KEY_AUTO_REFRESHED);
  mEmptyViewMessage=extras.getString(CommentsActivity.KEY_EMPTY_VIEW_MESSAGE);
  if (!NetworkUtils.isNetworkAvailable(getActivity())) {
    showEmptyViewWithMessage(MessageId.NETWORK_ERROR);
    return;
  }
  showEmptyViewWithMessage(MessageId.getEnumFromString(mEmptyViewMessage));
  if (!mHasAutoRefreshedComments) {
    updateComments(false);
    mSwipeToRefreshHelper.setRefreshing(true);
    mHasAutoRefreshedComments=true;
  }
}
