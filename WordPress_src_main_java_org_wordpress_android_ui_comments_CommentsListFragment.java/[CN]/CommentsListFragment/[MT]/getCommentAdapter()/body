{
  if (mCommentAdapter == null) {
    CommentAdapter.DataLoadedListener dataLoadedListener=new CommentAdapter.DataLoadedListener(){
      @Override public void onDataLoaded(      boolean isEmpty){
        if (!hasActivity())         return;
        if (isEmpty) {
          showEmptyView();
        }
 else {
          hideEmptyView();
        }
        if (mFirstLoad) {
          mFirstLoad=false;
          if (getActivity() != null && getActivity() instanceof CommentsActivity) {
            ((CommentsActivity)getActivity()).commentAdapterFirstLoad();
          }
        }
      }
    }
;
    CommentAdapter.OnLoadMoreListener loadMoreListener=new CommentAdapter.OnLoadMoreListener(){
      @Override public void onLoadMore(){
        if (mCanLoadMoreComments && !mIsUpdatingComments) {
          updateComments(true);
        }
      }
    }
;
    CommentAdapter.OnSelectedItemsChangeListener changeListener=new CommentAdapter.OnSelectedItemsChangeListener(){
      @Override public void onSelectedItemsChanged(){
        if (mActionMode != null) {
          if (getSelectedCommentCount() == 0) {
            mActionMode.finish();
          }
 else {
            updateActionModeTitle();
            mActionMode.invalidate();
          }
        }
      }
    }
;
    mCommentAdapter=new CommentAdapter(getActivity(),dataLoadedListener,loadMoreListener,changeListener);
  }
  return mCommentAdapter;
}
