{
  int nextSeperator=query.indexOf(QUERY_SEPERATOR);
  int nextIndexStart=query.indexOf(QUERY_ARRAY_INDEX_START);
  if (nextSeperator == -1 && nextIndexStart == -1) {
    try {
      return (U)source.get(query);
    }
 catch (    JSONException e) {
      Log.e(TAG,String.format("Could not complete query %s",query),e);
    }
  }
  int endQuery;
  if (nextSeperator == -1 || nextIndexStart == -1) {
    endQuery=Math.max(nextSeperator,nextIndexStart);
  }
 else {
    endQuery=Math.min(nextSeperator,nextIndexStart);
  }
  String nextQuery=query.substring(endQuery);
  String key=query.substring(0,endQuery);
  try {
    if (nextQuery.indexOf(QUERY_SEPERATOR) == 0) {
      return queryJSON(source.getJSONObject(key),nextQuery.substring(1),defaultObject);
    }
 else     if (nextQuery.indexOf(QUERY_ARRAY_INDEX_START) == 0) {
      return queryJSON(source.getJSONArray(key),nextQuery,defaultObject);
    }
 else     if (!nextQuery.equals("")) {
      Log.d(TAG,String.format("Incorrect query for next object %s %d %d",nextQuery,nextQuery.indexOf(QUERY_ARRAY_INDEX_START),nextQuery.indexOf(QUERY_SEPERATOR)));
      return defaultObject;
    }
    return (U)source.get(key);
  }
 catch (  JSONException e) {
    Log.e(TAG,String.format("Could not complete query %s",query),e);
    return defaultObject;
  }
}
