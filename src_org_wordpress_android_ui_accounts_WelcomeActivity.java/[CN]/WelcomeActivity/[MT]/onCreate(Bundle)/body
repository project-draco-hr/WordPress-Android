{
  super.onCreate(savedInstanceState);
  requestWindowFeature(Window.FEATURE_NO_TITLE);
  setContentView(R.layout.activity_welcome);
  mSignInButton=(WPTextView)findViewById(R.id.nux_sign_in_button);
  mSignInButton.setOnClickListener(new OnClickListener(){
    @Override public void onClick(    View v){
      mPager.setCurrentItem(1);
    }
  }
);
  mCreateAccountButton=(WPTextView)findViewById(R.id.nux_create_account_button);
  mCreateAccountButton.setOnClickListener(mCreateAccountListener);
  mPager=(WPViewPager)findViewById(R.id.pager);
  mPager.setPagingEnabled(false);
  mPagerAdapter=new NewAccountPagerAdapter(super.getSupportFragmentManager());
  mPager.setAdapter(mPagerAdapter);
  mFooterView=(RelativeLayout)findViewById(R.id.footer_view);
  mLinePageIndicator=(LinePageIndicator)findViewById(R.id.pageIndicator);
  mLinePageIndicator.setViewPager(mPager);
  mLinePageIndicator.setOnPageChangeListener(new ViewPager.SimpleOnPageChangeListener(){
    @Override public void onPageSelected(    int position){
      if (position == 1) {
        mShowFooter=false;
        mFooterView.setVisibility(View.GONE);
      }
 else {
        mShowFooter=true;
        mFooterView.setVisibility(View.VISIBLE);
        mSignInButton.setVisibility(View.VISIBLE);
        mCreateAccountButton.setVisibility(View.VISIBLE);
      }
    }
  }
);
  mLinePageIndicator.setVisibility(View.GONE);
  final View mainView=findViewById(R.id.main_view);
  mainView.getViewTreeObserver().addOnGlobalLayoutListener(new OnGlobalLayoutListener(){
    @Override public void onGlobalLayout(){
      int heightDiff=mainView.getRootView().getHeight() - mainView.getHeight();
      if (heightDiff > 100) {
        mFooterView.setVisibility(View.GONE);
      }
 else {
        if (mShowFooter) {
          mFooterView.setVisibility(View.VISIBLE);
        }
      }
    }
  }
);
  if (getIntent().getBooleanExtra(SKIP_WELCOME,false))   mPager.setCurrentItem(1);
}
