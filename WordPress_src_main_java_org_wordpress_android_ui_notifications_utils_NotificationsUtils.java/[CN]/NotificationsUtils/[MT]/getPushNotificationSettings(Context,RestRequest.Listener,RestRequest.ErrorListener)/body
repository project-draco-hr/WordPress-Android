{
  if (!AccountHelper.isSignedInWordPressDotCom()) {
    return;
  }
  if (TextUtils.isEmpty(GCMRegistrar.getRegistrationId(context))) {
    AppLog.e(T.NOTIFS,"can't get push notification settings, gcm token is null.");
  }
  SharedPreferences settings=PreferenceManager.getDefaultSharedPreferences(context);
  String deviceID=settings.getString(WPCOM_PUSH_DEVICE_SERVER_ID,null);
  String settingsEndpoint=WPCOM_SETTINGS_ENDPOINT;
  if (!TextUtils.isEmpty(deviceID))   settingsEndpoint+="?device_id=" + deviceID;
  WordPress.getRestClientUtilsV1_1().get(settingsEndpoint,listener,errorListener);
}
