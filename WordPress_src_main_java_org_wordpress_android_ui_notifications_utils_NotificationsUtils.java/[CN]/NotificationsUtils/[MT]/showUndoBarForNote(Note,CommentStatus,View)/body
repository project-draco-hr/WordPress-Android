{
  Resources resources=parentView.getContext().getResources();
  String message=(status == CommentStatus.TRASH ? resources.getString(R.string.comment_trashed) : resources.getString(R.string.comment_spammed));
  View.OnClickListener undoListener=new View.OnClickListener(){
    @Override public void onClick(    View v){
      mSnackbarDidUndo=true;
      EventBus.getDefault().post(new NoteVisibilityChanged(note.getId(),false));
    }
  }
;
  mSnackbarDidUndo=false;
  Snackbar.make(parentView,message,Snackbar.LENGTH_LONG).setAction(R.string.undo,undoListener).show();
  new Handler().postDelayed(new Runnable(){
    @Override public void run(){
      if (mSnackbarDidUndo) {
        return;
      }
      CommentActions.moderateCommentForNote(note,status,new CommentActions.CommentActionListener(){
        @Override public void onActionResult(        boolean succeeded){
          if (!succeeded) {
            EventBus.getDefault().post(new NoteVisibilityChanged(note.getId(),false));
            EventBus.getDefault().post(new NoteModerationFailed());
          }
        }
      }
);
    }
  }
,Constants.SNACKBAR_LONG_DURATION_MS);
}
