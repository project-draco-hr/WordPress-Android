{
  new UndoBarController.UndoBar(activity).message(status == CommentStatus.TRASH ? R.string.comment_trashed : R.string.comment_spammed).listener(new UndoBarController.AdvancedUndoListener(){
    @Override public void onHide(    Parcelable parcelable){
      CommentActions.moderateCommentForNote(note,status,new CommentActions.CommentActionListener(){
        @Override public void onActionResult(        boolean succeeded){
          if (!succeeded) {
            EventBus.getDefault().post(new NoteVisibilityChanged(note.getId(),false));
            EventBus.getDefault().post(new NoteModerationFailed());
          }
        }
      }
);
    }
    @Override public void onClear(    @Nonnull Parcelable[] token){
    }
    @Override public void onUndo(    Parcelable parcelable){
      EventBus.getDefault().post(new NoteVisibilityChanged(note.getId(),false));
    }
  }
).show();
}
