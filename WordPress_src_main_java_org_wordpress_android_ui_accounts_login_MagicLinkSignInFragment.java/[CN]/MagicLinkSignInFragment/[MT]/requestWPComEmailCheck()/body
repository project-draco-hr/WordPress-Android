{
  WordPress.getRestClientUtilsV0().isAvailable(mUsername,new RestRequest.Listener(){
    @Override public void onResponse(    JSONObject response){
      showPasswordFieldAndFocus();
    }
  }
,new RestRequest.ErrorListener(){
    @Override public void onErrorResponse(    VolleyError error){
      String string=error.getMessage();
      try {
        JSONObject jsonResponse=new JSONObject(string);
        String errorReason=jsonResponse.getString("error");
        if (errorReason != null && errorReason.equals("taken")) {
          mListener.onMagicLinkRequestSuccess();
        }
 else {
          showPasswordFieldAndFocus();
        }
      }
 catch (      JSONException e) {
        e.printStackTrace();
        showPasswordFieldAndFocus();
      }
    }
  }
);
}
