{
  if (isFullScreenSupported())   ReaderFullScreenUtils.enableActionBarOverlay(this);
  super.onCreate(savedInstanceState);
  setContentView(R.layout.reader_activity_main);
  createMenuDrawer(R.layout.reader_activity_main);
  if (savedInstanceState != null) {
    mHasPerformedInitialUpdate=savedInstanceState.getBoolean(KEY_INITIAL_UPDATE);
    mHasPerformedPurge=savedInstanceState.getBoolean(KEY_HAS_PURGED);
  }
  getSupportFragmentManager().addOnBackStackChangedListener(new FragmentManager.OnBackStackChangedListener(){
    @Override public void onBackStackChanged(){
      if (isFullScreen())       onRequestFullScreen(false);
      FragmentManager fm=getSupportFragmentManager();
      int entryCount=fm.getBackStackEntryCount();
      mMenuDrawer.setDrawerIndicatorEnabled(entryCount == 0);
    }
  }
);
}
