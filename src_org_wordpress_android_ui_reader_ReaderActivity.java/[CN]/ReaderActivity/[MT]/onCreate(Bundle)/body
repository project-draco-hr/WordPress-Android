{
  if (isFullScreenSupported()) {
    ReaderFullScreenUtils.enableActionBarOverlay(this);
  }
  super.onCreate(savedInstanceState);
  mIsBlogDetail=getIntent().getBooleanExtra(ARG_IS_BLOG_DETAIL,false);
  if (mIsBlogDetail) {
    setContentView(R.layout.reader_activity_main);
  }
 else {
    createMenuDrawer(R.layout.reader_activity_main);
  }
  final View viewActionBarSpacer=findViewById(R.id.view_actionbar_spacer);
  if (isFullScreenSupported()) {
    int actionBarHeight=DisplayUtils.getActionBarHeight(this);
    viewActionBarSpacer.setMinimumHeight(actionBarHeight);
    viewActionBarSpacer.setVisibility(View.VISIBLE);
  }
 else {
    viewActionBarSpacer.setVisibility(View.GONE);
  }
  getSupportFragmentManager().addOnBackStackChangedListener(this);
  if (mIsBlogDetail) {
    setTitle(R.string.reader_title_blog_detail);
    long blogId=getIntent().getLongExtra(ReaderActivity.ARG_BLOG_ID,0);
    showBlogInfo(ReaderBlogTable.getBlogInfo(blogId));
    requestBlogInfo(blogId);
    if (savedInstanceState == null) {
      showListFragmentForBlog(blogId);
    }
  }
 else   if (savedInstanceState == null) {
    final ReaderFragmentType fragmentType;
    if (getIntent().hasExtra(ARG_READER_FRAGMENT)) {
      fragmentType=(ReaderFragmentType)getIntent().getSerializableExtra(ARG_READER_FRAGMENT);
    }
 else {
      fragmentType=ReaderFragmentType.POST_LIST;
    }
switch (fragmentType) {
case POST_LIST:
      String tagName=getIntent().getStringExtra(ReaderActivity.ARG_TAG_NAME);
    if (TextUtils.isEmpty(tagName)) {
      tagName=UserPrefs.getReaderTag();
    }
  if (TextUtils.isEmpty(tagName) || !ReaderTagTable.tagExists(tagName)) {
    tagName=ReaderTag.TAG_NAME_DEFAULT;
  }
showListFragmentForTag(tagName);
break;
case POST_DETAIL:
long blogId=getIntent().getLongExtra(ReaderActivity.ARG_BLOG_ID,0);
long postId=getIntent().getLongExtra(ReaderActivity.ARG_POST_ID,0);
showDetailFragment(blogId,postId);
break;
}
}
}
