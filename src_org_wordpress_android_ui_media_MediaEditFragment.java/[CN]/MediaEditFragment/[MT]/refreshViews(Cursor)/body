{
  if (!cursor.moveToFirst()) {
    for (int i=0; i < mScrollView.getChildCount(); i++) {
      View view=mScrollView.getChildAt(i);
      view.setVisibility(View.GONE);
    }
    return;
  }
  for (int i=0; i < mScrollView.getChildCount(); i++) {
    View view=mScrollView.getChildAt(i);
    view.setVisibility(View.VISIBLE);
  }
  mScrollView.scrollTo(0,0);
  String state=cursor.getString(cursor.getColumnIndex("uploadState"));
  boolean isLocal=MediaUtils.isLocalFile(state);
  if (isLocal) {
    mNetworkImageView.setVisibility(View.GONE);
    mLocalImageView.setVisibility(View.VISIBLE);
  }
 else {
    mNetworkImageView.setVisibility(View.VISIBLE);
    mLocalImageView.setVisibility(View.GONE);
  }
  mSaveButton.setEnabled(!isLocal);
  mTitleView.setEnabled(!isLocal);
  mCaptionView.setEnabled(!isLocal);
  mDescriptionView.setEnabled(!isLocal);
  mMediaId=cursor.getString(cursor.getColumnIndex("mediaId"));
  mTitleView.setText(cursor.getString(cursor.getColumnIndex("title")));
  mTitleView.requestFocus();
  mTitleView.setSelection(mTitleView.getText().length());
  mCaptionView.setText(cursor.getString(cursor.getColumnIndex("caption")));
  mDescriptionView.setText(cursor.getString(cursor.getColumnIndex("description")));
  String imageUri=null;
  if (isLocal)   imageUri=cursor.getString(cursor.getColumnIndex("filePath"));
 else   imageUri=cursor.getString(cursor.getColumnIndex("fileURL"));
  if (MediaUtils.isValidImage(imageUri)) {
    int width=cursor.getInt(cursor.getColumnIndex("width"));
    int height=cursor.getInt(cursor.getColumnIndex("height"));
    float screenWidth=getActivity().getResources().getDisplayMetrics().widthPixels;
    if (this.isInLayout()) {
      screenWidth=mLinearLayout.getMeasuredWidth();
    }
 else {
      screenWidth=getActivity().getResources().getDisplayMetrics().widthPixels;
    }
    float screenHeight=getActivity().getResources().getDisplayMetrics().heightPixels;
    if (width > screenWidth) {
      height=(int)(height / (width / screenWidth));
    }
 else     if (height > screenHeight) {
      width=(int)(width / (height / screenHeight));
    }
    if (isLocal) {
      loadLocalImage(mLocalImageView,imageUri,width,height);
      mLocalImageView.setLayoutParams(new FrameLayout.LayoutParams(LayoutParams.MATCH_PARENT,height));
    }
 else {
      mNetworkImageView.setImageUrl(imageUri + "?w=" + screenWidth,WordPress.imageLoader);
      mNetworkImageView.setLayoutParams(new FrameLayout.LayoutParams(LayoutParams.MATCH_PARENT,height));
    }
  }
 else {
    mNetworkImageView.setVisibility(View.GONE);
    mLocalImageView.setVisibility(View.GONE);
  }
}
