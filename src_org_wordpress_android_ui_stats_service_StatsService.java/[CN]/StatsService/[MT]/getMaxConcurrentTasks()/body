{
  int numProcessors=Runtime.getRuntime().availableProcessors();
  return Math.min(numProcessors > 1 ? numProcessors : 2,4);
}
