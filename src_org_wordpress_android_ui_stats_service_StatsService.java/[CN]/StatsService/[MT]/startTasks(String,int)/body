{
  orchestrator=new Thread(){
    @Override public void run(){
      updateUIExecutor=(ThreadPoolExecutor)Executors.newFixedThreadPool(1);
      RestClientUtils restClientUtils=WordPress.getRestClientUtils();
      final String today=StatUtils.getCurrentDate();
      final String yesterday=StatUtils.getYesterdaysDate();
      AppLog.i(T.STATS,"update started");
      broadcastUpdate(true);
      String path=String.format("sites/%s/stats",blogId);
      statsNetworkRequests.add(restClientUtils.get(path,statsSummaryRestListener,statsSummaryErrListener));
      path=getBarChartPath(StatsBarChartUnit.WEEK,30);
      BarChartListener barChartRestListener=new BarChartListener(StatsBarChartUnit.WEEK);
      statsNetworkRequests.add(restClientUtils.get(path,barChartRestListener,barChartRestListener));
      path=getBarChartPath(StatsBarChartUnit.MONTH,30);
      barChartRestListener=new BarChartListener(StatsBarChartUnit.MONTH);
      statsNetworkRequests.add(restClientUtils.get(path,barChartRestListener,barChartRestListener));
      path=String.format("sites/%s/stats/top-posts?date=%s",mBlogId,today);
      TopPostAndPageListener topPostAndPageRestListener=new TopPostAndPageListener(today);
      statsNetworkRequests.add(restClientUtils.get(path,topPostAndPageRestListener,topPostAndPageRestListener));
      path=String.format("sites/%s/stats/top-posts?date=%s",mBlogId,yesterday);
      topPostAndPageRestListener=new TopPostAndPageListener(yesterday);
      statsNetworkRequests.add(restClientUtils.get(path,new TopPostAndPageListener(yesterday),topPostAndPageRestListener));
      path=String.format("sites/%s/stats/referrers?date=%s",mBlogId,today);
      ReferrersListener referrersListener=new ReferrersListener(today);
      statsNetworkRequests.add(restClientUtils.get(path,referrersListener,referrersListener));
      path=String.format("sites/%s/stats/referrers?date=%s",mBlogId,yesterday);
      referrersListener=new ReferrersListener(yesterday);
      statsNetworkRequests.add(restClientUtils.get(path,referrersListener,referrersListener));
      path=String.format("sites/%s/stats/clicks?date=%s",mBlogId,today);
      ClicksListener clicksListener=new ClicksListener(today);
      statsNetworkRequests.add(restClientUtils.get(path,clicksListener,clicksListener));
      path=String.format("sites/%s/stats/clicks?date=%s",mBlogId,yesterday);
      clicksListener=new ClicksListener(yesterday);
      statsNetworkRequests.add(restClientUtils.get(path,clicksListener,clicksListener));
      path=String.format("sites/%s/stats/search-terms?date=%s",mBlogId,today);
      SearchEngineTermsListener searchEngineTermsListener=new SearchEngineTermsListener(today);
      statsNetworkRequests.add(restClientUtils.get(path,searchEngineTermsListener,searchEngineTermsListener));
      path=String.format("sites/%s/stats/search-terms?date=%s",mBlogId,yesterday);
      searchEngineTermsListener=new SearchEngineTermsListener(yesterday);
      statsNetworkRequests.add(restClientUtils.get(path,searchEngineTermsListener,searchEngineTermsListener));
      path=String.format("sites/%s/stats/country-views?date=%s",mBlogId,today);
      ViewsByCountryListener viewsByCountryListener=new ViewsByCountryListener(today);
      statsNetworkRequests.add(restClientUtils.get(path,viewsByCountryListener,viewsByCountryListener));
      path=String.format("sites/%s/stats/country-views?date=%s",mBlogId,yesterday);
      viewsByCountryListener=new ViewsByCountryListener(yesterday);
      statsNetworkRequests.add(restClientUtils.get(path,viewsByCountryListener,viewsByCountryListener));
      numberOfNetworkCalls=statsNetworkRequests.size();
      while (!isDone()) {
        waitForResponse();
      }
      updateUIExecutor.shutdown();
      broadcastUpdate(false);
      stopSelf(startId);
    }
  }
;
  orchestrator.start();
}
