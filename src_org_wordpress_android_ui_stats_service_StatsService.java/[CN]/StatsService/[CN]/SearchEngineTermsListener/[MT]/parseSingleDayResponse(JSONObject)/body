{
  String date=response.getString("date");
  long dateMs=StatUtils.toMs(date);
  ArrayList<ContentProviderOperation> operations=new ArrayList<ContentProviderOperation>();
  ContentProviderOperation delete_op=ContentProviderOperation.newDelete(StatsContentProvider.STATS_SEARCH_ENGINE_TERMS_URI).withSelection("blogId=? AND (date=? OR date<=?)",new String[]{mBlogID,dateMs + "",(dateMs - TWO_DAYS) + ""}).build();
  operations.add(delete_op);
  JSONArray results=response.getJSONArray("search-terms");
  int count=Math.min(results.length(),StatsActivity.STATS_GROUP_MAX_ITEMS);
  for (int i=0; i < count; i++) {
    JSONArray result=results.getJSONArray(i);
    StatsSearchEngineTerm stat=new StatsSearchEngineTerm(mBlogID,date,result);
    ContentValues values=StatsSearchEngineTermsTable.getContentValues(stat);
    getContentResolver().insert(StatsContentProvider.STATS_SEARCH_ENGINE_TERMS_URI,values);
    ContentProviderOperation insert_op=ContentProviderOperation.newInsert(StatsContentProvider.STATS_SEARCH_ENGINE_TERMS_URI).withValues(values).build();
    operations.add(insert_op);
  }
  getContentResolver().applyBatch(BuildConfig.STATS_PROVIDER_AUTHORITY,operations);
}
