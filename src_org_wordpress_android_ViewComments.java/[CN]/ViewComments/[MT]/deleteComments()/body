{
  for (int i=0; i < checkedComments.size(); i++) {
    if (checkedComments.get(i).toString().equals("true")) {
      client=new XMLRPCClient(WordPress.currentBlog.getUrl(),WordPress.currentBlog.getHttpuser(),WordPress.currentBlog.getHttppassword());
      Comment listRow=(Comment)getListView().getItemAtPosition(i);
      String curCommentID=listRow.commentID;
      Object[] params={WordPress.currentBlog.getBlogId(),WordPress.currentBlog.getUsername(),WordPress.currentBlog.getPassword(),curCommentID};
      try {
        client.call("wp.deleteComment",params);
      }
 catch (      final XMLRPCException e) {
        moderateErrorMsg=e.getLocalizedMessage();
      }
    }
  }
  getActivity().dismissDialog(ID_DIALOG_DELETING);
  Thread action=new Thread(){
    public void run(){
      if (moderateErrorMsg == "") {
        Toast.makeText(getActivity().getApplicationContext(),getResources().getText(R.string.comment_moderated),Toast.LENGTH_SHORT).show();
      }
 else {
        FragmentTransaction ft=getFragmentManager().beginTransaction();
        WPAlertDialogFragment alert=WPAlertDialogFragment.newInstance(moderateErrorMsg);
        alert.show(ft,"alert");
      }
    }
  }
;
  getActivity().runOnUiThread(action);
  Thread action2=new Thread(){
    public void run(){
      if (moderateErrorMsg == "") {
        pd=new ProgressDialog(getActivity().getApplicationContext());
        refreshComments(false,true,true);
      }
    }
  }
;
  getActivity().runOnUiThread(action2);
  checkedCommentTotal=0;
}
