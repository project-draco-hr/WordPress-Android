{
  EditText titleET=(EditText)findViewById(R.id.title);
  String title=titleET.getText().toString();
  EditText contentET=(EditText)findViewById(R.id.content);
  String content=contentET.getText().toString();
  CheckBox publishCB=(CheckBox)findViewById(R.id.publish);
  boolean publishThis=false;
  String images="";
  boolean success=false;
  Integer blogID=1;
  Vector<Object> myPostVector=new Vector<Object>();
  String res=null;
  boolean enteredSettings=checkSettings();
  if (!enteredSettings) {
    AlertDialog.Builder dialogBuilder=new AlertDialog.Builder(newPage.this);
    dialogBuilder.setTitle(getResources().getText(R.string.settings_not_found));
    dialogBuilder.setMessage(getResources().getText(R.string.settings_not_found_load_now));
    dialogBuilder.setPositiveButton(getResources().getText(R.string.yes),new DialogInterface.OnClickListener(){
      public void onClick(      DialogInterface dialog,      int whichButton){
        Intent i=new Intent(newPage.this,settings.class);
        startActivityForResult(i,0);
      }
    }
);
    dialogBuilder.setNegativeButton(getResources().getText(R.string.no),new DialogInterface.OnClickListener(){
      public void onClick(      DialogInterface dialog,      int whichButton){
      }
    }
);
    dialogBuilder.setCancelable(true);
    dialogBuilder.create().show();
  }
 else   if (title.equals("") || content.equals("")) {
    AlertDialog.Builder dialogBuilder=new AlertDialog.Builder(newPage.this);
    dialogBuilder.setTitle(getResources().getText(R.string.empty_fields));
    dialogBuilder.setMessage(getResources().getText(R.string.title_post_required));
    dialogBuilder.setPositiveButton("OK",new DialogInterface.OnClickListener(){
      public void onClick(      DialogInterface dialog,      int whichButton){
      }
    }
);
    dialogBuilder.setCancelable(true);
    dialogBuilder.create().show();
  }
 else {
    for (int it=0; it < selectedImageCtr; it++) {
      images+=selectedImageIDs.get(it).toString() + ",";
    }
    if (publishCB.isChecked()) {
      publishThis=true;
    }
    localDraftsDB lDraftsDB=new localDraftsDB(this);
    success=lDraftsDB.saveLocalPageDraft(this,id,title,content,images,publishThis);
  }
  return success;
}
