def extract_jar(filename):
    tmpdir = tempfile.mkdtemp()
    zf = zipfile.ZipFile(filename)
    extracted_jars = []
    for name in zf.namelist():
        if name.endswith('.jar'):
            zf.extract(name, tmpdir)
            extracted_jars.append(os.path.join(tmpdir, name))
    for extracted in extracted_jars:
        (basename, extension) = os.path.splitext(os.path.basename(extracted))
        out = os.path.join(os.path.dirname(filename), ((basename + '-') + os.path.basename(filename).replace('.aar', '.jar')))
        os.rename(extracted, out)
    os.remove(filename)
