{
  if (tag == null) {
    return;
  }
  String[] args={tag.getTagName(),Integer.toString(tag.tagType.toInt())};
  boolean rowExists=SqlUtils.boolForQuery(ReaderDatabase.getReadableDb(),"SELECT 1 FROM tbl_tag_updates WHERE tag_name=? AND tag_type=?",args);
  final String sql;
  if (rowExists) {
    sql="UPDATE tbl_tag_updates SET " + colName + "=?1 WHERE tag_name=?2 AND tag_type=?3";
  }
 else {
    sql="INSERT INTO tbl_tag_updates (" + colName + ", tag_name, tag_type) VALUES (?1,?2,?3)";
  }
  SQLiteStatement stmt=ReaderDatabase.getWritableDb().compileStatement(sql);
  try {
    stmt.bindString(1,date);
    stmt.bindString(2,tag.getTagName());
    stmt.bindLong(3,tag.tagType.toInt());
    stmt.execute();
  }
  finally {
    SqlUtils.closeStatement(stmt);
  }
}
