{
  AlertDialog.Builder b=new AlertDialog.Builder(getActivity());
  if (isXMLRPC) {
    String error=this.getArguments().getString("alert-error");
    if (error == null)     error=getString(R.string.error_generic);
    String message=this.getArguments().getString("alert-message");
    if (message == null)     message=getString(R.string.error_generic);
    b.setIcon(android.R.drawable.ic_dialog_alert);
    b.setTitle(R.string.connection_error);
    b.setMessage((error.contains("code 405")) ? error : message);
    b.setPositiveButton(R.string.ok,new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog,      int which){
      }
    }
);
    b.setCancelable(true);
    return b.create();
  }
 else   if (isLoadMore) {
    String error=this.getArguments().getString("alert-error");
    String message=this.getArguments().getString("alert-message");
    b.setIcon(android.R.drawable.ic_dialog_alert);
    b.setTitle(error);
    b.setMessage(message);
    b.setCancelable(true);
    b.setPositiveButton(R.string.yes,new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog,      int which){
        if (getActivity() instanceof OnDialogConfirmListener) {
          OnDialogConfirmListener act=(OnDialogConfirmListener)getActivity();
          act.onDialogConfirm();
        }
      }
    }
);
    b.setNegativeButton(R.string.no,new DialogInterface.OnClickListener(){
      @Override public void onClick(      DialogInterface dialog,      int which){
      }
    }
);
    return b.create();
  }
 else {
    String infoTitle=this.getArguments().getString("info-title");
    final String infoURL=this.getArguments().getString("info-url");
    String error=this.getArguments().getString("alert-error");
    if (error != null)     b.setTitle(error);
 else     b.setTitle(R.string.error);
    b.setPositiveButton("OK",this);
    if (infoTitle != null && infoURL != null) {
      b.setNeutralButton(infoTitle,new DialogInterface.OnClickListener(){
        @Override public void onClick(        DialogInterface dialog,        int which){
          startActivity(new Intent(Intent.ACTION_VIEW,Uri.parse(infoURL)));
        }
      }
);
    }
    b.setMessage(this.getArguments().getString("alert-message"));
    return b.create();
  }
}
