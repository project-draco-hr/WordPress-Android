{
  Blog currentBlog=WordPress.getBlog(localTableBlogID);
  String statsAuthenticatedUser=currentBlog.getDotcom_username();
  String statsAuthenticatedPassword=currentBlog.getDotcom_password();
  if (org.apache.commons.lang.StringUtils.isEmpty(statsAuthenticatedPassword) || org.apache.commons.lang.StringUtils.isEmpty(statsAuthenticatedUser)) {
    SharedPreferences settings=PreferenceManager.getDefaultSharedPreferences(WordPress.getContext());
    statsAuthenticatedUser=settings.getString(WordPress.WPCOM_USERNAME_PREFERENCE,null);
    statsAuthenticatedPassword=WordPressDB.decryptPassword(settings.getString(WordPress.WPCOM_PASSWORD_PREFERENCE,null));
  }
  if (org.apache.commons.lang.StringUtils.isEmpty(statsAuthenticatedPassword) || org.apache.commons.lang.StringUtils.isEmpty(statsAuthenticatedUser)) {
    AppLog.e(AppLog.T.STATS,"WPCOM Credentials for the current blog are null!");
    return null;
  }
  return new StatsCredentials(statsAuthenticatedUser,statsAuthenticatedPassword);
}
