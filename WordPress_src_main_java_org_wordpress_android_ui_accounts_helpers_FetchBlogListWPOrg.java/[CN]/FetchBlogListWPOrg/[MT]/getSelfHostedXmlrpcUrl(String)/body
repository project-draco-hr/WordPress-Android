{
  String xmlrpcUrl;
  url=UrlUtils.convertUrlToPunycodeIfNeeded(url);
  url=UrlUtils.addUrlSchemeIfNeeded(url,false);
  if (!URLUtil.isValidUrl(url)) {
    mErrorMsgId=org.wordpress.android.R.string.invalid_url_message;
    return null;
  }
  String rsdUrl;
  try {
    rsdUrl=UrlUtils.addUrlSchemeIfNeeded(getRsdUrl(url),false);
  }
 catch (  SSLHandshakeException e) {
    if (!UrlUtils.getHost(url).endsWith("wordpress.com")) {
      mErroneousSslCertificate=true;
    }
    AppLog.w(T.NUX,"SSLHandshakeException failed. Erroneous SSL certificate detected.");
    return null;
  }
  try {
    if (rsdUrl != null) {
      xmlrpcUrl=UrlUtils.addUrlSchemeIfNeeded(ApiHelper.getXMLRPCUrl(rsdUrl),false);
      if (xmlrpcUrl == null) {
        xmlrpcUrl=UrlUtils.addUrlSchemeIfNeeded(rsdUrl.replace("?rsd",""),false);
      }
    }
 else {
      xmlrpcUrl=UrlUtils.addUrlSchemeIfNeeded(getXmlrpcByUserEnteredPath(url),false);
    }
  }
 catch (  SSLHandshakeException e) {
    if (!UrlUtils.getHost(url).endsWith("wordpress.com")) {
      mErroneousSslCertificate=true;
    }
    AppLog.w(T.NUX,"SSLHandshakeException failed. Erroneous SSL certificate detected.");
    return null;
  }
  return xmlrpcUrl;
}
