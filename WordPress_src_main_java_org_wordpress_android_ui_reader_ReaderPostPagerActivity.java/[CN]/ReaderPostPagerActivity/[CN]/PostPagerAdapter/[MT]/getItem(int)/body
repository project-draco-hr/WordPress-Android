{
  if (isEndFragmentId(mIdList.get(position))) {
    EndFragmentType fragmentType=(canRequestMostPosts() ? EndFragmentType.LOADING : EndFragmentType.NO_MORE);
    return ReaderPostPagerEndFragment.newInstance(fragmentType);
  }
 else {
    EnumSet<PostDetailOption> options;
    if (mIsSinglePostView) {
      options=EnumSet.of(PostDetailOption.IS_SINGLE_POST);
    }
 else {
      options=EnumSet.noneOf(PostDetailOption.class);
    }
    return ReaderPostDetailFragment.newInstance(mIdList.get(position).getBlogId(),mIdList.get(position).getPostId(),options,getPostListType());
  }
}
