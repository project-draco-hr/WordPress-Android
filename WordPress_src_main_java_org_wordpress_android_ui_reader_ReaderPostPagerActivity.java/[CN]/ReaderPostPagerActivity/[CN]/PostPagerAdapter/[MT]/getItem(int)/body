{
  long blogId=mIdList.get(position).getBlogId();
  long postId=mIdList.get(position).getPostId();
  final Fragment fragment;
  if (blogId == END_FRAGMENT_ID && postId == END_FRAGMENT_ID) {
    fragment=PostPagerEndFragment.newInstance();
  }
 else {
    fragment=ReaderPostDetailFragment.newInstance(blogId,postId,getPostListType());
    if (position > (getCount() - LOAD_MORE_OFFSET) && canRequestMorePosts()) {
      requestMorePosts();
    }
  }
  mFragmentMap.put(getItemKey(position),new WeakReference<Fragment>(fragment));
  return fragment;
}
