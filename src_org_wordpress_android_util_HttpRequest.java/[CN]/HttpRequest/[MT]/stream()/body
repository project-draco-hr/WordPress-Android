{
  InputStream stream;
  if (code() < HTTP_BAD_REQUEST)   try {
    stream=connection.getInputStream();
  }
 catch (  IOException e) {
    throw new HttpRequestException(e);
  }
 else {
    stream=connection.getErrorStream();
    if (stream == null)     try {
      stream=connection.getInputStream();
    }
 catch (    IOException e) {
      throw new HttpRequestException(e);
    }
  }
  if (!uncompress || !ENCODING_GZIP.equals(contentEncoding()))   return stream;
 else   try {
    return new GZIPInputStream(stream);
  }
 catch (  IOException e) {
    throw new HttpRequestException(e);
  }
}
