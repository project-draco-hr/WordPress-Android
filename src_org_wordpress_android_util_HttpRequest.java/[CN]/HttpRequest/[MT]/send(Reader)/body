{
  try {
    openOutput();
  }
 catch (  IOException e) {
    throw new HttpRequestException(e);
  }
  final Writer writer=new OutputStreamWriter(output,output.encoder.charset());
  return new FlushOperation<HttpRequest>(writer){
    @Override protected HttpRequest run() throws IOException {
      return copy(input,writer);
    }
  }
.call();
}
