{
  if (mHttpClient == null) {
    SchemeRegistry schemeRegistry=new SchemeRegistry();
    schemeRegistry.register(new Scheme("http",PlainSocketFactory.getSocketFactory(),80));
    schemeRegistry.register(new Scheme("https",SSLSocketFactory.getSocketFactory(),443));
    HttpParams params=new BasicHttpParams();
    HttpConnectionParams.setTcpNoDelay(params,true);
    HttpConnectionParams.setConnectionTimeout(params,WPRestClient.REST_TIMEOUT_MS);
    HttpProtocolParams.setUserAgent(params,WordPress.getUserAgent());
    HttpProtocolParams.setVersion(params,HttpVersion.HTTP_1_1);
    ConnManagerParams.setMaxConnectionsPerRoute(params,new ConnPerRouteBean(100));
    ConnManagerParams.setMaxTotalConnections(params,100);
    ThreadSafeClientConnManager manager=new ThreadSafeClientConnManager(params,schemeRegistry);
    mHttpClient=new DefaultHttpClient(manager,params);
  }
  return mHttpClient;
}
