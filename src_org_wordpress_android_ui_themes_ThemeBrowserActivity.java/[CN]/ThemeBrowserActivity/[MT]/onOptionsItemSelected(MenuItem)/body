{
  int itemId=item.getItemId();
  if (itemId == android.R.id.home) {
    FragmentManager fm=getSupportFragmentManager();
    if (fm.getBackStackEntryCount() > 0) {
      fm.popBackStack();
      setupBaseLayout();
      return true;
    }
  }
 else   if (itemId == R.id.menu_refresh) {
    fetchThemes();
    return true;
  }
 else   if (itemId == R.id.menu_search) {
    FragmentTransaction ft=getSupportFragmentManager().beginTransaction();
    if (mSearchFragment == null) {
      mSearchFragment=ThemeSearchFragment.newInstance();
    }
    ft.add(R.id.theme_browser_container,mSearchFragment,ThemeSearchFragment.TAG);
    ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE);
    ft.addToBackStack(null);
    ft.commit();
    return true;
  }
  return super.onOptionsItemSelected(item);
}
