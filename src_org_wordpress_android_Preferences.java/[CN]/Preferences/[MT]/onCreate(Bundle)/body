{
  super.onCreate(icicle);
  setTitle(getResources().getText(R.string.preferences));
  if (WordPress.currentBlog == null) {
    try {
      WordPress.currentBlog=new Blog(WordPress.wpDB.getLastBlogId());
    }
 catch (    Exception e) {
      Toast.makeText(this,getResources().getText(R.string.blog_not_found),Toast.LENGTH_SHORT).show();
      finish();
    }
  }
  addPreferencesFromResource(R.xml.preferences);
  preferenceChangeListener=new OnPreferenceChangeListener(){
    @Override public boolean onPreferenceChange(    Preference preference,    Object newValue){
      preference.setSummary(newValue.toString());
      return true;
    }
  }
;
  notificationIntervalPreference=(ListPreference)findPreference("wp_pref_notifications_interval");
  notificationIntervalPreference.setOnPreferenceChangeListener(preferenceChangeListener);
  taglineTextPreference=(EditTextPreference)findPreference("wp_pref_post_signature");
  taglineTextPreference.setOnPreferenceChangeListener(preferenceChangeListener);
  displayPreferences();
}
