{
  StatsRestRequestAbstractListener listener=new StatsRestRequestAbstractListener(){
    @Override void parseResponse(    JSONObject response) throws JSONException {
      TopPostsAndPagesModel model=new TopPostsAndPagesModel("123456",response);
      assertNotNull(model.getTopPostsAndPages());
      assertEquals(model.getTopPostsAndPages().size(),10);
      assertEquals(model.getTopPostsAndPages().get(0).getItemID(),"39806");
      assertEquals(model.getTopPostsAndPages().get(0).getTotals(),2420);
      assertEquals(model.getTopPostsAndPages().get(0).getTitle(),"Home");
      assertEquals(model.getTopPostsAndPages().get(0).getUrl(),"http://automattic.com/home/");
      assertEquals(model.getTopPostsAndPages().get(0).getDate(),StatsUtils.toMs("2011-08-30 21:47:38"));
      assertEquals(model.getTopPostsAndPages().get(0).getPostType(),"page");
      assertEquals(model.getTopPostsAndPages().get(9).getItemID(),"39254");
      assertEquals(model.getTopPostsAndPages().get(9).getTotals(),56);
      assertEquals(model.getTopPostsAndPages().get(9).getTitle(),"Growth Explorer");
      assertEquals(model.getTopPostsAndPages().get(9).getUrl(),"http://automattic.com/work-with-us/growth-explorer/");
      assertEquals(model.getTopPostsAndPages().get(9).getDate(),StatsUtils.toMs("2011-08-25 19:37:27"));
      assertEquals(model.getTopPostsAndPages().get(9).getPostType(),"page");
    }
  }
;
  mRestClient.makeRequest(Request.Method.POST,"https://public-api.wordpress.com/rest/v1.1/sites/123456/stats/top-posts",null,listener,errListener);
}
