{
  if (WordPress.getCurrentBlog() == null)   return;
  if (offset == 0 || !mIsRefreshing) {
    mIsRefreshing=true;
    mListener.onMediaItemListDownloadStart();
    List<Object> apiArgs=new ArrayList<Object>();
    apiArgs.add(WordPress.getCurrentBlog());
    Callback callback=new Callback(){
      @Override public void onSuccess(      int count){
        MediaGridAdapter adapter=(MediaGridAdapter)mGridView.getAdapter();
        mHasRetrievedAllMedia=(count == 0);
        adapter.setHasRetrieviedAll(mHasRetrievedAllMedia);
        mIsRefreshing=false;
        if (MediaGridFragment.this.isVisible()) {
          Toast.makeText(getActivity(),"Refreshed content",Toast.LENGTH_SHORT).show();
          refreshSpinnerAdapter();
          setFilter(mFilter);
          if (!auto)           mGridView.post(new Runnable(){
            @Override public void run(){
              mGridView.setSelection(0);
            }
          }
);
        }
        mListener.onMediaItemListDownloaded();
      }
      @Override public void onFailure(){
        mIsRefreshing=false;
        if (MediaGridFragment.this.isVisible()) {
          Toast.makeText(getActivity(),"Failed to refresh content",Toast.LENGTH_SHORT).show();
        }
        mListener.onMediaItemListDownloaded();
      }
    }
;
    ApiHelper.SyncMediaLibraryTask getMediaTask=new ApiHelper.SyncMediaLibraryTask(offset,mFilter,callback);
    getMediaTask.execute(apiArgs);
  }
}
