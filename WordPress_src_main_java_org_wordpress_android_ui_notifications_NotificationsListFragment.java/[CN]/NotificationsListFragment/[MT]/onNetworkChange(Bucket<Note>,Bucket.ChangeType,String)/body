{
  if (type == Bucket.ChangeType.MODIFY) {
    try {
      Note note=bucket.get(key);
      if (note.isCommentType()) {
        note.setLocalStatus(null);
        note.save();
      }
      final int position=mNotesAdapter.getPositionForNote(key);
      if (position >= 0) {
        getActivity().runOnUiThread(new Runnable(){
          @Override public void run(){
            mNotesAdapter.notifyItemChanged(position);
          }
        }
);
      }
 else {
        refreshNotes();
      }
      return;
    }
 catch (    BucketObjectMissingException e) {
      AppLog.e(AppLog.T.NOTIFS,"Could not create note after receiving change.");
    }
  }
 else   if (type == Bucket.ChangeType.REMOVE) {
    final int position=mNotesAdapter.getPositionForNote(key);
    if (position >= 0) {
      getActivity().runOnUiThread(new Runnable(){
        @Override public void run(){
          mNotesAdapter.notifyItemRemoved(position);
        }
      }
);
    }
 else {
      refreshNotes();
    }
    return;
  }
  refreshNotes();
}
