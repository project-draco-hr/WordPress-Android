{
  super.onActivityResult(requestCode,resultCode,data);
  if (data != null || requestCode == RequestCodes.ACTIVITY_REQUEST_CODE_TAKE_PHOTO || requestCode == RequestCodes.ACTIVITY_REQUEST_CODE_TAKE_VIDEO) {
    String path;
switch (requestCode) {
case RequestCodes.ACTIVITY_REQUEST_CODE_PICTURE_LIBRARY:
case RequestCodes.ACTIVITY_REQUEST_CODE_VIDEO_LIBRARY:
      Uri imageUri=data.getData();
    fetchMedia(imageUri);
  break;
case RequestCodes.ACTIVITY_REQUEST_CODE_TAKE_PHOTO:
if (resultCode == Activity.RESULT_OK) {
  path=mMediaCapturePath;
  mMediaCapturePath=null;
  queueFileForUpload(path);
}
break;
case RequestCodes.ACTIVITY_REQUEST_CODE_TAKE_VIDEO:
if (resultCode == Activity.RESULT_OK) {
path=getRealPathFromURI(MediaUtils.getLastRecordedVideoUri(getActivity()));
queueFileForUpload(path);
}
break;
}
}
}
