{
  if (mSetupBlog.isErroneousSslCertificates() && isAdded()) {
    askForSslTrust();
    return;
  }
  if (mSetupBlog.isHttpAuthRequired() && isAdded()) {
    httpAuthRequired();
    return;
  }
  if (userBlogList == null && mErrorMsgId != 0 && isAdded()) {
    signInError();
    return;
  }
  Map<String,Boolean> properties=new HashMap<String,Boolean>();
  properties.put("dotcom_user",mSetupBlog.isDotComBlog());
  AnalyticsTracker.track(AnalyticsTracker.Stat.SIGNED_IN,properties);
  refreshFirstBlogContent(userBlogList);
  if (mSelfHosted) {
    AnalyticsTracker.track(AnalyticsTracker.Stat.ADDED_SELF_HOSTED_SITE);
  }
  if (mSetupBlog.getXmlrpcUrl() != null && mSetupBlog.getXmlrpcUrl().contains("wordpress.com")) {
    SharedPreferences settings=PreferenceManager.getDefaultSharedPreferences(WordPress.getContext());
    SharedPreferences.Editor editor=settings.edit();
    editor.putString(WordPress.WPCOM_USERNAME_PREFERENCE,mSetupBlog.getUsername());
    editor.putString(WordPress.WPCOM_PASSWORD_PREFERENCE,WordPressDB.encryptPassword(mSetupBlog.getPassword()));
    editor.commit();
    WordPress.getRestClientUtils().get("me",new RestRequest.Listener(){
      @Override public void onResponse(      JSONObject jsonObject){
        ReaderUserActions.setCurrentUser(jsonObject);
      }
    }
,null);
  }
  AnalyticsTracker.refreshMetadata();
  if (!mSelfHosted) {
    ReaderTagActions.updateTags(null);
  }
  if (userBlogList != null) {
    if (getActivity() != null) {
      getActivity().setResult(Activity.RESULT_OK);
      getActivity().finish();
    }
  }
 else {
    endProgress();
  }
}
