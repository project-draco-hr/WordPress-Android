{
  if (mustPingPushNotificationsBackend()) {
    if (WordPress.hasValidWPComCredentials(mContext)) {
      String token=null;
      try {
        GCMRegistrar.checkDevice(mContext);
        GCMRegistrar.checkManifest(mContext);
        token=GCMRegistrar.getRegistrationId(mContext);
        String gcmId=Config.GCM_ID;
        if (gcmId == null || token == null || token.equals("")) {
          Log.e("WORDPRESS","Could not ping the PNs backend, Token or gmcID not found");
          return;
        }
 else {
          NotificationUtils.registerPushNotificationsToken(mContext,token,false);
        }
      }
 catch (      Exception e) {
        Log.e("WORDPRESS","Could not ping the PNs backend: " + e.getMessage());
      }
    }
  }
}
