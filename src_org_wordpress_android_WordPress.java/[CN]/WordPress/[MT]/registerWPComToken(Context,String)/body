{
  SharedPreferences settings=PreferenceManager.getDefaultSharedPreferences(ctx);
  String uuid=settings.getString("wp_pref_notifications_uuid",null);
  if (uuid == null)   return;
  String deviceName=DeviceUtils.getInstance().getDeviceName(ctx);
  Object[] params={settings.getString(WPCOM_USERNAME_PREFERENCE,""),WordPressDB.decryptPassword(settings.getString(WPCOM_PASSWORD_PREFERENCE,"")),token,uuid,"android",false,deviceName};
  XMLRPCClient client=new XMLRPCClient(URI.create(Constants.wpcomXMLRPCURL),"","");
  client.callAsync(new XMLRPCCallback(){
    public void onSuccess(    long id,    Object result){
      Log.v("WORDPRESS","Successfully registered device on WP.com");
      new WPComXMLRPCApi().getNotificationSettings(null,ctx);
    }
    public void onFailure(    long id,    XMLRPCException error){
      Log.e("WORDPRESS",error.getMessage());
    }
  }
,"wpcom.mobile_push_register_token",params);
}
