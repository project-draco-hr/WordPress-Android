{
  String regId=gcmRegisterIfNot(context);
  if (WordPress.hasValidWPComCredentials(context)) {
    try {
      if (!TextUtils.isEmpty(regId)) {
        NotificationUtils.registerDeviceForPushNotifications(context,regId);
        AppLog.v(T.NOTIFS,"Already registered for GCM");
      }
    }
 catch (    Exception e) {
      AppLog.e(T.NOTIFS,"Could not register for GCM: " + e.getMessage());
    }
  }
  if (ABTestingUtils.isFeatureEnabled(Feature.HELPSHIFT)) {
    HelpshiftHelper.getInstance().registerDeviceToken(context,regId);
  }
}
