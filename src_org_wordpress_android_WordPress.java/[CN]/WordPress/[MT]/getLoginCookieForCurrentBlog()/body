{
  final Blog blog=WordPress.getCurrentBlog();
  if (blog == null)   return;
  clearCookieStore();
  new AsyncTask<Void,Void,Void>(){
    @Override protected Void doInBackground(    Void... p){
      HttpClient httpclient=new DefaultHttpClient();
      try {
        HttpContext localContext=new BasicHttpContext();
        localContext.setAttribute(ClientContext.COOKIE_STORE,mCookieStore);
        String url=getLoginUrl(blog);
        HttpPost post=new HttpPost(url);
        HttpParams httpParams=new BasicHttpParams();
        httpParams.setParameter("http.protocol.handle-redirects",false);
        post.setParams(httpParams);
        List<NameValuePair> params=new ArrayList<NameValuePair>(2);
        params.add(new BasicNameValuePair("log",blog.getUsername()));
        params.add(new BasicNameValuePair("pwd",blog.getPassword()));
        post.setEntity(new UrlEncodedFormEntity(params,"UTF-8"));
        httpclient.execute(post,localContext);
      }
 catch (      ClientProtocolException e) {
        e.printStackTrace();
      }
catch (      IOException e) {
        e.printStackTrace();
      }
 finally {
        httpclient.getConnectionManager().shutdown();
      }
      return null;
    }
  }
.execute();
}
