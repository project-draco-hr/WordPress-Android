{
  versionName=getVersionName();
  initWpDb();
  wpStatsDB=new WordPressStatsDB(this);
  mContext=this;
  requestQueue=Volley.newRequestQueue(this,getHttpClientStack());
  imageLoader=new ImageLoader(requestQueue,getBitmapCache());
  VolleyLog.setTag(TAG);
  imageLoader.setBatchedResponseDelay(0);
  SharedPreferences settings=PreferenceManager.getDefaultSharedPreferences(this);
  if (settings.getInt("wp_pref_last_activity",-1) >= 0) {
    shouldRestoreSelectedActivity=true;
  }
  registerForCloudMessaging(this);
  AppLockManager.getInstance().enableDefaultAppLockIfAvailable(this);
  if (AppLockManager.getInstance().isAppLockFeatureEnabled()) {
    AppLockManager.getInstance().getCurrentAppLock().setDisabledActivities(new String[]{"org.wordpress.android.ui.ShareIntentReceiverActivity"});
  }
  WPMobileStatsUtil.initialize();
  WPMobileStatsUtil.trackEventForWPCom(WPMobileStatsUtil.StatsEventAppOpened);
  super.onCreate();
  if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.ICE_CREAM_SANDWICH) {
    PushNotificationsBackendMonitor pnBackendMponitor=new PushNotificationsBackendMonitor();
    registerComponentCallbacks(pnBackendMponitor);
    registerActivityLifecycleCallbacks(pnBackendMponitor);
  }
  if (NotificationUtils.getAppPushNotificationsName().equals("org.wordpress.android.beta.build")) {
    AppLog.enableRecording(true);
  }
}
