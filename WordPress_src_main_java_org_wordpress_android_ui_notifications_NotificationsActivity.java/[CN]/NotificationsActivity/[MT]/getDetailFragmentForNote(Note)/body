{
  if (note == null)   return null;
  Fragment fragment;
  if (note.isCommentType()) {
    CommentDetailFragment commentDetailFragment=CommentDetailFragment.newInstance(note);
    if (!TextUtils.isEmpty(mRestoredReplyText)) {
      commentDetailFragment.setRestoredReplyText(mRestoredReplyText);
    }
    fragment=commentDetailFragment;
  }
 else   if (note.isAutomattcherType()) {
    boolean isPost=(note.getSiteId() != 0 && note.getPostId() != 0 && note.getCommentId() == 0);
    if (isPost) {
      fragment=ReaderPostDetailFragment.newInstance(note.getSiteId(),note.getPostId());
    }
 else {
      fragment=NotificationsDetailListFragment.newInstance(note);
    }
  }
 else {
    fragment=NotificationsDetailListFragment.newInstance(note);
  }
  return fragment;
}
