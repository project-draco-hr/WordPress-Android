{
  if (note == null || isFinishing() || isActivityDestroyed()) {
    return;
  }
  mSelectedNoteId=note.getId();
  if (note.isUnread()) {
    note.markAsRead();
  }
  mDetailFragment=getDetailFragmentForNote(note);
  FragmentManager fm=getFragmentManager();
  FragmentTransaction ft=fm.beginTransaction();
  ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE);
  ft.hide(mNotesListFragment);
  ft.add(R.id.layout_fragment_container,mDetailFragment);
  ft.addToBackStack(null);
  ft.commitAllowingStateLoss();
  if (note.getFormattedSubject() != null) {
    setTitle(note.getTitle());
  }
  AnalyticsTracker.track(AnalyticsTracker.Stat.NOTIFICATIONS_OPENED_NOTIFICATION_DETAILS);
}
