{
  super.onCreate(null);
  createMenuDrawer(R.layout.notifications_activity);
  if (savedInstanceState == null) {
    AnalyticsTracker.track(AnalyticsTracker.Stat.NOTIFICATIONS_ACCESSED);
  }
  FragmentManager fragmentManager=getFragmentManager();
  if (mNotesListFragment == null) {
    mNotesListFragment=(NotificationsListFragment)fragmentManager.findFragmentByTag(TAG_LIST_VIEW);
  }
  ActionBar actionBar=getActionBar();
  if (actionBar != null) {
    actionBar.setDisplayShowTitleEnabled(true);
  }
  setTitle(getResources().getString(R.string.notifications));
  fragmentManager.addOnBackStackChangedListener(mOnBackStackChangedListener);
  mNotesListFragment.setOnNoteClickListener(new NoteClickListener());
  GCMIntentService.clearNotificationsMap();
  if (savedInstanceState != null) {
    mHasPerformedInitialUpdate=savedInstanceState.getBoolean(KEY_INITIAL_UPDATE);
    if (getIntent().hasExtra(NOTE_ID_EXTRA)) {
      launchWithNoteId();
    }
 else     if (savedInstanceState.getString(NOTE_ID_EXTRA) != null) {
      openNoteForNoteId(savedInstanceState.getString(NOTE_ID_EXTRA));
    }
  }
 else {
    launchWithNoteId();
  }
  getWindow().setBackgroundDrawable(null);
  if (SimperiumUtils.isUserNotAuthorized()) {
    AuthenticationDialogUtils.showAuthErrorDialog(this,R.string.sign_in_again,R.string.simperium_connection_error);
  }
}
