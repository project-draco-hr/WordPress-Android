{
  settingsDB settingsDB=new settingsDB(this);
  accounts=settingsDB.getAccounts(this);
  if (accounts.size() > 0) {
    checkStats(accounts.size());
    ScrollView sv=new ScrollView(this);
    sv.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.WRAP_CONTENT));
    sv.setBackgroundColor(Color.parseColor("#e8e8e8"));
    LinearLayout layout=new LinearLayout(this);
    layout.setPadding(10,10,10,0);
    layout.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.WRAP_CONTENT));
    layout.setOrientation(LinearLayout.VERTICAL);
    for (int i=0; i < accounts.size(); i++) {
      HashMap curHash=(HashMap)accounts.get(i);
      String curBlogName=curHash.get("blogName").toString();
      String curUsername=curHash.get("username").toString();
      String accountID=curHash.get("id").toString();
      accountNames.add(i,curBlogName);
      layout.setBackgroundColor(Color.parseColor("#e8e8e8"));
      final customButton buttonView=new customButton(this);
      buttonView.setTextColor(Color.parseColor("#444444"));
      buttonView.setTextSize(18);
      buttonView.setText(escapeUtils.unescapeHtml(curBlogName) + "\n" + "("+ curUsername+ ")");
      buttonView.setId(i);
      LinearLayout.LayoutParams params=new LinearLayout.LayoutParams(LinearLayout.LayoutParams.FILL_PARENT,LinearLayout.LayoutParams.WRAP_CONTENT);
      buttonView.setLayoutParams(params);
      buttonView.setOnClickListener(new customButton.OnClickListener(){
        public void onClick(        View v){
          for (int i=0; i < accounts.size(); i++) {
            HashMap btnHash=(HashMap)accounts.get(i);
            String btnText=buttonView.getText().toString();
            if (i == buttonView.getId()) {
              Bundle bundle=new Bundle();
              bundle.putString("accountName",accountNames.get(i).toString());
              bundle.putString("id",btnHash.get("id").toString());
              Intent viewPostsIntent=new Intent(wpAndroid.this,tabView.class);
              viewPostsIntent.putExtras(bundle);
              startActivityForResult(viewPostsIntent,1);
            }
          }
        }
      }
);
      buttonView.setOnCreateContextMenuListener(new OnCreateContextMenuListener(){
        public void onCreateContextMenu(        ContextMenu menu,        View v,        ContextMenuInfo menuInfo){
          for (int i=0; i < accounts.size(); i++) {
            HashMap btnHash=(HashMap)accounts.get(i);
            String btnText=buttonView.getText().toString();
            if (i == buttonView.getId()) {
              selectedID=btnHash.get("id").toString();
            }
          }
          menu.add(0,0,0,getResources().getText(R.string.remove_account));
        }
      }
);
      layout.addView(buttonView);
    }
    TextView textView=new TextView(this);
    textView.setTextColor(Color.parseColor("#444444"));
    textView.setTextSize(12);
    textView.setPadding(0,20,0,0);
    textView.setGravity(Gravity.CENTER_HORIZONTAL);
    textView.setText(R.string.hint_menu_to_add_acc);
    layout.addView(textView);
    sv.addView(layout);
    setContentView(sv);
  }
 else {
    Intent i=new Intent(wpAndroid.this,newAccount.class);
    startActivityForResult(i,0);
  }
}
