{
  View pv=convertView;
  ViewWrapper wrapper=null;
  if (pv == null) {
    LayoutInflater inflater=getLayoutInflater();
    pv=inflater.inflate(R.layout.row_post_page,parent,false);
    wrapper=new ViewWrapper(pv);
    pv.setTag(wrapper);
    wrapper=new ViewWrapper(pv);
    pv.setTag(wrapper);
  }
 else {
    wrapper=(ViewWrapper)pv.getTag();
  }
  String date=dateCreatedFormatted[position];
  if (date.equals("postsHeader") || date.equals("draftsHeader")) {
    pv.setBackgroundDrawable(getResources().getDrawable(R.drawable.list_header_bg));
    wrapper.getTitle().setTextColor(Color.parseColor("#EEEEEE"));
    wrapper.getTitle().setShadowLayer(1,1,1,Color.parseColor("#444444"));
    wrapper.getDate().setHeight(0);
    if (date.equals("draftsHeader")) {
      inDrafts=true;
      date="";
    }
 else     if (date.equals("postsHeader")) {
      inDrafts=false;
      date="";
    }
  }
 else {
    pv.setBackgroundDrawable(getResources().getDrawable(R.drawable.list_bg_selector));
    wrapper.getTitle().setTextColor(Color.parseColor("#444444"));
    wrapper.getTitle().setShadowLayer(0,0,0,Color.parseColor("#444444"));
    wrapper.getDate().setTextColor(Color.parseColor("#888888"));
    pv.setId(Integer.valueOf(postIDs[position]));
    if (wrapper.getDate().getHeight() == 0) {
      wrapper.getDate().setHeight((int)wrapper.getTitle().getTextSize() + wrapper.getDate().getPaddingBottom());
    }
    String customDate=date;
    if (customDate.equals("1")) {
      customDate="Publish: Yes";
      wrapper.getDate().setTextColor(Color.parseColor("#006505"));
    }
 else     if (customDate.equals("0")) {
      customDate="Publish: No";
    }
    date=customDate;
  }
  wrapper.getTitle().setText(titles[position]);
  wrapper.getDate().setText(date);
  return pv;
}
