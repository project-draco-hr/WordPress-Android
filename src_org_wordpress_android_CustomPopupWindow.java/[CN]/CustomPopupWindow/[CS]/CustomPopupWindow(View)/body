{
  this.anchor=anchor;
  this.window=new PopupWindow(anchor.getContext());
  window.setTouchInterceptor(new OnTouchListener(){
    public boolean onTouch(    View v,    MotionEvent event){
      if (event.getAction() == MotionEvent.ACTION_OUTSIDE) {
        CustomPopupWindow.this.window.dismiss();
        return true;
      }
      return false;
    }
  }
);
  windowManager=(WindowManager)anchor.getContext().getSystemService(Context.WINDOW_SERVICE);
  onCreate();
}
