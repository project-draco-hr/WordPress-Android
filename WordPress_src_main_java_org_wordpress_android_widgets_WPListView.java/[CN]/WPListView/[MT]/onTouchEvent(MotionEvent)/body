{
  if (mScrollDirectionListener != null) {
    int action=event.getAction() & MotionEvent.ACTION_MASK;
switch (action) {
case MotionEvent.ACTION_MOVE:
      if (mIsMoving) {
        int yDiff=(int)(event.getY() - mLastMotionY);
        if (yDiff < 0) {
          mScrollDirectionListener.onScrollDown();
        }
 else         if (yDiff > 0) {
          mScrollDirectionListener.onScrollUp();
        }
        mLastMotionY=event.getY();
      }
 else {
        mIsMoving=true;
        mLastMotionY=event.getY();
      }
    break;
case MotionEvent.ACTION_UP:
  if (mIsMoving) {
    mIsMoving=false;
    startScrollCheck();
  }
break;
default :
mIsMoving=false;
break;
}
}
return super.onTouchEvent(event);
}
