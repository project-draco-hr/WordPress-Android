{
  super.onCreate(icicle);
  setContentView(R.layout.viewposts);
  Bundle extras=getIntent().getExtras();
  String action=null;
  if (extras != null) {
    id=extras.getString("id");
    accountName=extras.getString("accountName");
    isPage=extras.getBoolean("viewPages");
    action=extras.getString("action");
  }
  createSwitcher();
  if (action != null && !isPage) {
    if (action.equals("upload")) {
      selectedID=extras.getInt("uploadID");
      showDialog(ID_DIALOG_POSTING);
      new Thread(){
        public void run(){
          try {
            submitResult=submitPost();
          }
 catch (          IOException e) {
            e.printStackTrace();
          }
        }
      }
.start();
    }
 else {
      boolean loadedPosts=loadPosts(false);
      if (!loadedPosts) {
        refreshPosts(false);
      }
    }
  }
 else {
    boolean loadedPosts=loadPosts(false);
    if (!loadedPosts) {
      refreshPosts(false);
    }
  }
  Display display=getWindowManager().getDefaultDisplay();
  int width=display.getWidth();
  int height=display.getHeight();
  if (width > 480 || height > 480) {
    largeScreen=true;
  }
  final ImageButton addNewPost=(ImageButton)findViewById(R.id.newPost);
  addNewPost.setOnClickListener(new ImageButton.OnClickListener(){
    public void onClick(    View v){
      Intent i=new Intent(viewPosts.this,newPost.class);
      i.putExtra("accountName",accountName);
      i.putExtra("id",id);
      if (isPage) {
        i.putExtra("isPage",true);
      }
      startActivityForResult(i,0);
    }
  }
);
  final ImageButton refresh=(ImageButton)findViewById(R.id.refresh);
  refresh.setOnClickListener(new ImageButton.OnClickListener(){
    public void onClick(    View v){
      refreshPosts(false);
    }
  }
);
}
