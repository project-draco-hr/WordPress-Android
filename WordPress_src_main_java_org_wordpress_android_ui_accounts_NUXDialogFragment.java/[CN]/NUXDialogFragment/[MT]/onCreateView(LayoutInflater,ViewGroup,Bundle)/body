{
  getDialog().getWindow().setBackgroundDrawable(getResources().getDrawable(R.color.nux_alert_bg));
  View v=inflater.inflate(R.layout.nux_dialog_fragment,container,false);
  mImageView=(ImageView)v.findViewById(R.id.nux_dialog_image);
  mTitleTextView=(WPTextView)v.findViewById(R.id.nux_dialog_title);
  mDescriptionTextView=(WPTextView)v.findViewById(R.id.nux_dialog_description);
  mFooterOneButton=(WPTextView)v.findViewById(R.id.nux_dialog_footer_1_button);
  mFooterTwoButtons=(RelativeLayout)v.findViewById(R.id.nux_dialog_footer_2_buttons);
  mFooterRightButton=(WPTextView)v.findViewById(R.id.nux_dialog_get_started_button);
  mFooterLeftButton=(WPTextView)v.findViewById(R.id.nux_dialog_learn_more_button);
  final Bundle args=getArguments();
  mTitleTextView.setText(args.getString(ARG_TITLE));
  mDescriptionTextView.setText(args.getString(ARG_DESCRIPTION));
  mFooterOneButton.setText(args.getString(ARG_FOOTER));
  mImageView.setImageResource(args.getInt(ARG_IMAGE));
  if (args.getBoolean(ARG_TWO_BUTTONS)) {
    mFooterOneButton.setVisibility(View.GONE);
    mFooterTwoButtons.setVisibility(View.VISIBLE);
    mFooterRightButton.setText(args.getString(ARG_SECOND_BUTTON_LABEL));
  }
  View.OnClickListener clickListenerDismiss=new View.OnClickListener(){
    @Override public void onClick(    View v){
      dismissAllowingStateLoss();
    }
  }
;
  final int action=args.getInt(ARG_SECOND_BUTTON_ACTION,0);
  final String param=args.getString(ARG_SECOND_BUTTON_PARAM);
  View.OnClickListener clickListenerFinish=new View.OnClickListener(){
    @Override public void onClick(    View v){
      if (action == ACTION_FINISH) {
        getActivity().finish();
      }
      if (action == ACTION_OPEN_URL) {
        Intent intent=new Intent(Intent.ACTION_VIEW,Uri.parse(param));
        startActivity(intent);
        dismissAllowingStateLoss();
      }
      if (action == ACTION_OPEN_SUPPORT_CHAT) {
        if (!isAdded()) {
          return;
        }
        Activity activity=getActivity();
        HelpshiftHelper.getInstance().addMetaData(MetadataKey.USER_ENTERED_URL,args.getString(WelcomeFragmentSignIn.ENTERED_URL_KEY));
        HelpshiftHelper.getInstance().addMetaData(MetadataKey.USER_ENTERED_USERNAME,args.getString(WelcomeFragmentSignIn.ENTERED_USERNAME_KEY));
        HelpshiftHelper.getInstance().showConversation(activity);
        dismissAllowingStateLoss();
      }
    }
  }
;
  v.setClickable(true);
  v.setOnClickListener(clickListenerDismiss);
  mFooterOneButton.setOnClickListener(clickListenerDismiss);
  mFooterLeftButton.setOnClickListener(clickListenerDismiss);
  mFooterRightButton.setOnClickListener(clickListenerFinish);
  return v;
}
