{
  if (object == null)   return null;
  String themeId=object.getString("id");
  String screenshotURL=object.getString("screenshot");
  String name=object.getString("name");
  String description=object.getString("description");
  int trendingRank=object.getInt("trending_rank");
  int popularityRank=object.getInt("popularity_rank");
  String launchDate=object.getString("launch_date");
  String previewURL=object.has("preview_url") ? object.getString("preview_url") : "";
  JSONObject costObject=object.getJSONObject("cost");
  boolean isPremium=costObject.getInt("number") > 0;
  String blogId=String.valueOf(WordPress.getCurrentBlog().getRemoteBlogId());
  StringBuilder sbFeatures=new StringBuilder();
  JSONArray tags=object.optJSONArray("tags");
  if (tags != null && tags.length() > 0) {
    boolean isFirst=true;
    for (int i=0; i < tags.length(); i++) {
      String label=ThemeHelper.getLabel(tags.getString(i));
      if (!TextUtils.isEmpty(label)) {
        if (isFirst) {
          isFirst=false;
        }
 else {
          sbFeatures.append(",");
        }
        sbFeatures.append(label);
      }
    }
  }
  String features=sbFeatures.toString();
  return new Theme(themeId,screenshotURL,name,description,trendingRank,popularityRank,launchDate,blogId,previewURL,isPremium,features);
}
