{
  ComponentName thisWidget=new ComponentName(context,StatsWidgetProvider.class);
  int[] allWidgetIds=appWidgetManager.getAppWidgetIds(thisWidget);
  for (  int widgetId : allWidgetIds) {
    RemoteViews remoteViews=new RemoteViews(context.getPackageName(),R.layout.stats_widget_layout);
    remoteViews.setViewVisibility(R.id.stats_widget_error_container,View.VISIBLE);
    remoteViews.setViewVisibility(R.id.stats_widget_values_container,View.GONE);
    remoteViews.setTextViewText(R.id.stats_widget_error_text,errorMessage);
    appWidgetManager.updateAppWidget(widgetId,remoteViews);
  }
}
