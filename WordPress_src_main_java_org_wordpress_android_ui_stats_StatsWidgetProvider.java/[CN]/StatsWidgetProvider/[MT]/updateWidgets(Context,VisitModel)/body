{
  AppWidgetManager appWidgetManager=AppWidgetManager.getInstance(context);
  AppLog.d(AppLog.T.STATS,"updateWidgets called");
  Blog primaryBlog=checkLoggedAndPrimaryBlog(context,appWidgetManager);
  if (primaryBlog == null) {
    return;
  }
  if (Integer.parseInt(data.getBlogID()) != primaryBlog.getRemoteBlogId()) {
    AppLog.w(AppLog.T.STATS,"Widget received stats data that doesn't belong to the primary blog!!!");
    return;
  }
  updateUI(context,appWidgetManager,primaryBlog,String.valueOf(data.getViews()),String.valueOf(data.getVisitors()));
  String currentDate=StatsUtils.getCurrentDateTZ(primaryBlog.getLocalTableBlogId());
  String prefString=data.getBlogID() + ";" + currentDate+ ";"+ data.getViews()+ ";"+ data.getVisitors()+ ";"+ data.getComments()+ ";"+ data.getLikes();
  AppPrefs.setStatsWidgetData(prefString);
}
