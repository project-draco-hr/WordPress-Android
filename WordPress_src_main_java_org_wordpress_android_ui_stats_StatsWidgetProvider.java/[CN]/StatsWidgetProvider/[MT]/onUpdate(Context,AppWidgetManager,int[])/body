{
  AppLog.d(AppLog.T.STATS,"onUpdate called");
  Blog primaryBlog=checkLoggedAndPrimaryBlog(context,appWidgetManager);
  if (primaryBlog == null) {
    return;
  }
  String currentDate=StatsUtils.getCurrentDateTZ(primaryBlog.getLocalTableBlogId());
  JSONObject prevData=getCachedStatsData(primaryBlog,currentDate);
  if (prevData != null) {
    showStatsData(context,appWidgetManager,primaryBlog,prevData);
  }
 else {
    showMessage(context,appWidgetManager,context.getString(R.string.stats_widget_loading_data));
  }
  enqueueStatsRequestForBlog(context,String.valueOf(primaryBlog.getRemoteBlogId()),currentDate);
}
