{
  AppLog.d(AppLog.T.STATS,"setupNewWidget called");
  Blog blog=WordPress.getBlog(localBlogID);
  if (blog == null) {
    AppLog.e(AppLog.T.STATS,"setupNewWidget: No blog found in the db!");
    return;
  }
  String remoteBlogID=StatsUtils.getBlogId(localBlogID);
  String prevWidgetKeysString=AppPrefs.getStatsWidgetsKeys();
  JSONObject prevKeys=null;
  if (!StringUtils.isEmpty(prevWidgetKeysString)) {
    try {
      prevKeys=new JSONObject(prevWidgetKeysString);
    }
 catch (    JSONException e) {
      AppLog.e(AppLog.T.STATS,e);
    }
  }
  try {
    if (prevKeys == null) {
      prevKeys=new JSONObject();
    }
    prevKeys.put(String.valueOf(widgetID),remoteBlogID);
    AppPrefs.setStatsWidgetsKeys(prevKeys.toString());
  }
 catch (  JSONException e) {
    AppLog.e(AppLog.T.STATS,e);
  }
  String currentDate=StatsUtils.getCurrentDateTZ(localBlogID);
  JSONObject cache=getCacheDataForBlog(Integer.parseInt(remoteBlogID),currentDate);
  if (cache != null) {
    showStatsData(context,new int[]{widgetID},blog,cache);
  }
 else {
    if (!NetworkUtils.isNetworkAvailable(context)) {
      showMessage(context,new int[]{widgetID},context.getString(R.string.stats_widget_loading_data));
    }
 else {
      enqueueStatsRequestForBlog(context,remoteBlogID,currentDate);
    }
  }
}
